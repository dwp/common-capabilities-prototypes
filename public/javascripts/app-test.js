(function(t){function e(e){for(var n,o,s=e[0],u=e[1],c=e[2],g=0,b=[];g<s.length;g++)o=s[g],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&b.push(r[o][0]),r[o]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(t[n]=u[n]);l&&l(e);while(b.length)b.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,s=1;s<a.length;s++){var u=a[s];0!==r[u]&&(n=!1)}n&&(i.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},r={app:0},i=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/tasks-admin-ui/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var l=u;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0697":function(t,e,a){function n(t,e){var a=[];return t&&Object.keys(t).forEach((function(n){Object.keys(t[n]).forEach((function(r){a.push({orgUnit:e[n],name:r,value:t[n][r],orgUnitName:n})}))})),a}a("4160"),a("d3b7"),a("159b"),a("b64b"),t.exports={buildAgentAttributes:n}},2664:function(t,e,a){},"37ea":function(t,e,a){"use strict";a("2664")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("7a23");function r(t,e,a,r,i,o){var s=Object(n["z"])("app-header"),u=Object(n["z"])("router-view"),c=Object(n["z"])("app-footer");return Object(n["u"])(),Object(n["f"])(n["a"],null,[Object(n["j"])(s),Object(n["j"])(u),Object(n["j"])(c)],64)}var i=Object(n["g"])("a",{href:"#main-content",class:"govuk-skip-link","data-module":"govuk-skip-link"},"Skip to main content",-1),o={class:"govuk-header",role:"banner","data-module":"govuk-header"},s={class:"govuk-header__container govuk-width-container"},u={class:"govuk-header__logo"},c=Object(n["g"])("span",{class:"govuk-header__logotype"},[Object(n["g"])("svg",{"aria-hidden":"true",focusable:"false",class:"govuk-header__logotype-crown",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 132 97",height:"30",width:"36"},[Object(n["g"])("path",{fill:"currentColor","fill-rule":"evenodd",d:"M25 30.2c3.5 1.5 7.7-.2 9.1-3.7 1.5-3.6-.2-7.8-3.9-9.2-3.6-1.4-7.6.3-9.1 3.9-1.4 3.5.3 7.5 3.9 9zM9 39.5c3.6 1.5 7.8-.2 9.2-3.7 1.5-3.6-.2-7.8-3.9-9.1-3.6-1.5-7.6.2-9.1 3.8-1.4 3.5.3 7.5 3.8 9zM4.4 57.2c3.5 1.5 7.7-.2 9.1-3.8 1.5-3.6-.2-7.7-3.9-9.1-3.5-1.5-7.6.3-9.1 3.8-1.4 3.5.3 7.6 3.9 9.1zm38.3-21.4c3.5 1.5 7.7-.2 9.1-3.8 1.5-3.6-.2-7.7-3.9-9.1-3.6-1.5-7.6.3-9.1 3.8-1.3 3.6.4 7.7 3.9 9.1zm64.4-5.6c-3.6 1.5-7.8-.2-9.1-3.7-1.5-3.6.2-7.8 3.8-9.2 3.6-1.4 7.7.3 9.2 3.9 1.3 3.5-.4 7.5-3.9 9zm15.9 9.3c-3.6 1.5-7.7-.2-9.1-3.7-1.5-3.6.2-7.8 3.7-9.1 3.6-1.5 7.7.2 9.2 3.8 1.5 3.5-.3 7.5-3.8 9zm4.7 17.7c-3.6 1.5-7.8-.2-9.2-3.8-1.5-3.6.2-7.7 3.9-9.1 3.6-1.5 7.7.3 9.2 3.8 1.3 3.5-.4 7.6-3.9 9.1zM89.3 35.8c-3.6 1.5-7.8-.2-9.2-3.8-1.4-3.6.2-7.7 3.9-9.1 3.6-1.5 7.7.3 9.2 3.8 1.4 3.6-.3 7.7-3.9 9.1zM69.7 17.7l8.9 4.7V9.3l-8.9 2.8c-.2-.3-.5-.6-.9-.9L72.4 0H59.6l3.5 11.2c-.3.3-.6.5-.9.9l-8.8-2.8v13.1l8.8-4.7c.3.3.6.7.9.9l-5 15.4v.1c-.2.8-.4 1.6-.4 2.4 0 4.1 3.1 7.5 7 8.1h.2c.3 0 .7.1 1 .1.4 0 .7 0 1-.1h.2c4-.6 7.1-4.1 7.1-8.1 0-.8-.1-1.7-.4-2.4V34l-5.1-15.4c.4-.2.7-.6 1-.9zM66 92.8c16.9 0 32.8 1.1 47.1 3.2 4-16.9 8.9-26.7 14-33.5l-9.6-3.4c1 4.9 1.1 7.2 0 10.2-1.5-1.4-3-4.3-4.2-8.7L108.6 76c2.8-2 5-3.2 7.5-3.3-4.4 9.4-10 11.9-13.6 11.2-4.3-.8-6.3-4.6-5.6-7.9 1-4.7 5.7-5.9 8-.5 4.3-8.7-3-11.4-7.6-8.8 7.1-7.2 7.9-13.5 2.1-21.1-8 6.1-8.1 12.3-4.5 20.8-4.7-5.4-12.1-2.5-9.5 6.2 3.4-5.2 7.9-2 7.2 3.1-.6 4.3-6.4 7.8-13.5 7.2-10.3-.9-10.9-8-11.2-13.8 2.5-.5 7.1 1.8 11 7.3L80.2 60c-4.1 4.4-8 5.3-12.3 5.4 1.4-4.4 8-11.6 8-11.6H55.5s6.4 7.2 7.9 11.6c-4.2-.1-8-1-12.3-5.4l1.4 16.4c3.9-5.5 8.5-7.7 10.9-7.3-.3 5.8-.9 12.8-11.1 13.8-7.2.6-12.9-2.9-13.5-7.2-.7-5 3.8-8.3 7.1-3.1 2.7-8.7-4.6-11.6-9.4-6.2 3.7-8.5 3.6-14.7-4.6-20.8-5.8 7.6-5 13.9 2.2 21.1-4.7-2.6-11.9.1-7.7 8.8 2.3-5.5 7.1-4.2 8.1.5.7 3.3-1.3 7.1-5.7 7.9-3.5.7-9-1.8-13.5-11.2 2.5.1 4.7 1.3 7.5 3.3l-4.7-15.4c-1.2 4.4-2.7 7.2-4.3 8.7-1.1-3-.9-5.3 0-10.2l-9.5 3.4c5 6.9 9.9 16.7 14 33.5 14.8-2.1 30.8-3.2 47.7-3.2z"})]),Object(n["g"])("span",{class:"govuk-header__logotype-text"}," GOV.UK ")],-1),l={class:"govuk-header__content"},g=Object(n["i"])(" DWP Task Admin UI ");function b(t,e,a,r,b,d){var m=Object(n["z"])("router-link");return Object(n["u"])(),Object(n["f"])(n["a"],null,[i,Object(n["g"])("header",o,[Object(n["g"])("div",s,[Object(n["g"])("div",u,[Object(n["j"])(m,{to:"/",class:"govuk-header__link govuk-header__link--homepage"},{default:Object(n["F"])((function(){return[c]})),_:1})]),Object(n["g"])("div",l,[Object(n["j"])(m,{to:"/",class:"govuk-header__link govuk-header__link--service-name"},{default:Object(n["F"])((function(){return[g]})),_:1})])])])],64)}var d={name:"Header"},m=a("6b0d"),v=a.n(m);const p=v()(d,[["render",b]]);var j=p,O={class:"govuk-footer",role:"contentinfo"},h=Object(n["g"])("div",{class:"govuk-width-container"},[Object(n["g"])("div",{class:"govuk-footer__meta"},[Object(n["g"])("div",{class:"govuk-footer__meta-item govuk-footer__meta-item--grow"},[Object(n["g"])("svg",{"aria-hidden":"true",focusable:"false",class:"govuk-footer__licence-logo",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 483.2 195.7",height:"17",width:"41"},[Object(n["g"])("path",{fill:"currentColor",d:"M421.5 142.8V.1l-50.7 32.3v161.1h112.4v-50.7zm-122.3-9.6A47.12 47.12 0 0 1 221 97.8c0-26 21.1-47.1 47.1-47.1 16.7 0 31.4 8.7 39.7 21.8l42.7-27.2A97.63 97.63 0 0 0 268.1 0c-36.5 0-68.3 20.1-85.1 49.7A98 98 0 0 0 97.8 0C43.9 0 0 43.9 0 97.8s43.9 97.8 97.8 97.8c36.5 0 68.3-20.1 85.1-49.7a97.76 97.76 0 0 0 149.6 25.4l19.4 22.2h3v-87.8h-80l24.3 27.5zM97.8 145c-26 0-47.1-21.1-47.1-47.1s21.1-47.1 47.1-47.1 47.2 21 47.2 47S123.8 145 97.8 145"})]),Object(n["g"])("span",{class:"govuk-footer__licence-description"},[Object(n["i"])(" All content is available under the "),Object(n["g"])("a",{class:"govuk-footer__link",href:"https://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/",rel:"license"},"Open Government Licence v3.0"),Object(n["i"])(", except where otherwise stated ")])]),Object(n["g"])("div",{class:"govuk-footer__meta-item"},[Object(n["g"])("a",{class:"govuk-footer__link govuk-footer__copyright-logo",href:"https://www.nationalarchives.gov.uk/information-management/re-using-public-sector-information/uk-government-licensing-framework/crown-copyright/"},"Â© Crown copyright")])])],-1),f=[h];function k(t,e,a,r,i,o){return Object(n["u"])(),Object(n["f"])("footer",O,f)}var y={name:"Footer"};const N=v()(y,[["render",k]]);var A=N,_={components:{"app-header":j,"app-footer":A}};a("37ea");const w=v()(_,[["render",r]]);var U=w,x=(a("99af"),a("ac1f"),a("5319"),a("caad"),a("2532"),a("b0c0"),a("6c02")),F=(a("a4d3"),a("e01a"),{class:"govuk-width-container"}),M={class:"govuk-main-wrapper govuk-main-wrapper--auto-spacing",id:"main-content",role:"main"},S=Object(n["h"])('<div class="govuk-grid-row"><div class="govuk-grid-column-full"><h1 class="govuk-heading-xl"> Organisation units </h1><div class="govuk-inset-text"> Where Organisation Unit is a part of the DWP organisation hierarchy, for example Retirement, Bereavement and Care or Get Your State Pension </div><p class="govuk-body govuk-!-padding-bottom-8"> View, modify or create attributes, agent profiles and activities for your organisation unit.</p></div></div>',1),V={class:"govuk-grid-row"},R={class:"govuk-grid-column-full"},G={class:"govuk-table"},B=Object(n["g"])("thead",{class:"govuk-table__head"},[Object(n["g"])("tr",{class:"govuk-table__row"},[Object(n["g"])("th",{scope:"col",class:"govuk-table__header govuk-!-width-two-thirds"},"Name"),Object(n["g"])("th",{scope:"col",class:"govuk-table__header"},"Actions")])],-1),C={class:"govuk-table__body"},E={class:"govuk-table__cell"},T={class:"govuk-table__cell"},z=Object(n["i"])("View "),D={class:"govuk-visually-hidden"},H=Object(n["i"])("dashboard");function I(t,e,a,r,i,o){var s=Object(n["z"])("router-link");return Object(n["u"])(),Object(n["f"])("div",F,[Object(n["g"])("main",M,[S,Object(n["g"])("div",V,[Object(n["g"])("div",R,[Object(n["g"])("table",G,[B,Object(n["g"])("tbody",C,[(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(r.organisationUnits,(function(t){return Object(n["u"])(),Object(n["f"])("tr",{class:"govuk-table__row",key:t.name},[Object(n["g"])("td",E,Object(n["B"])(t.description),1),Object(n["g"])("td",T,[Object(n["j"])(s,{id:"organisation-unit-dashboard-"+t.name,to:{name:"organisation-unit-dashboard",params:{organisationUnitName:t.name}},class:"govuk-link"},{default:Object(n["F"])((function(){return[z,Object(n["g"])("span",D,Object(n["B"])(t.description),1),H]})),_:2},1032,["id","to"])])])})),128))])])])])])])}var $=a("1da1");a("96cf"),a("d3b7"),a("e9c4");function L(){return P.apply(this,arguments)}function P(){return P=Object($["a"])(regeneratorRuntime.mark((function t(){var e,a,n,r,i,o,s,u,c,l,g,b;return regeneratorRuntime.wra
  \p((function(t){while(1)switch(t.prev=t.next){case 0:return b=function(){return b=Object($["a"])(regeneratorRuntime.mark((function t(e,a,n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=encodeURI("/tasks/api/v1/organisation-units/".concat(e,"/attributes/").concat(a,"/values/").concat(n)),t.next=3,fetch(r,{method:"DELETE"});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)}))),b.apply(this,arguments)},g=function(t,e,a){return b.apply(this,arguments)},l=function(){return l=Object($["a"])(regeneratorRuntime.mark((function t(e,a){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=encodeURI("/tasks/api/v1/organisation-units/".concat(e,"/attributes/").concat(a)),t.next=3,fetch(n,{method:"DELETE"});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)}))),l.apply(this,arguments)},c=function(t,e){return l.apply(this,arguments)},u=function(){return u=Object($["a"])(regeneratorRuntime.mark((function t(e,a,n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=encodeURI("/tasks/api/v1/organisation-units/".concat(e,"/attributes/").concat(a,"/values/").concat(n)),t.next=3,fetch(r,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"}});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)}))),u.apply(this,arguments)},s=function(t,e,a){return u.apply(this,arguments)},o=function(){return o=Object($["a"])(regeneratorRuntime.mark((function t(e,a,n){var r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=encodeURI("/tasks/api/v1/organisation-units/".concat(e,"/attributes/").concat(a)),i={values:n},t.next=4,fetch(r,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(i)});case 4:case"end":return t.stop()}}),t)}))),o.apply(this,arguments)},i=function(t,e,a){return o.apply(this,arguments)},r=function(){return r=Object($["a"])(regeneratorRuntime.mark((function t(e){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=encodeURI("/tasks/api/v1/organisation-units/"+e),t.next=3,fetch(a,{headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:return n=t.sent,t.next=6,n.json();case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)}))),r.apply(this,arguments)},n=function(t){return r.apply(this,arguments)},a=function(){return a=Object($["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="/tasks/api/v1/organisation-units",t.next=3,fetch(e,{headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:return a=t.sent,t.next=6,a.json();case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)}))),a.apply(this,arguments)},e=function(){return a.apply(this,arguments)},t.abrupt("return",{getOrganisationUnits:e,getOrganisationUnit:n,addOrganisationUnitAttribute:i,addOrganisationUnitAttributeValue:s,deleteOrganisationUnitAttribute:c,deleteOrganisationUnitAttributeValue:g});case 13:case"end":return t.stop()}}),t)}))),P.apply(this,arguments)}var K={name:"OrganisationUnits",setup:function(){var t=Object(n["x"])([]);return Object(n["s"])(Object($["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,L();case 2:return a=e.sent,e.next=5,a.getOrganisationUnits();case 5:n=e.sent,t.value=n.organisationUnits;case 7:case"end":return e.stop()}}),e)})))),{organisationUnits:t}}};const q=v()(K,[["render",I]]);var W=q,J={class:"govuk-width-container"},Q={class:"govuk-main-wrapper govuk-main-wrapper--auto-spacing",id:"main-content",role:"main"},Y={class:"govuk-grid-row"},X={class:"govuk-grid-column-full"},Z={class:"govuk-heading-xl"},tt={class:"govuk-grid-row"},et={class:"govuk-grid-column-full"},at={class:"govuk-grid-column-one-half govuk-!-padding-left-0"},nt={class:"govuk-!-padding-4 dashboard-box"},rt={class:"govuk-!-font-size-80 govuk-!-font-weight-bold govuk-body white-text"},it={class:"govuk-body"},ot=Object(n["i"])(" Attributes "),st=Object(n["g"])("details",{class:"govuk-details","data-module":"govuk-details"},[Object(n["g"])("summary",{class:"govuk-details__summary white-text"},[Object(n["g"])("span",{class:"govuk-details__summary-text"}," Help with attributes ")]),Object(n["g"])("div",{class:"govuk-details__text white-text"}," Attributes are key-value pairs of characteristics that an Agent or Task may have. By decorating both an Agent and Task with the appropriate attribute language value then they may be matched. ")],-1),ut={class:"govuk-grid-column-one-half"},ct={class:"govuk-!-padding-4 dashboard-box"},lt={class:"govuk-!-font-size-80 govuk-!-font-weight-bold govuk-body white-text"},gt={class:"govuk-body"},bt=Object(n["i"])(" Activities "),dt=Object(n["g"])("details",{class:"govuk-details","data-module":"govuk-details"},[Object(n["g"])("summary",{class:"govuk-details__summary white-text"},[Object(n["g"])("span",{class:"govuk-details__summary-text"}," Help with activities ")]),Object(n["g"])("div",{class:"govuk-details__text white-text"}," Activities create a means to create Task templates, where tasks that are created many times may be stored as templates and then simply created by giving the appropriate subject key or citizen guid. ")],-1),mt=Object(n["g"])("div",{class:"govuk-grid-column-full"},[Object(n["g"])("hr",{class:"govuk-section-break govuk-section-break--hidden govuk-section-break--m"})],-1),vt={class:"govuk-grid-column-one-half govuk-!-padding-left-0"},pt={class:"govuk-!-padding-4 dashboard-box"},jt={class:"govuk-!-font-size-80 govuk-!-font-weight-bold govuk-body white-text"},Ot={class:"govuk-body"},ht=Object(n["i"])(" Agent profiles "),ft=Object(n["g"])("details",{class:"govuk-details","data-module":"govuk-details"},[Object(n["g"])("summary",{class:"govuk-details__summary white-text"},[Object(n["g"])("span",{class:"govuk-details__summary-text"}," Help with agents ")]),Object(n["g"])("div",{class:"govuk-details__text white-text"}," Agents are staff remembers with a particular set of skills who are able to work on Tasks. They may belong to multiple organisation units and agent groups. ")],-1),kt={class:"govuk-grid-column-one-half"},yt={class:"govuk-!-padding-4 dashboard-box"},Nt={class:"govuk-!-font-size-80 govuk-!-font-weight-bold govuk-body white-text"},At={class:"govuk-body"},_t=Object(n["i"])(" Agent groups "),wt=Object(n["g"])("details",{class:"govuk-details","data-module":"govuk-details"},[Object(n["g"])("summary",{class:"govuk-details__summary white-text"},[Object(n["g"])("span",{class:"govuk-details__summary-text"}," Help with agent groups ")]),Object(n["g"])("div",{class:"govuk-details__text white-text"}," Agent Groups is a mechanism for grouping agents together who have the same skill profile. Agents may then claim tasks as members of the group using their group attributes. ")],-1);function Ut(t,e,a,r,i,o){var s=Object(n["z"])("BreadCrumbTrail"),u=Object(n["z"])("router-link");return Object(n["u"])(),Object(n["f"])("div",J,[Object(n["g"])("main",Q,[Object(n["g"])("div",Y,[Object(n["g"])("div",X,[Object(n["j"])(s,{links:r.links},null,8,["links"]),Object(n["g"])("h1",Z,Object(n["B"])(r.description)+" Dashboard ",1)])]),Object(n["g"])("div",tt,[Object(n["g"])("div",et,[Object(n["g"])("div",at,[Object(n["g"])("div",nt,[Object(n["g"])("h2",rt,[Object(n["g"])("p",it,[Object(n["j"])(u,{id:"list-attributes-link",class:"govuk-link",to:{name:"list-attributes",params:{organisationUnitName:a.organisationUnitName}},onClick:e[0]||(e[0]=function(t){return o.onListAttributes()})},{default:Object(n["F"])((function(){return[ot]})),_:1},8,["to"])])]),st])]),Object(n["g"])("div",ut,[Object(n["g"])("div",ct,[Object(n["g"])("h2",lt,[Object(n["g"])("p",gt,[Object(n["j"])(u,{id:"list-activities-link",to:{name:"list-activities",params:{organisationUnitName:a.organisationUnitName}},class:"govuk-link",onClick:e[1]||(e[1]=function(t){return o.onListActivities()})},{default:Object(n["F"])((function(){return[bt]})),_:1},8,["to"])])]),dt])]),mt,Object(n["g"])("div",vt,[Object(n["g"])("div",pt,[Object(n["g"])("h2",jt,[Object(n["g"])("p",Ot,[Object(n["j"])(u,{id:"list-agents-link",to:{name:"list-agents",params:{organisationUnitName:a.organisationUnitName}},class:"govuk-link",onClick:e[2]||(e[2]=function(t){return o.onListAgents()})},{default:Object(n["F"])((function(){return[ht]})),_:1},8,["to"])])]),ft])]),Object(n["g"])("div",kt,[Object(n["g"])("div",yt,[Object(n["g"])("h2",Nt,[Object(n["g"])("p",At,[Object(n["j"])(u,{id:"list-agent-groups-link",class:"govuk-link",to:{name:"list-agent-groups",params:{organisationUnitName:a.organisationUnitName}},onClick:e[3]||(e[3]=function(t){return o.onListAgentGroups()})},{default:Object(n["F"])((function(){return[_t]})),_:1},8,["to"])])]),wt])])])])])])}var xt=a("5530"),Ft=a("5502"),Mt=(a("b64b"),{class:"govuk-breadcrumbs"}),St={class:"govuk-breadcrumbs__list"};function Vt(t,e,a,r,i,o){var s=Object(n["z"])("router-link");return Object(n["u"])(),Object(n["f"])("div",Mt,[Object(n["g"])("ol",St,[(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(a.links,(function(t,e){return Object(n["u"])(),Object(n["f"])("li",{class:"govuk-breadcrumbs__list-item",key:e},[e!=Object.keys(a.links).length-1?(Object(n["u"])(),Object(n["d"])(s,{key:0,id:t.id,to:t.to,class:"govuk-breadcrumbs__link"},{default:Object(n["F"])((function(){return[Object(n["i"])(Object(n["B"])(t.label),1)]})),_:2},1032,["id","to"])):Object(n["e"])("",!0),e===Object.keys(a.links).length-1?(Object(n["u"])(),Object(n["f"])(n["a"],{key:1},[Object(n["i"])(Object(n["B"])(t.label),1)],64)):Object(n["e"])("",!0)])})),128))])])}var Rt={name:"BreadCrumbTrail",props:{links:{type:Array}}};const Gt=v()(Rt,[["render",Vt]]);var Bt=Gt,Ct={name:"OrganisationUnitDashboard",props:["organisationUnitName"],components:{BreadCrumbTrail:Bt},setup:function(t){var e=Object(n["x"])({}),a=Object(n["x"])(""),r=Object(n["x"])([]);return Object(n["s"])(Object($["a"])(regeneratorRuntime.mark((function n(){var i,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,L();case 2:return i=n.sent,n.next=5,i.getOrganisationUnit(t.organisationUnitName);case 5:o=n.sent,e.value=o,a.value=o.description,r.value=[{id:"home",to:"/",label:"Home"},{id:"org-unit-dashboard",label:"".concat(a.value," Dashboard")}];case 9:case"end":return n.stop()}}),n)})))),{description:a,links:r}},methods:Object(xt["a"])(Object(xt["a"])(Object(xt["a"])(Object(xt["a"])(Object(xt["a"])({},Object(Ft["c"])("agentGroupsStore",{resetAgentGroupFlags:"resetAgentGroupFlags"})),Object(Ft["c"])("agentsStore",{resetAgentFlags:"resetAgentFlags"})),Object(Ft["c"])("activitiesStore",{resetActivityFlags:"resetActivityFlags"})),Object(Ft["c"])("attributesStore",{resetAttributeFlags:"resetAttributeFlags"})),{},{onListAgentGroups:function(){this.resetAgentGroupFlags()},onListAgents:function(){this.resetAgentFlags()},onListActivities:function(){this.resetActivityFlags()},onListAttributes:function(){this.resetAttributeFlags()}})};const Et=v()(Ct,[["render",Ut]]);var Tt=Et,zt=[{path:"/organisation-units",name:"organisation-units",component:W},{path:"/organisation-unit-dashboard/:organisationUnitName",name:"organisation-unit-dashboard",component:Tt,props:!0,meta:{allowedFrom:["organisation-units","list-attributes","list-activities","list-agents","list-agent-groups"]}}],Dt=zt,Ht=(a("ddb0"),{class:"govuk-width-container"}),It={class:"govuk-main-wrapper govuk-main-wrapper--auto-spacing",id:"main-content",role:"main"},$t={class:"govuk-grid-row"},Lt={class:"govuk-grid-column-full"},Pt=Object(n["g"])("h1",{class:"govuk-heading-xl"}," Attributes list ",-1),Kt={class:"govuk-table"},qt=Object(n["g"])("caption",{class:"govuk-table__caption govuk-table__caption--m"},"Attributes list",-1),Wt=Object(n["g"])("thead",{class:"govuk-table__head"},[Object(n["g"])("tr",{class:"govuk-table__row"},[Object(n["g"])("th",{scope:"col",class:"govuk-table__header"},"Name"),Object(n["g"])("th",{scope:"col",class:"govuk-table__header"},"Values"),Object(n["g"])("th",{scope:"col",class:"govuk-table__header"},"Actions")])],-1),Jt={class:"govuk-table__body"},Qt={class:"govuk-table__cell"},Yt={class:"govuk-table__cell"},Xt={class:"govuk-table__cell"},Zt=Object(n["i"])(" Edit "),te={class:"govuk-visually-hidden"},ee=Object(n["i"])(" Remove "),ae={class:"govuk-visually-hidden"},ne={key:0,class:"govuk-table__row"},re=Object(n["g"])("td",{colspan:"3",class:"govuk-table__cell"}," Organisation Unit has no attributes. ",-1),ie=[re],oe={class:"govuk-body"},se=Object(n["i"])(" Add attribute ");function ue(t,e,a,r,i,o){var s=Object(n["z"])("BreadCrumbTrail"),u=Object(n["z"])("SuccessBanner"),c=Object(n["z"])("router-link");return Object(n["u"])(),Object(n["f"])("div",Ht,[Object(n["g"])("main",It,[Object(n["g"])("div",$t,[Object(n["g"])("div",Lt,[Object(n["j"])(s,{links:r.links},null,8,["links"]),r.attributeAdded?(Object(n["u"])(),Object(n["d"])(u,{key:0,title:t.title,heading:t.heading,body:t.createbody},null,8,["title","heading","body"])):Object(n["e"])("",!0),r.attributeDeleted?(Object(n["u"])(),Object(n["d"])(u,{key:1,title:t.title,heading:t.heading,body:t.deletebody},null,8,["title","heading","body"])):Object(n["e"])("",!0),Pt,Object(n["g"])("table",Kt,[qt,Wt,Object(n["g"])("tbody",Jt,[(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(r.attributes,(function(t,e){return Object(n["u"])(),Object(n["f"])("tr",{class:"govuk-table__row",key:t.name},[Object(n["g"])("td",Qt,Object(n["B"])(t.name),1),Object(n["g"])("td",Yt,Object(n["B"])(t.values),1),Object(n["g"])("td",Xt,[Object(n["j"])(c,{id:"edit-attribute-link-"+e,to:{name:"edit-attribute",params:{organisationUnitName:a.organisationUnitName,attributeName:t.name}},class:"govuk-link govuk-!-padding-right-1"},{default:Object(n["F"])((function(){return[Zt,Object(n["g"])("span",te,Object(n["B"])(t.name),1)]})),_:2},1032,["id","to"]),Object(n["j"])(c,{id:"remove-attribute-link-"+e,to:{name:"remove-attribute",params:{organisationUnitName:a.organisationUnitName,attributeName:t.name}},class:"govuk-link"},{default:Object(n["F"])((function(){return[ee,Object(n["g"])("span",ae,Object(n["B"])(t.name),1)]})),_:2},1032,["id","to"])])])})),128)),o.hasAttributes()?Object(n["e"])("",!0):(Object(n["u"])(),Object(n["f"])("tr",ne,ie))])]),Object(n["g"])("p",oe,[Object(n["j"])(c,{id:"add-attribute-link",to:{name:"add-attribute",params:{organisationUnitName:a.organisationUnitName}},class:"govuk-link",onClick:e[0]||(e[0]=function(t){return o.onAddAttribute()})},{default:Object(n["F"])((function(){return[se]})),_:1},8,["to"])])])])])])}a("4160"),a("159b"),a("0d03"),a("25f0");var ce={class:"govuk-notification-banner govuk-notification-banner--success",role:"alert","aria-labelledby":"govuk-notification-banner-title","data-module":"govuk-notification-banner"},le={class:"govuk-notification-banner__header"},ge={class:"govuk-notification-banner__title",id:"govuk-notification-banner-title"},be={class:"govuk-notification-banner__content"},de={class:"govuk-notification-banner__heading"},me={class:"govuk-body"};function ve(t,e,a,r,i,o){return Object(n["u"])(),Object(n["f"])("div",ce,[Object(n["g"])("div",le,[Object(n["g"])("h2",ge,Object(n["B"])(a.title),1)]),Object(n["g"])("div",be,[Object(n["g"])("h3",de,Object(n["B"])(a.heading),1),Object(n["g"])("p",me,Object(n["B"])(a.body),1)])])}var pe={name:"SuccessBanner",props:["title","heading","body"]};const je=v()(pe,[["render",ve]]);var Oe=je,he={name:"ListAttributes",props:["organisationUnitName"],components:{BreadCrumbTrail:Bt,SuccessBanner:Oe},data:function(){return{title:"Attributes",heading:"Attributes",createbody:"Attributes created successfully",deletebody:"Attributes deleted successfully"}},setup:function(t){var e=Object(n["x"])([]),a=Object(n["x"])(""),r=Object(n["x"])([]),i=Object(n["x"])(!1),o=Object(n["x"])(!1);return Object(n["s"])(Object($["a"])(regeneratorRuntime.mark((function n(){var s,u,c,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=Object(Ft["e"])(),i.value=s.state.attributesStore.attributeAdded,o.value=s.state.attributesStore.attributeDeleted,n.next=5,L();case 5:return u=n.sent,n.next=8,u.getOrganisationUnit(t.organisationUnitName);case 8:c=n.sent,l=[],c.attributes&&Object.keys(c.attributes).forEach((function(t){var e=c.attributes[t];l.push({name:t,values:e.toString()})})),e.value=l,a.value=c.description,r.value=[{id:"home",to:"/",label:"Home"},{id:"organisation-unit-dashboard",to:{name:"organisation-unit-dashboard",params:{organisationUnitName:t.organisationUnitName}},label:"".concat(a.value," Dashboard")},{id:"attributes-list",label:"Attributes list"}];case 14:case"end":return n.stop()}}),n)})))),{attributes:e,description:a,links:r,attributeAdded:i,attributeDeleted:o}},methods:Object(xt["a"])(Object(xt["a"])({onAddAttribute:function(){this.resetState()}},Object(Ft["c"])("attributesStore",{resetState:"resetState"})),{},{hasAttributes:function(){return this.attributes&&this.attributes.length>0}})};const fe=v()(he,[["render",ue]]);var ke=fe,ye={class:"govuk-width-container"},Ne={class:"govuk-main-wrapper govuk-main-wrapper--auto-spacing",id:"main-content",role:"main"},Ae={class:"govuk-grid-row"},_e={class:"govuk-grid-column-full"},we=Object(n["i"])(" Back "),Ue=Object(n["g"])("h1",{class:"govuk-heading-xl"}," Add attribute ",-1),xe=Object(n["g"])("div",{class:"govuk-inset-text"}," Attributes are used to match tasks to agents. For example, agent roles or location or grade. ",-1),Fe=Object(n["g"])("button",{id:"continue-button",type:"submit",class:"govuk-button","data-module":"govuk-button"},"Continue",-1);function Me(t,e,a,r,i,o){var s=Object(n["z"])("router-link"),u=Object(n["z"])("ErrorSummary"),c=Object(n["z"])("InputText");return Object(n["u"])(),Object(n["f"])("div",ye,[Object(n["g"])("main",Ne,[Object(n["g"])("div",Ae,[Object(n["g"])("div",_e,[Object(n["j"])(s,{id:"back-link",to:{name:"list-attributes",params:{organisationUnitName:a.organisationUnitName}},class:"govuk-back-link"},{default:Object(n["F"])((function(){return[we]})),_:1},8,["to"]),Object(n["j"])(u,{validForm:t.validForm,errorMessages:t.errorMessages},null,8,["validForm","errorMessages"]),Ue,xe,Object(n["g"])("form",{onSubmit:e[1]||(e[1]=Object(n["H"])((function(){return o.submitForm&&o.submitForm.apply(o,arguments)}),["prevent"])),name:"addAttribute"},[Object(n["j"])(c,{modelValue:t.attributeName,"onUpdate:modelValue":e[0]||(e[0]=function(e){return t.attributeName=e}),elementName:"attributeName",errorMessages:t.errorMessages,label:"Attribute name",hintText:"This could be the location or role or any other unique matching attribute. For example 'language'."},null,8,["modelValue","errorMessages"]),Fe],32)])])])])}function Se(t){return"Enter your ".concat(t)}var Ve={key:0,class:"govuk-error-summary","aria-labelledby":"error-summary-title",role:"alert","data-module":"govuk-error-summary"},Re=Object(n["g"])("h2",{class:"govuk-error-summary__title",id:"error-summary-title"}," There is a problem ",-1),Ge={class:"govuk-error-summary__body"},Be={class:"govuk-list govuk-error-summary__list"};function Ce(t,e,a,r,i,o){var s=Object(n["z"])("router-link");return a.validForm?Object(n["e"])("",!0):(Object(n["u"])(),Object(n["f"])("div",Ve,[Re,Object(n["g"])("div",Ge,[Object(n["g"])("ul",Be,[(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(a.errorMessages,(function(t,e){return Object(n["u"])(),Object(n["f"])("li",{key:e},[Object(n["j"])(s,{to:{hash:"#"+e}},{default:Object(n["F"])((function(){return[Object(n["i"])(Object(n["B"])(t),1)]})),_:2},1032,["to"])])})),128))])])]))}var Ee={name:"ErrorSummary",props:["validForm","errorMessages"]};const Te=v()(Ee,[["render",Ce]]);var ze=Te,De=["for"],He={className:"govuk-hint"},Ie={key:0,id:"activity-name-input-error",class:"govuk-error-message"},$e=Object(n["g"])("span",{class:"govuk-visually-hidden"},"Error:",-1),Le=["value","id","name","disabled"];function Pe(t,e,a,r,i,o){return Object(n["u"])(),Object(n["f"])("div",{class:Object(n["p"])(a.errorMessages[a.elementName]?"govuk-form-group govuk-form-group--error":"govuk-form-group")},[Object(n["g"])("label",{class:"govuk-label govuk-!-font-weight-bold",for:a.elementName},Object(n["B"])(a.label),9,De),Object(n["g"])("p",He,Object(n["B"])(a.hintText),1),a.errorMessages[a.elementName]?(Object(n["u"])(),Object(n["f"])("p",Ie,[$e,Object(n["i"])(" "+Object(n["B"])(a.errorMessages[a.elementName]),1)])):Object(n["e"])("",!0),Object(n["g"])("input",{value:a.modelValue,onInput:e[0]||(e[0]=function(e){return t.$emit("update:modelValue",e.target.value)}),class:Object(n["p"])(a.errorMessages[a.elementName]?"govuk-input govuk-input--error govuk-input--width-30":"govuk-input govuk-input--width-30"),id:a.elementName,name:a.elementName,disabled:"true"===a.disabled,type:"text"},null,42,Le)],2)}var Ke={name:"InputText",props:{modelValue:{type:String},elementName:{type:String},errorMessages:{type:Object,default:function(){return{}}},label:{type:String},hintText:{type:String},disabled:{type:String,default:function(){return"false"}}}};const qe=v()(Ke,[["render",Pe]]);var We=qe,Je={name:"AddAttribute",props:["organisationUnitName"],data:function(){return{attributeName:"",validForm:!0,errorMessages:{}}},computed:Object(xt["a"])({},Object(Ft["d"])("attributesStore",{addAttribute:"addAttribute"})),components:{ErrorSummary:ze,InputText:We},beforeMount:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.attributeName=this.addAttribute.name;case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:Object(xt["a"])({isValid:function(){return this.errorMessages=Object(xt["a"])({},!this.attributeName&&{attributeName:Se("attribute name")}),0===Object.keys(this.errorMessages).length},submitForm:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.validForm=this.isValid(),this.validForm&&(e={name:this.attributeName,values:this.addAttribute.values},this.changeAddAttribute(e),this.$router.push({name:"add-attribute-values",params:{organisationUnitName:this.organisationUnitName,attributeName:this.attributeName}}));case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},Object(Ft["c"])("attributesStore",{changeAddAttribute:"changeAddAttribute"}))};const Qe=v()(Je,[["render",Me]]);var Ye=Qe,Xe={class:"govuk-width-container"},Ze={class:"govuk-main-wrapper govuk-main-wrapper--auto-spacing",id:"main-content",role:"main"},ta={class:"govuk-grid-row"},ea={class:"govuk-grid-column-full"},aa=Object(n["i"])(" Back "),na={class:"govuk-heading-xl"},ra={key:0,class:"govuk-summary-list"},ia={class:"govuk-summary-list__key"},oa=Object(n["i"])(" Values "),sa={class:"govuk-summary-list__value"},ua={class:"govuk-summary-list__actions"},ca=Object(n["i"])(" Remove"),la=Object(n["g"])("span",{class:"govuk-visually-hidden"}," attribute value",-1),ga={key:1,class:"govuk-warning-text"},ba=Object(n["g"])("span",{class:"govuk-warning-text__icon","aria-hidden":"true"},"!",-1),da={class:"govuk-warning-text__text"},ma=Object(n["g"])("span",{class:"govuk-warning-text__assistive"},"Warning",-1),va={class:"govuk-body"},pa=Object(n["i"])(" Add attribute value ");function ja(t,e,a,r,i,o){var s=Object(n["z"])("router-link");return Object(n["u"])(),Object(n["f"])("div",Xe,[Object(n["g"])("main",Ze,[Object(n["g"])("div",ta,[Object(n["g"])("div",ea,[Object(n["j"])(s,{id:"back-link",to:{name:"list-attributes",params:{organisationUnitName:a.organisationUnitName}},class:"govuk-back-link"},{default:Object(n["F"])((function(){return[aa]})),_:1},8,["to"]),Object(n["g"])("h1",na," Edit "+Object(n["B"])(a.attributeName)+" attribute ",1),o.hasAttributeValues()?(Object(n["u"])(),Object(n["f"])("dl",ra,[(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(r.organisationUnit.attributes[a.attributeName],(function(t,e){return Object(n["u"])(),Object(n["f"])("div",{class:"govuk-summary-list__row",key:e},[Object(n["g"])("dt",ia,[0===e?(Object(n["u"])(),Object(n["f"])(n["a"],{key:0},[oa],64)):Object(n["e"])("",!0)]),Object(n["g"])("dd",sa,Object(n["B"])(t),1),Object(n["g"])("dd",ua,[Object(n["j"])(s,{class:"govuk-link",id:"remove-attribute-value-link-"+e,to:{name:"remove-attribute-value",params:{organisationUnitName:a.organisationUnitName,attributeName:a.attributeName,attributeValue:t}}},{default:Object(n["F"])((function(){return[ca,la]})),_:2},1032,["id","to"])])])})),128))])):Object(n["e"])("",!0),o.hasAttributeValues()?Object(n["e"])("",!0):(Object(n["u"])(),Object(n["f"])("div",ga,[ba,Object(n["g"])("strong",da,[ma,Object(n["i"])(" Attribute "+Object(n["B"])(a.attributeName)+" has no attributes. ",1)])])),Object(n["g"])("p",va,[Object(n["j"])(s,{class:"govuk-link",id:"add-attribute-value-link",to:{name:"edit-attribute-add-attribute-value",params:{organisationUnitName:a.organisationUnitName,attributeName:a.attributeName}}},{default:Object(n["F"])((function(){return[pa]})),_:1},8,["to"])])])])])])}var Oa={name:"EditAttribute",props:["organisationUnitName","attributeName"],setup:function(t){var e=Object(n["x"])({});return Object(n["s"])(Object($["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,L();case 2:return n=a.sent,a.next=5,n.getOrganisationUnit(t.organisationUnitName);case 5:e.value=a.sent;case 6:case"end":return a.stop()}}),a)})))),{organisationUnit:e}},methods:{hasAttributeValues:function(){return!(!this.organisationUnit||Object.keys(this.organisationUnit).length<1)&&!(!this.organisationUnit.attributes[this.attributeName]||0===this.organisationUnit.attributes[this.attributeName].length)}}};const ha=v()(Oa,[["render",ja]]);var fa=ha,ka={class:"govuk-width-container"},ya={class:"govuk-main-wrapper govuk-main-wrapper--auto-spacing",id:"main-content",role:"main"},Na={class:"govuk-grid-row"},Aa={class:"govuk-grid-column-full"},_a=Object(n["i"])(" Back "),wa={key:0,class:"govuk-error-summary","aria-labelledby":"error-summary-title",role:"alert","data-module":"govuk-error-summary"},Ua=Object(n["g"])("h2",{class:"govuk-error-summary__title",id:"error-summary-title"}," There is a problem ",-1),xa={class:"govuk-error-summary__body"},Fa={class:"govuk-list govuk-error-summary__list"},Ma={key:0},Sa=Object(n["i"])("Enter the answer"),Va={key:1},Ra={class:"govuk-fieldset"},Ga={class:"govuk-fieldset__legend govuk-fieldset__legend--l"},Ba={class:"govuk-fieldset__heading"},Ca={id:"deleteAttribute",class:"govuk-radios govuk-radios--inline"},Ea={key:0,id:"delete-attribute-error",class:"govuk-error-message"},Ta=Object(n["g"])("span",{class:"govuk-visually-hidden"},"Error:",-1),za=Object(n["i"])(" Enter the answer "),Da=[Ta,za],Ha={key:1,id:"delete-attribute-api-error",class:"govuk-error-message"},Ia=Object(n["g"])("span",{class:"govuk-visually-hidden"},"Error:",-1),$a={class:"govuk-radios__item"},La=Object(n["g"])("label",{class:"govuk-label govuk-radios__label",for:"delete-attribute-yes"}," Yes ",-1),Pa={class:"govuk-radios__item"},Ka=Object(n["g"])("label",{class:"govuk-label govuk-radios__label",for:"delete-attribute-no"}," No ",-1),qa=Object(n["g"])("button",{id:"continue-button",type:"submit",class:"govuk-button","data-module":"govuk-button"}," Continue ",-1);function Wa(t,e,a,r,i,o){var s=Object(n["z"])("router-link");return Object(n["u"])(),Object(n["f"])("div",ka,[Object(n["g"])("main",ya,[Object(n["g"])("div",Na,[Object(n["g"])("div",Aa,[Object(n["j"])(s,{id:"back-link",to:{name:"list-attributes",params:{organisationUnitName:a.organisationUnitName}},class:"govuk-back-link"},{default:Object(n["F"])((function(){return[_a]})),_:1},8,["to"]),t.validForm&&t.validApiCall?Object(n["e"])("",!0):(Object(n["u"])(),Object(n["f"])("div",wa,[Ua,Object(n["g"])("div",xa,[Object(n["g"])("ul",Fa,[t.validForm?Object(n["e"])("",!0):(Object(n["u"])(),Object(n["f"])("li",Ma,[Object(n["j"])(s,{to:{hash:"#deleteAttribute"}},{default:Object(n["F"])((function(){return[Sa]})),_:1})])),t.validApiCall?Object(n["e"])("",!0):(Object(n["u"])(),Object(n["f"])("li",Va,[Object(n["j"])(s,{to:{hash:"#deleteAttribute"}},{default:Object(n["F"])((function(){return[Object(n["i"])("Attribute "+Object(n["B"])(a.attributeName)+" cannot be deleted",1)]})),_:1})]))])])])),Object(n["g"])("form",{onSubmit:e[2]||(e[2]=Object(n["H"])((function(){return o.submitForm&&o.submitForm.apply(o,arguments)}),["prevent"]))},[Object(n["g"])("div",{class:Object(n["p"])(["govuk-form-group",{"govuk-form-group--error":!t.validForm}])},[Object(n["g"])("fieldset",Ra,[Object(n["g"])("legend",Ga,[Object(n["g"])("h1",Ba," Do you want to remove the "+Object(n["B"])(a.attributeName)+" attribute? ",1)]),Object(n["g"])("div",Ca,[t.validForm?Object(n["e"])("",!0):(Object(n["u"])(),Object(n["f"])("p",Ea,Da)),t.validApiCall?Object(n["e"])("",!0):(Object(n["u"])(),Object(n["f"])("p",Ha,[Ia,Object(n["i"])(" Attribute "+Object(n["B"])(a.attributeName)+" cannot be deleted ",1)])),Object(n["g"])("div",$a,[Object(n["G"])(Object(n["g"])("input",{class:"govuk-radios__input",id:"delete-attribute-yes",name:"delete-attribute",type:"radio",value:"yes","onUpdate:modelValue":e[0]||(e[0]=function(e){return t.deleteAttribute=e}),ref:"delete-attribute"},null,512),[[n["D"],t.deleteAttribute]]),La]),Object(n["g"])("div",Pa,[Object(n["G"])(Object(n["g"])("input",{class:"govuk-radios__input",id:"delete-attribute-no",name:"delete-attribute",type:"radio",value:"no","onUpdate:modelValue":e[1]||(e[1]=function(e){return t.deleteAttribute=e})},null,512),[[n["D"],t.deleteAttribute]]),Ka])])]),qa],2)],32)])])])])}var Ja={name:"RemoveAttribute",props:["organisationUnitName","attributeName"],data:function(){return{deleteAttribute:"",validForm:!0,validApiCall:!0,errorMessages:{}}},methods:Object(xt["a"])({isValid:function(){return this.errorMessages=Object(xt["a"])({},""===this.deleteAttribute&&{deleteAttribute:Se("selection")}),0===Object.keys(this.errorMessages).length},submitForm:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.validApiCall=!0,this.validForm=this.isValid(),this.validForm){t.next=4;break}return t.abrupt("return");case 4:if("yes"!==this.deleteAttribute){t.next=15;break}return t.next=7,L();case 7:return e=t.sent,t.next=10,e.deleteOrganisationUnitAttribute(this.organisationUnitName,this.attributeName);case 10:if(a=t.sent,400!==a.status){t.next=14;break}return this.validApiCall=!1,t.abrupt("return");case 14:this.changeAttributeDeleted(!0);case 15:this.$router.push({name:"list-attributes",params:{organisationUnitName:this.organisationUnitName}});case 16:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},Object(Ft["c"])("attributesStore",{changeAttributeDeleted:"changeAttributeDeleted"}))};const Qa=v()(Ja,[["render",Wa]]);var Ya=Qa,Xa={class:"govuk-width-container"},Za={class:"govuk-main-wrapper govuk-main-wrapper--auto-spacing",id:"main-content",role:"main"},tn={class:"govuk-grid-row"},en={class:"govuk-grid-column-full"},an=Object(n["i"])(" Back "),nn=Object(n["g"])("h1",{class:"govuk-heading-xl"}," Add attribute value ",-1),rn={class:"govuk-fieldset"},on=Object(n["g"])("button",{type:"submit",class:"govuk-button","data-module":"govuk-button"},"Save and continue",-1);function sn(t,e,a,r,i,o){var s=Object(n["z"])("router-link"),u=Object(n["z"])("ErrorSummary"),c=Object(n["z"])("InputText");return Object(n["u"])(),Object(n["f"])("div",Xa,[Object(n["g"])("main",Za,[Object(n["g"])("div",tn,[Object(n["g"])("div",en,[Object(n["j"])(s,{id:"back-link",to:"/organisation-unit-dashboard/"+a.organisationUnitName+"/edit-attribute/"+a.attributeName,class:"govuk-back-link"},{default:Object(n["F"])((function(){return[an]})),_:1},8,["to"]),Object(n["j"])(u,{validForm:t.validForm,errorMessages:t.errorMessages},null,8,["validForm","errorMessages"]),nn,Object(n["g"])("form",{onSubmit:e[1]||(e[1]=Object(n["H"])((function(){return o.submitForm&&o.submitForm.apply(o,arguments)}),["prevent"])),name:"editAttributeAddValue"},[Object(n["g"])("fieldset",rn,[Object(n["j"])(c,{modelValue:t.attributeValue,"onUpdate:modelValue":e[0]||(e[0]=function(e){return t.attributeValue=e}),elementName:"attributeValue",errorMessages:t.errorMessages,label:"Attribute value",hintText:""},null,8,["modelValue","errorMessages"])]),on],32)])])])])}var un={name:"EditAttributeAddValue",props:["organisationUnitName","attributeName"],data:function(){return{attributeValue:"",validForm:!0,errorMessages:{}}},components:{ErrorSummary:ze,InputText:We},methods:{isValid:function(){return this.errorMessages=Object(xt["a"])({},!this.attributeValue&&{attributeValue:Se("attribute name")}),0===Object.keys(this.errorMessages).length},submitForm:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.validForm=this.isValid(),!this.validForm){t.next=11;break}return t.next=4,L();case 4:return e=t.sent,t.next=7,e.addOrganisationUnitAttributeValue(this.organisationUnitName,this.attributeName,this.attributeValue);case 7:return a=t.sent,a.status,t.next=11,this.$router.push("/organisation-unit-dashboard/".concat(this.organisationUnitName,"/edit-attribute/").concat(this.attributeName));case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}};const cn=v()(un,[["render",sn]]);var ln=cn,gn={class:"govuk-width-container"},bn={class:"govuk-main-wrapper govuk-main-wrapper--auto-spacing",id:"main-content",role:"main"},dn={class:"govuk-grid-row"},mn={class:"govuk-grid-column-full"},vn=Object(n["i"])(" Back "),pn=Object(n["g"])("h1",{class:"govuk-heading-xl"}," Add attribute confirmation ",-1),jn=Object(n["g"])("h2",{class:"govuk-heading-m"}," Attribute details ",-1),On={class:"govuk-summary-list"},hn={class:"govuk-summary-list__row"},fn=Object(n["g"])("dt",{class:"govuk-summary-list__key"}," Name ",-1),kn={class:"govuk-summary-list__value"},yn={class:"govuk-summary-list__actions"},Nn=Object(n["i"])(" Change"),An=Object(n["g"])("span",{class:"govuk-visually-hidden"}," attribute name",-1),_n={class:"govuk-summary-list__row"},wn=Object(n["g"])("dt",{class:"govuk-summary-list__key"}," Values ",-1),Un={class:"govuk-summary-list__value"},xn=Object(n["g"])("br",null,null,-1),Fn={class:"govuk-summary-list__actions"},Mn=Object(n["i"])(" Change"),Sn=Object(n["g"])("span",{class:"govuk-visually-hidden"}," attribute value",-1),Vn=Object(n["g"])("button",{id:"continue-button",type:"submit","data-prevent-double-click":"true",class:"govuk-button",role:"link","data-module":"govuk-button"}," Save and continue ",-1),Rn=[Vn];function Gn(t,e,a,r,i,o){var s=Object(n["z"])("router-link");return Object(n["u"])(),Object(n["f"])("div",gn,[Object(n["g"])("main",bn,[Object(n["g"])("div",dn,[Object(n["g"])("div",mn,[Object(n["j"])(s,{id:"back-link",to:{name:"add-attribute-values",params:{organisationUnitName:a.organisationUnitName,attributeName:a.attributeName}},class:"govuk-back-link"},{default:Object(n["F"])((function(){return[vn]})),_:1},8,["to"]),pn,jn,Object(n["g"])("dl",On,[Object(n["g"])("div",hn,[fn,Object(n["g"])("dd",kn,Object(n["B"])(a.attributeName),1),Object(n["g"])("dd",yn,[Object(n["j"])(s,{id:"change-attribute-name-link",class:"govuk-link",to:{name:"add-attribute",params:{organisationUnitName:a.organisationUnitName}}},{default:Object(n["F"])((function(){return[Nn,An]})),_:1},8,["to"])])]),Object(n["g"])("div",_n,[wn,Object(n["g"])("dd",Un,[(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(t.attributeValues,(function(t,e){return Object(n["u"])(),Object(n["f"])(n["a"],{key:e},[Object(n["i"])(Object(n["B"])(t),1),xn],64)})),128))]),Object(n["g"])("dd",Fn,[Object(n["j"])(s,{id:"change-attribute-value-link",class:"govuk-link",to:{name:"add-attribute-values",params:{organisationUnitName:a.organisationUnitName,attributeName:a.attributeName}}},{default:Object(n["F"])((function(){return[Mn,Sn]})),_:1},8,["to"])])])]),Object(n["g"])("form",{onSubmit:e[0]||(e[0]=Object(n["H"])((function(){return o.submitForm&&o.submitForm.apply(o,arguments)}),["prevent"]))},Rn,32)])])])])}var Bn={name:"AddAttributeConfirmation",props:["organisationUnitName","attributeName"],data:function(){return{attributeValues:[]}},computed:Object(xt["a"])({},Object(Ft["d"])("attributesStore",{addAttribute:"addAttribute"})),beforeMount:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.attributeValues=this.addAttribute.values;case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:Object(xt["a"])({submitForm:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,L();case 2:return e=t.sent,t.next=5,e.addOrganisationUnitAttribute(this.organisationUnitName,this.attributeName,this.attributeValues);case 5:this.resetState(),this.changeAttributeAdded(!0),this.$router.push({name:"list-attributes",params:{organisationUnitName:this.organisationUnitName}});case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},Object(Ft["c"])("attributesStore",{resetState:"resetState",changeAttributeAdded:"changeAttributeAdded"}))};const Cn=v()(Bn,[["render",Gn]]);var En=Cn,Tn={class:"govuk-width-container"},zn={class:"govuk-main-wrapper govuk-main-wrapper--auto-spacing",id:"main-content",role:"main"},Dn={class:"govuk-grid-row"},Hn={class:"govuk-grid-column-full"},In=Object(n["i"])(" Back "),$n=Object(n["g"])("h1",{class:"govuk-heading-xl"}," Add attribute values ",-1),Ln={class:"govuk-fieldset"},Pn=Object(n["g"])("button",{type:"submit",class:"govuk-button govuk-button--secondary","data-module":"govuk-button",id:"add-button"}," Add ",-1),Kn={class:"govuk-form-group"},qn={class:"govuk-table",id:"attribute-values"},Wn=Object(n["g"])("thead",{class:"govuk-table__head"},[Object(n["g"])("tr",{class:"govuk-table__row"},[Object(n["g"])("th",{scope:"col",class:"govuk-table__header"},"Value"),Object(n["g"])("th",{scope:"col",class:"govuk-table__header"},"Action")])],-1),Jn={class:"govuk-table__body"},Qn={key:0,class:"govuk-table__row"},Yn=Object(n["g"])("td",{class:"govuk-table__cell",colspan:"2"}," No attribute values added. ",-1),Xn=[Yn],Zn={class:"govuk-table__cell"},tr={class:"govuk-table__cell"},er=["onClick"],ar=Object(n["g"])("button",{type:"submit",class:"govuk-button","data-module":"govuk-button",id:"continue-button"}," Continue ",-1);function nr(t,e,a,r,i,o){var s=Object(n["z"])("router-link"),u=Object(n["z"])("ErrorSummary"),c=Object(n["z"])("InputText");return Object(n["u"])(),Object(n["f"])("div",Tn,[Object(n["g"])("main",zn,[Object(n["g"])("div",Dn,[Object(n["g"])("div",Hn,[Object(n["j"])(s,{id:"back-link",to:{name:"add-attribute",params:{organisationUnitName:a.organisationUnitName}},class:"govuk-back-link"},{default:Object(n["F"])((function(){return[In]})),_:1},8,["to"]),Object(n["j"])(u,{validForm:t.validForm,errorMessages:t.errorMessages},null,8,["validForm","errorMessages"]),$n,Object(n["g"])("form",{onSubmit:e[1]||(e[1]=Object(n["H"])((function(){return o.addAttributeValue&&o.addAttributeValue.apply(o,arguments)}),["prevent"])),name:"attributeValues",id:"attributeValues"},[Object(n["g"])("fieldset",Ln,[Object(n["j"])(c,{modelValue:t.attributeValue,"onUpdate:modelValue":e[0]||(e[0]=function(e){return t.attributeValue=e}),elementName:"attributeValue",errorMessages:t.errorMessages,label:"Attribute value",hintText:"This is unique matching values for this attribute.  This could be language type, for example 'Welsh' or 'English'."},null,8,["modelValue","errorMessages"]),Pn])],32),Object(n["g"])("div",Kn,[Object(n["g"])("form",{onSubmit:e[2]||(e[2]=Object(n["H"])((function(){return o.submitForm&&o.submitForm.apply(o,arguments)}),["prevent"])),name:"attributeValuesTable",id:"attributeValuesTable"},[Object(n["g"])("table",qn,[Wn,Object(n["g"])("tbody",Jn,[o.hasAttributeValues()?Object(n["e"])("",!0):(Object(n["u"])(),Object(n["f"])("tr",Qn,Xn)),(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(t.attributeValues,(function(t){return Object(n["u"])(),Object(n["f"])("tr",{key:t,class:"govuk-table__row"},[Object(n["g"])("td",Zn,Object(n["B"])(t),1),Object(n["g"])("td",tr,[Object(n["g"])("button",{type:"button",class:"govuk-button govuk-button--secondary","data-module":"govuk-button",onClick:function(e){return o.removeAttributeValue(t)}}," Remove ",8,er)])])})),128))])]),ar],32)])])])])])}a("45fc"),a("4de4");var rr={name:"AddAttribute",props:["organisationUnitName","attributeName"],components:{ErrorSummary:ze,InputText:We},data:function(){return{attributeValue:"",attributeValues:[],validForm:!0,errorMessages:{}}},computed:Object(xt["a"])({},Object(Ft["d"])("attributesStore",{addAttribute:"addAttribute"})),beforeMount:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.attributeValues=this.addAttribute.values;case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:Object(xt["a"])({isValid:function(){var t=this;return this.errorMessages=Object(xt["a"])({},(!this.attributeValue||this.attributeValues.some((function(e){return e.toLowerCase()==t.attributeValue.toLowerCase()})))&&{attributeValue:"Enter your valid attribute value"}),0===Object.keys(this.errorMessages).length},isValidPage:function(){return this.errorMessages=Object(xt["a"])({},!this.hasAttributeValues()&&{attributeValue:"At least one attribute value is required"}),0===Object.keys(this.errorMessages).length},addAttributeValue:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.validForm=this.isValid(),this.validForm){t.next=3;break}return t.abrupt("return");case 3:this.attributeValues.push(this.attributeValue),this.attributeValue="";case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),submitForm:function(){if(this.validForm=this.isValidPage(),this.validForm){var t={name:this.attributeName,values:this.attributeValues};this.changeAddAttribute(t),this.$router.push({name:"add-attribute-confirmation",params:{organisationUnitName:this.organisationUnitName,attributeName:this.attributeName}})}},removeAttributeValue:function(t){this.attributeValues=this.attributeValues.filter((function(e){return e!==t}))},hasAttributeValues:function(){return this.attributeValues&&this.attributeValues.length>0}},Object(Ft["c"])("attributesStore",{changeAddAttribute:"changeAddAttribute"}))};const ir=v()(rr,[["render",nr]]);var or=ir,sr={class:"govuk-width-container"},ur={class:"govuk-main-wrapper govuk-main-wrapper--auto-spacing",id:"main-content",role:"main"},cr={class:"govuk-grid-row"},lr={class:"govuk-grid-column-full"},gr=Object(n["i"])(" Back "),br={key:0,class:"govuk-error-summary",role:"alert","data-module":"govuk-error-summary"},dr=Object(n["g"])("h2",{class:"govuk-error-summary__title",id:"error-summary-title"}," There is a problem ",-1),mr={class:"govuk-error-summary__body"},vr={class:"govuk-list govuk-error-summary__list"},pr={key:0},jr=Object(n["i"])("Enter the answer"),Or={key:1},hr={class:"govuk-fieldset"},fr={class:"govuk-fieldset__legend govuk-fieldset__legend--l"},kr={class:"govuk-fieldset__heading"},yr={key:0,id:"attribute-name-error",class:"govuk-error-message"},Nr=Object(n["g"])("span",{class:"govuk-visually-hidden"},"Error:",-1),Ar=Object(n["i"])(" Enter the answer "),_r=[Nr,Ar],wr={key:1,id:"attribute-name-api-error",class:"govuk-error-message"},Ur=Object(n["g"])("span",{class:"govuk-visually-hidden"},"Error:",-1),xr={id:"deleteAttributeValue",class:"govuk-radios govuk-radios--inline"},Fr={class:"govuk-radios__item"},Mr=Object(n["g"])("label",{class:"govuk-label govuk-radios__label",for:"delete-attribute-value-yes"}," Yes ",-1),Sr={class:"govuk-radios__item"},Vr=Object(n["g"])("label",{class:"govuk-label govuk-radios__label",for:"delete-attribute-value-no"}," No ",-1),Rr=Object(n["g"])("button",{type:"submit",id:"continue-button",class:"govuk-button","data-module":"govuk-button"},"Continue",-1);function Gr(t,e,a,r,i,o){var s=Object(n["z"])("router-link");return Object(n["u"])(),Object(n["f"])("div",sr,[Object(n["g"])("main",ur,[Object(n["g"])("div",cr,[Object(n["g"])("div",lr,[Object(n["j"])(s,{id:"back-link",to:{name:"edit-attribute",params:{organisationUnitName:a.organisationUnitName,attributeName:a.attributeName}},class:"govuk-back-link"},{default:Object(n["F"])((function(){return[gr]})),_:1},8,["to"]),o.hasError()?(Object(n["u"])(),Object(n["f"])("div",br,[dr,Object(n["g"])("div",mr,[Object(n["g"])("ul",vr,[t.validForm?Object(n["e"])("",!0):(Object(n["u"])(),Object(n["f"])("li",pr,[Object(n["j"])(s,{to:{hash:"#deleteAttributeValue"}},{default:Object(n["F"])((function(){return[jr]})),_:1})])),t.validApiCall?Object(n["e"])("",!0):(Object(n["u"])(),Object(n["f"])("li",Or,[Object(n["j"])(s,{to:{hash:"#deleteAttributeValue"}},{default:Object(n["F"])((function(){return[Object(n["i"])("Attribute value "+Object(n["B"])(a.attributeValue)+" cannot be deleted",1)]})),_:1})]))])])])):Object(n["e"])("",!0),Object(n["g"])("form",{name:"remove-attribute-value",onSubmit:e[2]||(e[2]=Object(n["H"])((function(){return o.submitForm&&o.submitForm.apply(o,arguments)}),["prevent"]))},[Object(n["g"])("div",{class:Object(n["p"])(["govuk-form-group",{"govuk-form-group--error":!t.validForm}])},[Object(n["g"])("fieldset",hr,[Object(n["g"])("legend",fr,[Object(n["g"])("h1",kr," Do you want to remove attribute value "+Object(n["B"])(this.attributeValue)+"? ",1)]),t.validForm?Object(n["e"])("",!0):(Object(n["u"])(),Object(n["f"])("p",yr,_r)),t.validApiCall?Object(n["e"])("",!0):(Object(n["u"])(),Object(n["f"])("p",wr,[Ur,Object(n["i"])(" Attribute value "+Object(n["B"])(a.attributeValue)+" cannot be deleted ",1)])),Object(n["g"])("div",xr,[Object(n["g"])("div",Fr,[Object(n["G"])(Object(n["g"])("input",{class:"govuk-radios__input",id:"delete-attribute-value-yes",name:"delete-attribute-value",type:"radio",value:"yes","onUpdate:modelValue":e[0]||(e[0]=function(e){return t.deleteAttributeValue=e}),ref:"delete-attribute-value"},null,512),[[n["D"],t.deleteAttributeValue]]),Mr]),Object(n["g"])("div",Sr,[Object(n["G"])(Object(n["g"])("input",{class:"govuk-radios__input",id:"delete-attribute-value-no",name:"delete-attribute-value",type:"radio",value:"no","onUpdate:modelValue":e[1]||(e[1]=function(e){return t.deleteAttributeValue=e}),ref:"delete-attribute-value"},null,512),[[n["D"],t.deleteAttributeValue]]),Vr])])]),Rr],2)],32)])])])])}var Br={name:"RemoveAttributeValue",props:["organisationUnitName","attributeName","attributeValue"],data:function(){return{deleteAttributeValue:"",validForm:!0,validApiCall:!0,errorMessages:{}}},methods:{isValid:function(){return this.errorMessages=Object(xt["a"])({},""===this.deleteAttributeValue&&{deleteAttributeValue:Se("selection")}),0===Object.keys(this.errorMessages).length},submitForm:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.validForm=this.isValid(),this.validForm){t.next=3;break}return t.abrupt("return");case 3:if("yes"!==this.deleteAttributeValue){t.next=14;break}return this.validApiCall=!0,t.next=7,L();case 7:return e=t.sent,t.next=10,e.deleteOrganisationUnitAttributeValue(this.organisationUnitName,this.attributeName,this.attributeValue);case 10:if(a=t.sent,400!==a.status){t.next=14;break}return this.validApiCall=!1,t.abrupt("return");case 14:this.$router.push({name:"edit-attribute",params:{organisationUnitName:this.organisationUnitName,attributeName:this.attributeName}});case 15:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),hasError:function(){return!this.validForm||!this.validApiCall}}};const Cr=v()(Br,[["render",Gr]]);var Er=Cr,Tr=[{path:"/organisation-unit-dashboard/:organisationUnitName/list-attributes",name:"list-attributes",component:ke,props:!0,meta:{allowedFrom:["organisation-unit-dashboard","add-attribute","remove-attribute","edit-attribute","add-attribute-confirmation"]}},{path:"/organisation-unit-dashboard/:organisationUnitName/add-attribute",name:"add-attribute",component:Ye,props:!0,meta:{allowedFrom:["list-attributes","add-attribute-values"]}},{path:"/organisation-unit-dashboard/:organisationUnitName/add-attribute/:attributeName/add-attribute-values",name:"add-attribute-values",component:or,props:!0,meta:{allowedFrom:["add-attribute","add-attribute-confirmation"]}},{path:"/organisation-unit-dashboard/:organisationUnitName/add-attribute/:attributeName/add-attribute-confirmation",name:"add-attribute-confirmation",component:En,props:!0,meta:{allowedFrom:["add-attribute-values"]}},{path:"/organisation-unit-dashboard/:organisationUnitName/edit-attribute/:attributeName",name:"edit-attribute",component:fa,props:!0,meta:{allowedFrom:["list-attributes","edit-attribute-add-attribute-value","remove-attribute-value"]}},{path:"/organisation-unit-dashboard/:organisationUnitName/remove-attribute/:attributeName",name:"remove-attribute",component:Ya,props:!0,meta:{allowedFrom:["list-attributes"]}},{path:"/organisation-unit-dashboard/:organisationUnitName/edit-attribute/:attributeName/add-attribute-value",name:"edit-attribute-add-attribute-value",component:ln,props:!0,meta:{allowedFrom:["edit-attribute"]}},{path:"/organisation-unit-dashboard/:organisationUnitName/edit-attribute/:attributeName/remove-attribute-value/:attributeValue",name:"remove-attribute-value",component:Er,props:!0,meta:{allowedFrom:["edit-attribute"]}}],zr=Tr,Dr={class:"govuk-width-container"},Hr={class:"govuk-main-wrapper govuk-main-wrapper--auto-spacing",id:"main-content",role:"main"},Ir={class:"govuk-grid-row"},$r={class:"govuk-grid-column-full"},Lr=Object(n["g"])("h1",{class:"govuk-heading-xl"}," Activities list ",-1),Pr={class:"govuk-table"},Kr=Object(n["g"])("caption",{class:"govuk-table__caption govuk-table__caption--m"},"Activities list",-1),qr=Object(n["g"])("thead",{class:"govuk-table__head"},[Object(n["g"])("tr",{class:"govuk-table__row"},[Object(n["g"])("th",{scope:"col",class:"govuk-table__header"},"Name"),Object(n["g"])("th",{scope:"col",class:"govuk-table__header"},"Actions")])],-1),Wr={class:"govuk-table__body"},Jr={class:"govuk-table__cell"},Qr={class:"govuk-table__cell"},Yr=Object(n["i"])(" Edit "),Xr={class:"govuk-visually-hidden"},Zr=Object(n["i"])(" Remove "),ti={class:"govuk-visually-hidden"},ei={key:0,class:"govuk-table__row"},ai=Object(n["g"])("td",{colspan:"2",class:"govuk-table__cell"}," No activities. ",-1),ni=[ai],ri={class:"govuk-body"},ii=Object(n["i"])(" Add activity ");function oi(t,e,a,r,i,o){var s=Object(n["z"])("BreadCrumbTrail"),u=Object(n["z"])("SuccessBanner"),c=Object(n["z"])("router-link");return Object(n["u"])(),Object(n["f"])("div",Dr,[Object(n["g"])("main",Hr,[Object(n["g"])("div",Ir,[Object(n["g"])("div",$r,[Object(n["j"])(s,{links:r.links},null,8,["links"]),r.activityAdded?(Object(n["u"])(),Object(n["d"])(u,{key:0,title:t.title,heading:t.heading,body:t.createbody},null,8,["title","heading","body"])):Object(n["e"])("",!0),r.activityUpdated?(Object(n["u"])(),Object(n["d"])(u,{key:1,title:t.title,heading:t.heading,body:t.updatebody},null,8,["title","heading","body"])):Object(n["e"])("",!0),r.activityDeleted?(Object(n["u"])(),Object(n["d"])(u,{key:2,title:t.title,heading:t.heading,body:t.deletebody},null,8,["title","heading","body"])):Object(n["e"])("",!0),Lr,Object(n["g"])("table",Pr,[Kr,qr,Object(n["g"])("tbody",Wr,[(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(r.activities,(function(t,r){return Object(n["u"])(),Object(n["f"])("tr",{class:"govuk-table__row",key:t.activityName},[Object(n["g"])("td",Jr,Object(n["B"])(t.activityName),1),Object(n["g"])("td",Qr,[Object(n["j"])(c,{id:"edit-activity-"+r,class:"govuk-link govuk-!-padding-right-1",onClick:e[0]||(e[0]=function(t){return o.initState()}),to:{name:"edit-activity",params:{organisationUnitName:a.organisationUnitName,activityName:t.activityName}}},{default:Object(n["F"])((function(){return[Yr,Object(n["g"])("span",Xr,Object(n["B"])(t.activityName),1)]})),_:2},1032,["id","to"]),Object(n["j"])(c,{id:"remove-activity-"+r,class:"govuk-link",onClick:e[1]||(e[1]=function(t){return o.initState()}),to:{name:"remove-activity",params:{organisationUnitName:a.organisationUnitName,activityName:t.activityName}}},{default:Object(n["F"])((function(){return[Zr,Object(n["g"])("span",ti,Object(n["B"])(t.activityName),1)]})),_:2},1032,["id","to"])])])})),128)),o.hasActivities()?Object(n["e"])("",!0):(Object(n["u"])(),Object(n["f"])("tr",ei,ni))])]),Object(n["g"])("p",ri,[Object(n["j"])(c,{id:"add-activity",to:{name:"add-activity",params:{organisationUnitName:a.organisationUnitName}},class:"govuk-link",onClick:e[2]||(e[2]=function(t){return o.initState()})},{default:Object(n["F"])((function(){return[ii]})),_:1},8,["to"])])])])])])}function si(){return ui.apply(this,arguments)}function ui(){return ui=Object($["a"])(regeneratorRuntime.mark((function t(){var e,a,n,r,i,o,s,u,c,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return l=function(){return l=Object($["a"])(regeneratorRuntime.mark((function t(e,a){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=encodeURI("/tasks/api/v1/activities/".concat(e,"/").concat(a)),t.next=3,fetch(n,{method:"DELETE"});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)}))),l.apply(this,arguments)},c=function(t,e){return l.apply(this,arguments)},u=function(){return u=Object($["a"])(regeneratorRuntime.mark((function t(e,a){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=JSON.stringify({priority:e.priority,executionUrl:e.executionUrl,mandatoryAttributes:e.mandatoryAttributes,optionalAttributes:e.optionalAttributes,mustCompleteBy:e.mustCompleteBy}),r=encodeURI("/tasks/api/v1/activities/".concat(a,"/").concat(e.activityName)),t.next=4,fetch(r,{method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json"},body:n});case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)}))),u.apply(this,arguments)},s=function(t,e){return u.apply(this,arguments)},o=function(){return o=Object($["a"])(regeneratorRuntime.mark((function t(e,a){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=JSON.stringify({executionUrl:e.executionUrl,mustCompleteBy:e.mustCompleteBy,priority:e.priority,mandatoryAttributes:e.mandatoryAttributes,optionalAttributes:e.optionalAttributes}),t.next=3,fetch("/tasks/api/v1/activities/".concat(a,"/").concat(e.activityName),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:n});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)}))),o.apply(this,arguments)},i=function(t,e){return o.apply(this,arguments)},r=function(){return r=Object($["a"])(regeneratorRuntime.mark((function t(e,a){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=encodeURI("/tasks/api/v1/activities/"+e+"/"+a),t.next=3,fetch(n,{headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:if(r=t.sent,200!==r.status){t.next=8;break}return t.next=7,r.json();case 7:return t.abrupt("return",t.sent);case 8:return t.abrupt("return",{});case 9:case"end":return t.stop()}}),t)}))),r.apply(this,arguments)},n=function(t,e){return r.apply(this,arguments)},a=function(){return a=Object($["a"])(regeneratorRuntime.mark((function t(e){var a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=encodeURI("/tasks/api/v1/activities/"+e),t.next=3,fetch(a,{headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:if(n=t.sent,200!==n.status){t.next=9;break}return t.next=7,n.json();case 7:return r=t.sent,t.abrupt("return",r.filter((function(t){return"ACTIVE"===t.status})));case 9:return t.abrupt("return",[]);case 10:case"end":return t.stop()}}),t)}))),a.apply(this,arguments)},e=function(t){return a.apply(this,arguments)},t.abrupt("return",{getActivitiesForOrganisationUnit:e,getActivity:n,createActivity:i,updateActivity:s,deleteActivity:c});case 11:case"end":return t.stop()}}),t)}))),ui.apply(this,arguments)}var ci={name:"ActivitiesList",props:["organisationUnitName"],components:{BreadCrumbTrail:Bt,SuccessBanner:Oe},data:function(){return{title:"Activities",heading:"Activities",createbody:"Activity created successfully",updatebody:"Activity updated successfully",deletebody:"Activity deleted successfully"}},setup:function(t){var e=Object(n["x"])([]),a=Object(n["x"])({}),r=Object(n["x"])([]),i=Object(n["x"])(!1),o=Object(n["x"])(!1),s=Object(n["x"])(!1);return Object(n["s"])(Object($["a"])(regeneratorRuntime.mark((function n(){var u,c,l,g;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return u=Object(Ft["e"])(),i.value=u.state.activitiesStore.activityAdded,o.value=u.state.activitiesStore.activityUpdated,s.value=u.state.activitiesStore.activityDeleted,n.next=6,si();case 6:return c=n.sent,n.next=9,c.getActivitiesForOrganisationUnit(t.organisationUnitName);case 9:return l=n.sent,e.value=l,n.next=13,L();case 13:return g=n.sent,n.next=16,g.getOrganisationUnit(t.organisationUnitName);case 16:a.value=n.sent,r.value=[{id:"home",to:"/",label:"Home"},{id:"organisation-unit-dashboard",to:{name:"organisation-unit-dashboard",params:{organisationUnitName:t.organisationUnitName}},label:"".concat(a.value.description," Dashboard")},{id:"activities-list",label:"Activities list"}];case 18:case"end":return n.stop()}}),n)})))),{activities:e,organisationUnit:a,links:r,activityAdded:i,activityUpdated:o,activityDeleted:s}},methods:Object(xt["a"])(Object(xt["a"])({},Object(Ft["c"])("activitiesStore",{resetState:"resetState"})),{},{initState:function(){this.resetState()},hasActivities:function(){return this.activities&&this.activities.length>0}})};const li=v()(ci,[["render",oi]]);var gi=li,bi={className:"govuk-width-container"},di={className:"govuk-main-wrapper govuk-main-wrapper--auto-spacing",id:"main-content",role:"main"},mi={className:"govuk-grid-row"},vi={className:"govuk-grid-column-full"},pi=Object(n["i"])(" Back "),ji=Object(n["g"])("h1",{className:"govuk-heading-xl"},"Add activity",-1),Oi=Object(n["g"])("div",{className:"govuk-inset-text"}," Activities create a means to create Task templates, where tasks that are created many times may be stored as templates and then simply created by giving the appropriate subject key or citizen guid. ",-1),hi={className:"govuk-fieldset"},fi=Object(n["g"])("button",{id:"add-activity-submit-button",type:"submit",className:"govuk-button","data-module":"govuk-button"},"Continue",-1);function ki(t,e,a,r,i,o){var s=Object(n["z"])("ErrorSummary"),u=Object(n["z"])("router-link"),c=Object(n["z"])("InputText"),l=Object(n["z"])("InputNumber"),g=Object(n["z"])("RadioGroup");return Object(n["u"])(),Object(n["f"])("div",bi,[Object(n["g"])("main",di,[Object(n["j"])(s,{validForm:t.validForm,errorMessages:t.errorMessages},null,8,["validForm","errorMessages"]),Object(n["g"])("div",mi,[Object(n["g"])("div",vi,[Object(n["j"])(u,{id:"list-activities",to:{name:"list-activities",params:{organisationUnitName:a.organisationUnitName}},class:"govuk-back-link"},{default:Object(n["F"])((function(){return[pi]})),_:1},8,["to"]),ji,Oi,Object(n["g"])("form",{onSubmit:e[4]||(e[4]=Object(n["H"])((function(){return o.onSubmit&&o.onSubmit.apply(o,arguments)}),["prevent"]))},[Object(n["g"])("fieldset",hi,[Object(n["j"])(c,{modelValue:t.activityName,"onUpdate:modelValue":e[0]||(e[0]=function(e){return t.activityName=e}),elementName:"activityName",errorMessages:t.errorMessages,label:"Activity name",hintText:"This could be the name of your activity. For example 'Find an address'."},null,8,["modelValue","errorMessages"]),Object(n["j"])(c,{modelValue:t.executionUrl,"onUpdate:modelValue":e[1]||(e[1]=function(e){return t.executionUrl=e}),elementName:"executionUrl",errorMessages:t.errorMessages,label:"Execution Url",hintText:"This is a URL that leads to a specific page on the client system.\n                  This is a page where the activity will actually be carried out. If it is a multi-page flow, then this is the URL of the first page."},null,8,["modelValue","errorMessages"]),Object(n["j"])(l,{modelValue:t.mustCompleteBy,"onUpdate:modelValue":e[2]||(e[2]=function(e){return t.mustCompleteBy=e}),modelModifiers:{number:!0},elementName:"mustCompleteBy",errorMessages:t.errorMessages,label:"Must Complete By",hintText:"Time in days that the task should be completed in."},null,8,["modelValue","errorMessages"]),Object(n["j"])(g,{modelValue:t.priority,"onUpdate:modelValue":e[3]||(e[3]=function(e){return t.priority=e}),modelModifiers:{number:!0},elementName:"priority",errorMessages:t.errorMessages,radioOptions:t.priorityRadioOptions,label:"Priority",hintText:"Priority of the task represented by a positive number, one being the most urgent.."},null,8,["modelValue","errorMessages","radioOptions"])]),fi],32)])])])])}var yi=["htmlFor"],Ni={className:"govuk-hint"},Ai={key:0,id:"activity-name-input-error",class:"govuk-error-message"},_i=Object(n["g"])("span",{class:"govuk-visually-hidden"},"Error:",-1),wi=["value","id","name","disabled"];function Ui(t,e,a,r,i,o){return Object(n["u"])(),Object(n["f"])("div",{class:Object(n["p"])(a.errorMessages[a.elementName]?"govuk-form-group govuk-form-group--error":"govuk-form-group")},[Object(n["g"])("label",{className:"govuk-label govuk-!-font-weight-bold",htmlFor:a.elementName},Object(n["B"])(a.label),9,yi),Object(n["g"])("p",Ni,Object(n["B"])(a.hintText),1),a.errorMessages[a.elementName]?(Object(n["u"])(),Object(n["f"])("p",Ai,[_i,Object(n["i"])(" "+Object(n["B"])(a.errorMessages[a.elementName]),1)])):Object(n["e"])("",!0),Object(n["g"])("input",{value:a.modelValue,onInput:e[0]||(e[0]=function(e){return t.$emit("update:modelValue",e.target.value)}),class:Object(n["p"])(a.errorMessages[a.elementName]?"govuk-input govuk-input--error govuk-input--width-30":"govuk-input govuk-input--width-30"),id:a.elementName,name:a.elementName,disabled:"true"===a.disabled,type:"number"},null,42,wi)],2)}a("a9e3");var xi={name:"InputNumber",props:{modelValue:{type:Number},elementName:{type:String},errorMessages:{type:Object,default:function(){return{}}},label:{type:String},hintText:{type:String},disabled:{type:String,default:function(){return"false"}}}};const Fi=v()(xi,[["render",Ui]]);var Mi=Fi,Si={className:"govuk-fieldset"},Vi={className:"govuk-fieldset__legend govuk-!-font-weight-bold"},Ri={id:"changed-name-hint",className:"govuk-hint"},Gi=["id"],Bi=Object(n["g"])("span",{class:"govuk-visually-hidden"},"Error:",-1),Ci={id:"priority",className:"govuk-radios govuk-radios--inline","data-module":"govuk-radios"},Ei=["value","onChange","id","checked","name"],Ti=["htmlFor"];function zi(t,e,a,r,i,o){return Object(n["u"])(),Object(n["f"])("div",{class:Object(n["p"])(a.errorMessages[a.elementName]?"govuk-form-group govuk-form-group--error":"govuk-form-group")},[Object(n["g"])("fieldset",Si,[Object(n["g"])("legend",Vi,Object(n["B"])(a.label),1),Object(n["g"])("div",Ri,Object(n["B"])(a.hintText),1),a.errorMessages[a.elementName]?(Object(n["u"])(),Object(n["f"])("p",{key:0,id:a.elementName+"-error",class:"govuk-error-message"},[Bi,Object(n["i"])(" "+Object(n["B"])(a.errorMessages[a.elementName]),1)],8,Gi)):Object(n["e"])("",!0),Object(n["g"])("div",Ci,[(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(a.radioOptions,(function(e,r){return Object(n["u"])(),Object(n["f"])("div",{key:e,className:"govuk-radios__item"},[Object(n["g"])("input",{value:e,onChange:function(a){return t.$emit("update:modelValue",e)},className:"govuk-radios__input",id:a.elementName+"-"+e,checked:e===a.modelValue,name:a.elementName,type:"radio"},null,40,Ei),Object(n["g"])("label",{className:"govuk-label govuk-radios__label",htmlFor:a.elementName+"-"+e},Object(n["B"])(r),9,Ti)])})),128))])])],2)}var Di={name:"RadioGroup",props:{modelValue:{type:Number},elementName:{type:String},radioOptions:{type:Object},errorMessages:{type:Object,default:function(){return{}}},label:{type:String},hintText:{type:String}}};const Hi=v()(Di,[["render",zi]]);var Ii=Hi,$i={name:"AddActivity",props:["organisationUnitName"],data:function(){return{activityName:null,executionUrl:null,mustCompleteBy:null,priority:null,priorityRadioOptions:{"Very High":1,High:2,Medium:3,Low:4,"Very Low":5},validForm:!0,errorMessages:{}}},components:{ErrorSummary:ze,InputText:We,InputNumber:Mi,RadioGroup:Ii},beforeMount:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.$route.name,"add-activity"!==e){t.next=4;break}return t.next=4,this.resetState();case 4:this.activityName=this.activity.activityName,this.executionUrl=this.activity.executionUrl,this.mustCompleteBy=this.activity.mustCompleteBy,this.priority=this.activity.priority;case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),computed:Object(xt["a"])({},Object(Ft["d"])("activitiesStore",["activity"])),methods:Object(xt["a"])({isValid:function(){return this.errorMessages=Object(xt["a"])(Object(xt["a"])(Object(xt["a"])({},!this.activityName&&{activityName:Se("activity name")}),!this.mustCompleteBy&&{mustCompleteBy:Se("must complete by")}),!this.priority&&{priority:Se("priority")}),0===Object.keys(this.errorMessages).length},onSubmit:function(){this.validForm=this.isValid(),this.validForm&&(this.editMode(!1),this.addActivity({activityName:this.activityName,executionUrl:this.executionUrl,mustCompleteBy:this.mustCompleteBy,priority:this.priority}),this.$router.push({name:"activity-attributes",params:{organisationUnitName:this.organisationUnitName}}))}},Object(Ft["c"])("activitiesStore",{addActivity:"addActivity",editMode:"editMode",resetState:"resetState"}))};const Li=v()($i,[["render",ki]]);var Pi=Li,Ki={class:"govuk-width-container"},qi={class:"govuk-main-wrapper govuk-main-wrapper--auto-spacing",id:"main-content",role:"main"},Wi={class:"govuk-grid-row"},Ji={class:"govuk-grid-column-full"},Qi=Object(n["i"])(" Back "),Yi=Object(n["i"])(" Back "),Xi=Object(n["g"])("h1",{class:"govuk-heading-xl"}," Attributes list ",-1),Zi={class:"govuk-table"},to=Object(n["g"])("thead",{class:"govuk-table__head"},[Object(n["g"])("tr",{class:"govuk-table__row"},[Object(n["g"])("th",{scope:"col",class:"govuk-table__header"},"Name"),Object(n["g"])("th",{scope:"col",class:"govuk-table__header"},"Value"),Object(n["g"])("th",{scope:"col",class:"govuk-table__header"},"Mandatory/Optional"),Object(n["g"])("th",{scope:"col",class:"govuk-table__header"},"Actions")])],-1),eo={class:"govuk-table__body"},ao={class:"govuk-table__cell"},no={class:"govuk-table__cell"},ro=Object(n["g"])("td",{class:"govuk-table__cell"},"Mandatory",-1),io={class:"govuk-table__cell"},oo=Object(n["i"])(" Remove "),so={class:"govuk-visually-hidden"},uo={class:"govuk-table__cell"},co={class:"govuk-table__cell"},lo=Object(n["g"])("td",{class:"govuk-table__cell"},"Optional",-1),go={class:"govuk-table__cell"},bo=Object(n["i"])(" Remove "),mo={class:"govuk-visually-hidden"},vo={class:"govuk-body govuk-\\!-margin-bottom-3"},po=Object(n["i"])(" Add activity attribute "),jo=Object(n["g"])("button",{type:"submit",class:"govuk-button","data-module":"govuk-button"},"Continue",-1),Oo=[jo];function ho(t,e,a,r,i,o){var s=Object(n["z"])("ErrorSummaryHeader"),u=Object(n["z"])("router-link");return Object(n["u"])(),Object(n["f"])("div",Ki,[Object(n["g"])("main",qi,[Object(n["j"])(s,{validForm:t.validForm,errorTitle:" Please add mandatory attributes before continuing"},null,8,["validForm"]),Object(n["g"])("div",Wi,[Object(n["g"])("div",Ji,[!0===t.editMode?(Object(n["u"])(),Object(n["d"])(u,{key:0,id:"edit-activity",to:{name:"edit-activity",params:{activityName:t.activity.activityName,organisationUnitName:a.organisationUnitName}},class:"govuk-back-link"},{default:Object(n["F"])((function(){return[Qi]})),_:1},8,["to"])):(Object(n["u"])(),Object(n["d"])(u,{key:1,id:"add-activity",to:{name:"add-activity",params:{organisationUnitName:a.organisationUnitName}},class:"govuk-back-link"},{default:Object(n["F"])((function(){return[Yi]})),_:1},8,["to"])),Xi,Object(n["g"])("table",Zi,[to,Object(n["g"])("tbody",eo,[(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(this.activity.mandatoryAttributes,(function(t,e){return Object(n["u"])(),Object(n["f"])("tr",{key:e,class:"govuk-table__row"},[Object(n["g"])("td",ao,Object(n["B"])(e),1),Object(n["g"])("td",no,[(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(t,(function(t,e){return Object(n["u"])(),Object(n["f"])(n["a"],{key:e},[Object(n["i"])(Object(n["B"])(t),1)],64)})),128))]),ro,Object(n["g"])("td",io,[Object(n["j"])(u,{id:"remove-mandatory-activity-attribute-"+e,to:{name:"remove-mandatory-activity-attribute",params:{attributeKey:e,organisationUnitName:a.organisationUnitName}},class:"govuk-breadcrumbs__link"},{default:Object(n["F"])((function(){return[oo,Object(n["g"])("span",so,Object(n["B"])(e),1)]})),_:2},1032,["id","to"])])])})),128)),(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(this.activity.optionalAttributes,(function(t,e){return Object(n["u"])(),Object(n["f"])("tr",{key:e,class:"govuk-table__row"},[Object(n["g"])("td",uo,Object(n["B"])(e),1),Object(n["g"])("td",co,[(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(t,(function(t,e){return Object(n["u"])(),Object(n["f"])(n["a"],{key:e},[Object(n["i"])(Object(n["B"])(t),1)],64)})),128))]),lo,Object(n["g"])("td",go,[Object(n["j"])(u,{id:"remove-optional-activity-attribute-"+e,to:{name:"remove-optional-activity-attribute",params:{attributeKey:e,organisationUnitName:a.organisationUnitName}},class:"govuk-breadcrumbs__link"},{default:Object(n["F"])((function(){return[bo,Object(n["g"])("span",mo,Object(n["B"])(e),1)]})),_:2},1032,["id","to"])])])})),128))])]),Object(n["g"])("p",vo,[Object(n["j"])(u,{id:"add-activity-attribute",to:{name:"add-activity-attribute",params:{organisationUnitName:a.organisationUnitName}},class:"govuk-breadcrumbs__link"},{default:Object(n["F"])((function(){return[po]})),_:1},8,["to"])]),Object(n["g"])("form",{onSubmit:e[0]||(e[0]=Object(n["H"])((function(){return o.onSubmit&&o.onSubmit.apply(o,arguments)}),["prevent"]))},Oo,32)])])])])}var fo={key:0,class:"govuk-error-summary","aria-labelledby":"error-summary-title",role:"alert","data-module":"govuk-error-summary"},ko={class:"govuk-error-summary__title",id:"error-summary-title"};function yo(t,e,a,r,i,o){return a.validForm?Object(n["e"])("",!0):(Object(n["u"])(),Object(n["f"])("div",fo,[Object(n["g"])("h2",ko,Object(n["B"])(a.errorTitle),1)]))}var No={name:"ErrorSummaryHeader",props:["validForm","errorTitle"]};const Ao=v()(No,[["render",yo]]);var _o=Ao,wo={name:"ActivityAttributes",props:["organisationUnitName"],data:function(){return{validForm:!0,errorMessages:{}}},components:{ErrorSummaryHeader:_o},computed:Object(Ft["d"])("activitiesStore",["activity","editMode"]),methods:{onSubmit:function(){!0===this.editMode?this.$router.push({name:"edit-activity-confirmation",params:{organisationUnitName:this.organisationUnitName}}):this.$router.push({name:"add-activity-confirmation",params:{organisationUnitName:this.organisationUnitName}})}}};const Uo=v()(wo,[["render",ho]]);var xo=Uo,Fo={class:"govuk-width-container"},Mo={class:"govuk-main-wrapper govuk-main-wrapper--auto-spacing",id:"main-content",role:"main"},So={class:"govuk-grid-row"},Vo={class:"govuk-grid-column-full"},Ro=Object(n["i"])(" Back "),Go=Object(n["g"])("h1",{class:"govuk-heading-xl"},[Object(n["g"])("label",{class:"govuk-label govuk-label--l",for:"attributeKey"}," Add attribute ")],-1),Bo=Object(n["g"])("div",{class:"govuk-inset-text"}," Attributes are used to match tasks to agents. For example, agent roles or location or grade. ",-1),Co={class:"govuk-fieldset","data-required":"","data-error":"Cannot be blank"},Eo=Object(n["g"])("button",{type:"submit",class:"govuk-button","data-module":"govuk-button"},"Continue",-1);function To(t,e,a,r,i,o){var s=Object(n["z"])("router-link"),u=Object(n["z"])("ErrorSummary"),c=Object(n["z"])("DropDown");return Object(n["u"])(),Object(n["f"])("div",Fo,[Object(n["g"])("main",Mo,[Object(n["g"])("div",So,[Object(n["g"])("div",Vo,[Object(n["j"])(s,{id:"add-activity",to:{name:"activity-attributes",params:{organisationUnitName:a.organisationUnitName}},class:"govuk-back-link"},{default:Object(n["F"])((function(){return[Ro]})),_:1},8,["to"]),Object(n["j"])(u,{validForm:t.validForm,errorMessages:t.errorMessages},null,8,["validForm","errorMessages"]),Go,Bo,Object(n["g"])("form",{onSubmit:e[1]||(e[1]=Object(n["H"])((function(){return o.onSubmit&&o.onSubmit.apply(o,arguments)}),["prevent"])),class:"form",method:"POST",action:"#"},[Object(n["g"])("fieldset",Co,[Object(n["j"])(c,{modelValue:t.attributeKey,"onUpdate:modelValue":e[0]||(e[0]=function(e){return t.attributeKey=e}),elementName:"attributeKey",selectOptions:r.attributeKeys,errorMessages:t.errorMessages},null,8,["modelValue","selectOptions","errorMessages"])]),Eo],32)])])])])}var zo=["for"],Do={key:0,class:"govuk-hint"},Ho=["id"],Io=Object(n["g"])("span",{class:"govuk-visually-hidden"},"Error:",-1),$o=["value","id","name"],Lo=Object(n["g"])("option",{disabled:"",selected:""},"-- Select an option --",-1),Po=["value"];function Ko(t,e,a,r,i,o){return Object(n["u"])(),Object(n["f"])("div",{class:Object(n["p"])(a.errorMessages[a.elementName]?"govuk-form-group govuk-form-group--error":"govuk-form-group")},[Object(n["g"])("label",{class:"govuk-label govuk-!-font-weight-bold",for:a.elementName},Object(n["B"])(a.label),9,zo),a.hintText?(Object(n["u"])(),Object(n["f"])("p",Do,Object(n["B"])(a.hintText),1)):Object(n["e"])("",!0),a.errorMessages[a.elementName]?(Object(n["u"])(),Object(n["f"])("p",{key:1,id:a.elementName+"-error",class:"govuk-error-message"},[Io,Object(n["i"])(" "+Object(n["B"])(a.errorMessages[a.elementName]),1)],8,Ho)):Object(n["e"])("",!0),Object(n["g"])("select",{class:"govuk-select",value:a.modelValue,onChange:e[0]||(e[0]=function(e){return t.$emit("update:modelValue",e.target.value)}),id:a.elementName,name:a.elementName},[Lo,(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(a.selectOptions,(function(t){return Object(n["u"])(),Object(n["f"])("option",{value:t,key:t},Object(n["B"])(t),9,Po)})),128))],40,$o)],2)}var qo={name:"DropDown",props:{modelValue:{type:String},elementName:{type:String},selectOptions:{type:Object},label:{type:String},hintText:{type:String},errorMessages:{type:Object,default:function(){return{}}}}};const Wo=v()(qo,[["render",Ko]]);var Jo=Wo,Qo={name:"AddActivityAttribute",props:["organisationUnitName"],components:{DropDown:Jo,ErrorSummary:ze},setup:function(t){var e=Object(n["x"])([]);return Object(n["s"])(Object($["a"])(regeneratorRuntime.mark((function a(){var n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,L();case 2:return n=a.sent,a.next=5,n.getOrganisationUnit(t.organisationUnitName);case 5:r=a.sent,e.value=Object.keys(r.attributes);case 7:case"end":return a.stop()}}),a)})))),{attributeKeys:e}},data:function(){return{validForm:!0,errorMessages:{},attributeKey:null}},methods:{isValid:function(){return this.errorMessages=Object(xt["a"])({},!this.attributeKey&&{attributeKey:Se("attribute name")}),0===Object.keys(this.errorMessages).length},onSubmit:function(){this.validForm=this.isValid(),this.validForm&&this.$router.push({name:"add-activity-attribute-value",params:{organisationUnitName:this.organisationUnitName,attributeKey:this.attributeKey}})}}};const Yo=v()(Qo,[["render",To]]);var Xo=Yo,Zo={class:"govuk-width-container"},ts={class:"govuk-main-wrapper govuk-main-wrapper--auto-spacing",id:"main-content",role:"main"},es={class:"govuk-grid-row"},as={class:"govuk-grid-column-full"},ns=Object(n["i"])(" Back "),rs=Object(n["g"])("h1",{class:"govuk-heading-xl"},[Object(n["g"])("label",{class:"govuk-label govuk-label--l",for:"attributeValue"}," Add attribute value ")],-1),is=Object(n["g"])("div",{class:"govuk-inset-text"}," Attributes are used to match tasks to agents. For example, agent roles or location or grade. ",-1),os={class:"govuk-fieldset"},ss=Object(n["g"])("button",{type:"submit",class:"govuk-button","data-module":"govuk-button"},"Continue",-1);function us(t,e,a,r,i,o){var s=Object(n["z"])("router-link"),u=Object(n["z"])("ErrorSummary"),c=Object(n["z"])("DropDown"),l=Object(n["z"])("RadioGroup");return Object(n["u"])(),Object(n["f"])("div",Zo,[Object(n["g"])("main",ts,[Object(n["g"])("div",es,[Object(n["g"])("div",as,[Object(n["j"])(s,{id:"back-link",to:{name:"add-activity-attribute",params:{organisationUnitName:a.organisationUnitName}},class:"govuk-back-link"},{default:Object(n["F"])((function(){return[ns]})),_:1},8,["to"]),Object(n["j"])(u,{validForm:t.validForm,errorMessages:t.errorMessages},null,8,["validForm","errorMessages"]),rs,is,Object(n["g"])("form",{onSubmit:e[2]||(e[2]=Object(n["H"])((function(){return o.onSubmit&&o.onSubmit.apply(o,arguments)}),["prevent"]))},[Object(n["g"])("fieldset",os,[Object(n["j"])(c,{modelValue:t.attributeValue,"onUpdate:modelValue":e[0]||(e[0]=function(e){return t.attributeValue=e}),elementName:"attributeValue",selectOptions:r.attributeValues,errorMessages:t.errorMessages},null,8,["modelValue","selectOptions","errorMessages"]),Object(n["j"])(l,{modelValue:t.mandatoryOrOptional,"onUpdate:modelValue":e[1]||(e[1]=function(e){return t.mandatoryOrOptional=e}),elementName:"mandatoryOrOptional",radioOptions:t.mandatoryOrOptionalOptions,label:"Mandatory or Optional",hintText:"An attribute can be mandatory for task matching or optional.",errorMessages:t.errorMessages},null,8,["modelValue","radioOptions","errorMessages"])]),ss],32)])])])])}var cs={name:"AddActivityAttributeValue",props:["organisationUnitName","attributeKey"],components:{DropDown:Jo,RadioGroup:Ii,ErrorSummary:ze},data:function(){return{attributeValue:null,mandatoryOrOptional:null,mandatoryOrOptionalOptions:{Mandatory:1,Optional:0},validForm:!0,errorMessages:{}}},setup:function(t){var e=Object(n["x"])([]);return Object(n["s"])(Object($["a"])(regeneratorRuntime.mark((function a(){var n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,L();case 2:return n=a.sent,a.next=5,n.getOrganisationUnit(t.organisationUnitName);case 5:r=a.sent,e.value=r.attributes[t.attributeKey];case 7:case"end":return a.stop()}}),a)})))),{attributeValues:e}},methods:Object(xt["a"])({isValid:function(){return this.errorMessages=Object(xt["a"])(Object(xt["a"])({},!this.attributeValue&&{attributeValue:Se("attribute value")}),null===this.mandatoryOrOptional&&{mandatoryOrOptional:Se("Mandatory or Optional")}),0===Object.keys(this.errorMessages).length},onSubmit:function(){this.validForm=this.isValid(),this.validForm&&(this.mandatoryOrOptional?this.addMandatoryAttribute({attributeKey:this.attributeKey,attributeValue:this.attributeValue}):this.addOptionalAttribute({attributeKey:this.attributeKey,attributeValue:this.attributeValue}),this.$router.push({name:"activity-attributes",params:{organisationUnitName:this.organisationUnitName}}))}},Object(Ft["c"])("activitiesStore",{addMandatoryAttribute:"addMandatoryAttribute",addOptionalAttribute:"addOptionalAttribute"}))};const ls=v()(cs,[["render",us]]);var gs=ls,bs={class:"govuk-width-container"},ds={class:"govuk-main-wrapper govuk-main-wrapper--auto-spacing",id:"main-content",role:"main"},ms={key:0,class:"govuk-error-summary","aria-labelledby":"error-summary-title",role:"alert","data-module":"govuk-error-summary"},vs=Object(n["g"])("h2",{class:"govuk-error-summary__title",id:"error-summary-title"}," There is a problem ",-1),ps={class:"govuk-error-summary__body"},js={class:"govuk-list govuk-error-summary__list"},Os={class:"govuk-grid-row"},hs={class:"govuk-grid-column-full"},fs=Object(n["i"])(" Back "),ks={class:"govuk-fieldset","aria-describedby":"add-another-attribute-hint"},ys=Object(n["g"])("legend",{class:"govuk-fieldset__legend govuk-fieldset__legend--l"},[Object(n["g"])("h1",{class:"govuk-fieldset__heading"}," Do you want to remove activity attribute? ")],-1),Ns={key:0,id:"delete-activity-attribute-input-error",class:"govuk-error-message"},As=Object(n["g"])("span",{class:"govuk-visually-hidden"},"Error:",-1),_s={id:"deleteActivityAttribute",class:"govuk-radios govuk-radios--inline govuk-!-padding-top-3"},ws={class:"govuk-radios__item"},Us=Object(n["g"])("label",{class:"govuk-label govuk-radios__label",for:"delete-activity-attribute-yes"}," Yes ",-1),xs={class:"govuk-radios__item"},Fs=Object(n["g"])("label",{class:"govuk-label govuk-radios__label",for:"delete-activity-attribute-no"}," No ",-1),Ms=Object(n["g"])("button",{class:"govuk-button","data-module":"govuk-button"},"Continue",-1);function Ss(t,e,a,r,i,o){var s=Object(n["z"])("router-link");return Object(n["u"])(),Object(n["f"])("div",bs,[Object(n["g"])("main",ds,[t.validForm?Object(n["e"])("",!0):(Object(n["u"])(),Object(n["f"])("div",ms,[vs,Object(n["g"])("div",ps,[Object(n["g"])("ul",js,[(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(t.errorMessages,(function(t,e){return Object(n["u"])(),Object(n["f"])("li",{key:e},[Object(n["j"])(s,{to:{hash:"#"+e}},{default:Object(n["F"])((function(){return[Object(n["i"])(Object(n["B"])(t),1)]})),_:2},1032,["to"])])})),128))])])])),Object(n["g"])("div",Os,[Object(n["g"])("div",hs,[Object(n["j"])(s,{id:"activity-attributes-back-link",to:{name:"activity-attributes",params:{organisationUnitName:a.organisationUnitName}},class:"govuk-back-link"},{default:Object(n["F"])((function(){return[fs]})),_:1},8,["to"]),Object(n["g"])("form",{onSubmit:e[2]||(e[2]=Object(n["H"])((function(){return o.onSubmit&&o.onSubmit.apply(o,arguments)}),["prevent"])),class:"form"},[Object(n["g"])("div",{class:Object(n["p"])(t.errorMessages["deleteActivityAttribute"]?"govuk-form-group--error":"govuk-form-group")},[Object(n["g"])("fieldset",ks,[ys,t.errorMessages["deleteActivityAttribute"]?(Object(n["u"])(),Object(n["f"])("p",Ns,[As,Object(n["i"])(" "+Object(n["B"])(t.errorMessages["deleteActivityAttribute"]),1)])):Object(n["e"])("",!0),Object(n["g"])("div",_s,[Object(n["g"])("div",ws,[Object(n["G"])(Object(n["g"])("input",{"onUpdate:modelValue":e[0]||(e[0]=function(e){return t.deleteActivityAttribute=e}),class:"govuk-radios__input",id:"delete-activity-attribute-yes",name:"delete-activity-attribute",type:"radio",value:"true"},null,512),[[n["D"],t.deleteActivityAttribute]]),Us]),Object(n["g"])("div",xs,[Object(n["G"])(Object(n["g"])("input",{"onUpdate:modelValue":e[1]||(e[1]=function(e){return t.deleteActivityAttribute=e}),class:"govuk-radios__input",id:"delete-activity-attribute-no",name:"delete-activity-attribute",type:"radio",value:"false"},null,512),[[n["D"],t.deleteActivityAttribute]]),Fs])])]),Ms],2)],32)])])])])}var Vs={name:"RemoveActivity",props:["organisationUnitName"],data:function(){return{attributeKey:null,deleteActivityAttribute:null,validForm:!0,errorMessages:{}}},beforeMount:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.attributeKey=this.$route.params.attributeKey;case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:Object(xt["a"])({isValid:function(){return this.errorMessages=Object(xt["a"])({},null==this.deleteActivityAttribute&&{deleteActivityAttribute:Se("selection")}),0===Object.keys(this.errorMessages).length},onSubmit:function(){var t=this;return Object($["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.validForm=t.isValid(),!0!==t.validForm){e.next=5;break}return"true"===t.deleteActivityAttribute&&(a=t.$route.name,"remove-mandatory-activity-attribute"===a?t.removeMandatoryAttribute(t.attributeKey):t.removeOptionalAttribute(t.attributeKey)),e.next=5,t.$router.push("/organisation-unit-dashboard/"+t.organisationUnitName+"/activity-attributes");case 5:case"end":return e.stop()}}),e)})))()}},Object(Ft["c"])("activitiesStore",{removeMandatoryAttribute:"removeMandatoryAttribute",removeOptionalAttribute:"removeOptionalAttribute"}))};const Rs=v()(Vs,[["render",Ss]]);var Gs=Rs,Bs={class:"govuk-width-container"},Cs={class:"govuk-main-wrapper govuk-main-wrapper--auto-spacing",id:"main-content",role:"main"},Es={class:"govuk-grid-row"},Ts={class:"govuk-grid-column-full"},zs=Object(n["i"])(" Back "),Ds=Object(n["g"])("h1",{class:"govuk-heading-xl"}," Add activity confirmation ",-1),Hs=Object(n["g"])("h2",{class:"govuk-heading-m"}," Activity details ",-1),Is={class:"govuk-summary-list"},$s={class:"govuk-summary-list__row"},Ls=Object(n["g"])("dt",{class:"govuk-summary-list__key"}," Activity name ",-1),Ps={class:"govuk-summary-list__value"},Ks={class:"govuk-summary-list__actions"},qs=Object(n["i"])(" Change "),Ws=Object(n["g"])("span",{class:"govuk-visually-hidden"},"activity name",-1),Js={class:"govuk-summary-list__row"},Qs=Object(n["g"])("dt",{class:"govuk-summary-list__key"}," Execution url ",-1),Ys={class:"govuk-summary-list__value"},Xs={class:"govuk-summary-list__actions"},Zs=Object(n["i"])(" Change "),tu=Object(n["g"])("span",{class:"govuk-visually-hidden"},"execution url",-1),eu={class:"govuk-summary-list__row"},au=Object(n["g"])("dt",{class:"govuk-summary-list__key"}," Must complete by ",-1),nu={class:"govuk-summary-list__value"},ru={class:"govuk-summary-list__actions"},iu=Object(n["i"])(" Change "),ou=Object(n["g"])("span",{class:"govuk-visually-hidden"},"must complete by",-1),su={class:"govuk-summary-list__row"},uu=Object(n["g"])("dt",{class:"govuk-summary-list__key"}," Priority ",-1),cu={class:"govuk-summary-list__value"},lu={class:"govuk-summary-list__actions"},gu=Object(n["i"])(" Change "),bu=Object(n["g"])("span",{class:"govuk-visually-hidden"},"priority",-1),du={class:"govuk-summary-list__row"},mu=Object(n["g"])("dt",{class:"govuk-summary-list__key"}," Attributes ",-1),vu={class:"govuk-summary-list__value"},pu={class:"govuk-summary-list__actions"},ju=Object(n["i"])(" Change "),Ou=Object(n["g"])("span",{class:"govuk-visually-hidden"},"attributes",-1),hu=Object(n["g"])("button",{"data-prevent-double-click":"true",class:"govuk-button",role:"link","data-module":"govuk-button"},"Save and continue",-1),fu=[hu];function ku(t,e,a,r,i,o){var s=Object(n["z"])("router-link");return Object(n["u"])(),Object(n["f"])("div",Bs,[Object(n["g"])("main",Cs,[Object(n["g"])("div",Es,[Object(n["g"])("div",Ts,[Object(n["j"])(s,{id:"back-link",to:{name:"activity-attributes",params:{organisationUnitName:a.organisationUnitName}},class:"govuk-back-link"},{default:Object(n["F"])((function(){return[zs]})),_:1},8,["to"]),Ds,Hs,Object(n["g"])("dl",Is,[Object(n["g"])("div",$s,[Ls,Object(n["g"])("dd",Ps,Object(n["B"])(t.activity.activityName),1),Object(n["g"])("dd",Ks,[Object(n["j"])(s,{id:"add-activity-activity-name",to:{name:"add-activity",params:{name:this.organisationUnitName},hash:"#activityName"},class:"govuk-link"},{default:Object(n["F"])((function(){return[qs,Ws]})),_:1},8,["to"])])]),Object(n["g"])("div",Js,[Qs,Object(n["g"])("dd",Ys,Object(n["B"])(t.activity.executionUrl),1),Object(n["g"])("dd",Xs,[Object(n["j"])(s,{id:"add-activity-execution-url",to:{name:"add-activity",params:{name:this.organisationUnitName},hash:"#executionUrl"},class:"govuk-link"},{default:Object(n["F"])((function(){return[Zs,tu]})),_:1},8,["to"])])]),Object(n["g"])("div",eu,[au,Object(n["g"])("dd",nu,Object(n["B"])(t.activity.mustCompleteBy)+" days ",1),Object(n["g"])("dd",ru,[Object(n["j"])(s,{id:"add-activity-must-complete-by",to:{name:"add-activity",params:{name:this.organisationUnitName},hash:"#mustCompleteBy"},class:"govuk-link"},{default:Object(n["F"])((function(){return[iu,ou]})),_:1},8,["to"])])]),Object(n["g"])("div",su,[uu,Object(n["g"])("dd",cu,Object(n["B"])(t.activity.priority),1),Object(n["g"])("dd",lu,[Object(n["j"])(s,{id:"add-activity-priority",to:{name:"add-activity",params:{name:this.organisationUnitName},hash:"#priority"},class:"govuk-link"},{default:Object(n["F"])((function(){return[gu,bu]})),_:1},8,["to"])])]),Object(n["g"])("div",du,[mu,Object(n["g"])("dd",vu,[(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(this.activity.mandatoryAttributes,(function(t,e){return Object(n["u"])(),Object(n["f"])("div",{key:e},Object(n["B"])(e)+"="+Object(n["B"])(t),1)})),128)),(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(this.activity.optionalAttributes,(function(t,e){return Object(n["u"])(),Object(n["f"])("div",{key:e},Object(n["B"])(e)+"="+Object(n["B"])(t),1)})),128))]),Object(n["g"])("dd",pu,[Object(n["j"])(s,{id:"add-activity-attributes",to:{name:"activity-attributes",params:{organisationUnitName:this.organisationUnitName}},class:"govuk-link"},{default:Object(n["F"])((function(){return[ju,Ou]})),_:1},8,["to"])])])]),Object(n["g"])("form",{onSubmit:e[0]||(e[0]=Object(n["H"])((function(){return o.onSubmit&&o.onSubmit.apply(o,arguments)}),["prevent"])),method:"POST",action:"#"},fu,32)])])])])}var yu={name:"AddActivityConfirmation",props:["organisationUnitName"],computed:Object(Ft["d"])("activitiesStore",["activity"]),methods:Object(xt["a"])({onSubmit:function(){var t=this;return Object($["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,si();case 2:return a=e.sent,e.next=5,a.createActivity(t.activity,t.organisationUnitName);case 5:if(n=e.sent,400!==n.status){e.next=12;break}return e.next=9,n.json();case 9:e.sent,e.next=13;break;case 12:201===n.status&&(t.resetState(),t.changeActivityAdded(!0),t.$router.push({name:"list-activities",params:{organisationUnitName:t.organisationUnitName}}));case 13:case"end":return e.stop()}}),e)})))()}},Object(Ft["c"])("activitiesStore",{resetState:"resetState",changeActivityAdded:"changeActivityAdded"}))};const Nu=v()(yu,[["render",ku]]);var Au=Nu,_u={class:"govuk-width-container"},wu={class:"govuk-main-wrapper govuk-main-wrapper--auto-spacing",id:"main-content",role:"main"},Uu={class:"govuk-grid-row"},xu={class:"govuk-grid-column-full"},Fu=Object(n["i"])(" Back "),Mu={class:"govuk-fieldset"},Su=Object(n["g"])("legend",{class:"govuk-fieldset__legend govuk-fieldset__legend--l"},[Object(n["g"])("h1",{class:"govuk-fieldset__heading"}," Do you want to remove an activity? ")],-1),Vu={key:0,id:"delete-activity-input-error",class:"govuk-error-message"},Ru=Object(n["g"])("span",{class:"govuk-visually-hidden"},"Error:",-1),Gu={id:"deleteActivity",class:"govuk-radios govuk-radios--inline govuk-!-padding-top-3"},Bu={class:"govuk-radios__item"},Cu=Object(n["g"])("label",{class:"govuk-label govuk-radios__label",for:"delete-activity-yes"}," Yes ",-1),Eu={class:"govuk-radios__item"},Tu=Object(n["g"])("label",{class:"govuk-label govuk-radios__label",for:"delete-activity-no"}," No ",-1),zu=Object(n["g"])("button",{class:"govuk-button","data-module":"govuk-button"},"Continue",-1);function Du(t,e,a,r,i,o){var s=Object(n["z"])("router-link"),u=Object(n["z"])("ErrorSummary");return Object(n["u"])(),Object(n["f"])("div",_u,[Object(n["g"])("main",wu,[Object(n["g"])("div",Uu,[Object(n["g"])("div",xu,[Object(n["j"])(s,{id:"list-activities-back-link",to:{name:"list-activities",params:{organisationUnitName:a.organisationUnitName}},class:"govuk-back-link"},{default:Object(n["F"])((function(){return[Fu]})),_:1},8,["to"]),Object(n["j"])(u,{validForm:t.validForm,errorMessages:t.errorMessages},null,8,["validForm","errorMessages"]),Object(n["g"])("form",{onSubmit:e[2]||(e[2]=Object(n["H"])((function(){return o.onSubmit&&o.onSubmit.apply(o,arguments)}),["prevent"]))},[Object(n["g"])("div",{class:Object(n["p"])(t.errorMessages["deleteActivity"]?"govuk-form-group--error":"govuk-form-group")},[Object(n["g"])("fieldset",Mu,[Su,t.errorMessages["deleteActivity"]?(Object(n["u"])(),Object(n["f"])("p",Vu,[Ru,Object(n["i"])(" "+Object(n["B"])(t.errorMessages["deleteActivity"]),1)])):Object(n["e"])("",!0),Object(n["g"])("div",Gu,[Object(n["g"])("div",Bu,[Object(n["G"])(Object(n["g"])("input",{"onUpdate:modelValue":e[0]||(e[0]=function(e){return t.deleteActivity=e}),class:"govuk-radios__input",id:"delete-activity-yes",name:"delete-activity",type:"radio",value:"true"},null,512),[[n["D"],t.deleteActivity]]),Cu]),Object(n["g"])("div",Eu,[Object(n["G"])(Object(n["g"])("input",{"onUpdate:modelValue":e[1]||(e[1]=function(e){return t.deleteActivity=e}),class:"govuk-radios__input",id:"delete-activity-no",name:"delete-activity",type:"radio",value:"false"},null,512),[[n["D"],t.deleteActivity]]),Tu])])]),zu],2)],32)])])])])}var Hu={name:"RemoveActivity",props:["organisationUnitName","activityName"],components:{ErrorSummary:ze},data:function(){return{deleteActivity:null,validForm:!0,errorMessages:{}}},methods:Object(xt["a"])({isValid:function(){return this.errorMessages=Object(xt["a"])({},null==this.deleteActivity&&{deleteActivity:Se("selection")}),0===Object.keys(this.errorMessages).length},onSubmit:function(){var t=this;return Object($["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.validForm=t.isValid(),!0!==t.validForm){e.next=17;break}if("true"!==t.deleteActivity){e.next=16;break}return e.next=5,si();case 5:return a=e.sent,e.next=8,a.deleteActivity(t.organisationUnitName,t.activityName);case 8:if(n=e.sent,400!==n.status){e.next=15;break}return e.next=12,n.json();case 12:e.sent,e.next=16;break;case 15:t.changeActivityDeleted(!0);case 16:t.$router.push({name:"list-activities",params:{organisationUnitName:t.organisationUnitName}});case 17:case"end":return e.stop()}}),e)})))()}},Object(Ft["c"])("activitiesStore",{changeActivityDeleted:"changeActivityDeleted"}))};const Iu=v()(Hu,[["render",Du]]);var $u=Iu,Lu={className:"govuk-width-container "},Pu={className:"govuk-main-wrapper govuk-main-wrapper--auto-spacing",id:"main-content",role:"main"},Ku={className:"govuk-grid-row"},qu={className:"govuk-grid-column-full"},Wu=Object(n["i"])(" Back "),Ju=Object(n["g"])("h1",{className:"govuk-heading-xl"}," Edit activity ",-1),Qu=Object(n["g"])("div",{className:"govuk-inset-text"}," Activities create a means to create Task templates, where tasks that are created many times may be stored as templates and then simply created by giving the appropriate subject key or citizen guid. ",-1),Yu={className:"govuk-fieldset"},Xu=Object(n["g"])("button",{id:"add-activity-submit-button",type:"submit",className:"govuk-button","data-module":"govuk-button"},"Continue",-1);function Zu(t,e,a,r,i,o){var s=Object(n["z"])("ErrorSummary"),u=Object(n["z"])("router-link"),c=Object(n["z"])("InputText"),l=Object(n["z"])("InputNumber"),g=Object(n["z"])("RadioGroup");return Object(n["u"])(),Object(n["f"])("div",Lu,[Object(n["g"])("main",Pu,[Object(n["j"])(s,{validForm:t.validForm,errorMessages:t.errorMessages},null,8,["validForm","errorMessages"]),Object(n["g"])("div",Ku,[Object(n["g"])("div",qu,[Object(n["j"])(u,{id:"list-activities",to:{name:"list-activities",params:{organisationUnitName:a.organisationUnitName}},class:"govuk-back-link"},{default:Object(n["F"])((function(){return[Wu]})),_:1},8,["to"]),Ju,Qu,Object(n["g"])("form",{onSubmit:e[3]||(e[3]=Object(n["H"])((function(){return o.onSubmit&&o.onSubmit.apply(o,arguments)}),["prevent"]))},[Object(n["g"])("fieldset",Yu,[Object(n["j"])(c,{modelValue:a.activityName,elementName:"activityName",errorMessages:t.errorMessages,label:"Activity name",hintText:"This could be the name of your activity. For example 'Find an address'.",disabled:"true"},null,8,["modelValue","errorMessages"]),Object(n["j"])(c,{modelValue:r.executionUrl,"onUpdate:modelValue":e[0]||(e[0]=function(t){return r.executionUrl=t}),elementName:"executionUrl",errorMessages:t.errorMessages,label:"Execution Url",hintText:"This is a URL that leads to a specific page on the client system.\n                  This is a page where the activity will actually be carried out. If it is a multi-page flow, then this is the URL of the first page."},null,8,["modelValue","errorMessages"]),Object(n["j"])(l,{modelValue:r.mustCompleteBy,"onUpdate:modelValue":e[1]||(e[1]=function(t){return r.mustCompleteBy=t}),modelModifiers:{number:!0},elementName:"mustCompleteBy",errorMessages:t.errorMessages,label:"Must Complete By",hintText:"Time in days that the task should be completed in."},null,8,["modelValue","errorMessages"]),Object(n["j"])(g,{modelValue:r.priority,"onUpdate:modelValue":e[2]||(e[2]=function(t){return r.priority=t}),modelModifiers:{number:!0},elementName:"priority",errorMessages:t.errorMessages,radioOptions:t.priorityRadioOptions,label:"Priority",hintText:"Priority of the task represented by a positive number, one being the most urgent.."},null,8,["modelValue","errorMessages","radioOptions"])]),Xu],32)])])])])}var tc={name:"AddActivity",props:["organisationUnitName","activityName"],components:{ErrorSummary:ze,InputText:We,InputNumber:Mi,RadioGroup:Ii},setup:function(t){var e=Object(n["x"])(""),a=Object(n["x"])(0),r=Object(n["x"])(0),i=Object(n["x"])({}),o=Object(n["x"])({});return Object(n["s"])(Object($["a"])(regeneratorRuntime.mark((function n(){var s,u,c,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(Ft["e"])();case 2:return s=n.sent,u=s.state.activitiesStore.activity,n.next=6,si();case 6:return c=n.sent,n.next=9,c.getActivity(t.organisationUnitName,t.activityName);case 9:l=n.sent,e.value=u.executionUrl?u.executionUrl:l.executionUrl,a.value=u.mustCompleteBy?u.mustCompleteBy:l.mustCompleteBy,r.value=u.priority?u.priority:l.priority,i.value=u.mandatoryAttributes&&Object.keys(u.mandatoryAttributes)>0?u.mandatoryAttributes:l.mandatoryAttributes,o.value=u.optionalAttributes&&Object.keys(u.optionalAttributes)>0?u.optionalAttributes:l.optionalAttributes;case 15:case"end":return n.stop()}}),n)})))),{executionUrl:e,mustCompleteBy:a,priority:r,mandatoryAttributes:i,optionalAttributes:o}},data:function(){return{priorityRadioOptions:{"Very High":1,High:2,Medium:3,Low:4,"Very Low":5},validForm:!0,errorMessages:{}}},methods:Object(xt["a"])({isValid:function(){return this.errorMessages=Object(xt["a"])(Object(xt["a"])(Object(xt["a"])({},!this.activityName&&{activityName:Se("activity name")}),!this.mustCompleteBy&&{mustCompleteBy:Se("must complete by")}),!this.priority&&{priority:Se("priority")}),0===Object.keys(this.errorMessages).length},onSubmit:function(){var t=this;return Object($["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.validForm=t.isValid(),t.validForm&&(t.editMode(!0),t.addActivity({activityName:t.activityName,executionUrl:t.executionUrl,mustCompleteBy:t.mustCompleteBy,priority:t.priority,mandatoryAttributes:t.mandatoryAttributes,optionalAttributes:t.optionalAttributes}),t.$router.push({name:"activity-attributes",params:{organisationUnitName:t.organisationUnitName}}));case 2:case"end":return e.stop()}}),e)})))()}},Object(Ft["c"])("activitiesStore",{addActivity:"addActivity",editMode:"editMode"}))};const ec=v()(tc,[["render",Zu]]);var ac=ec,nc={class:"govuk-width-container"},rc={class:"govuk-main-wrapper govuk-main-wrapper--auto-spacing",id:"main-content",role:"main"},ic={class:"govuk-grid-row"},oc={class:"govuk-grid-column-full"},sc=Object(n["i"])(" Back "),uc=Object(n["g"])("h1",{class:"govuk-heading-xl"}," Edit activity confirmation ",-1),cc=Object(n["g"])("h2",{class:"govuk-heading-m"}," Activity details ",-1),lc={class:"govuk-summary-list"},gc={class:"govuk-summary-list__row"},bc=Object(n["g"])("dt",{class:"govuk-summary-list__key"}," Activity name ",-1),dc={class:"govuk-summary-list__value"},mc=Object(n["g"])("dd",{class:"govuk-summary-list__actions"},null,-1),vc={class:"govuk-summary-list__row"},pc=Object(n["g"])("dt",{class:"govuk-summary-list__key"}," Execution url ",-1),jc={class:"govuk-summary-list__value"},Oc={class:"govuk-summary-list__actions"},hc=Object(n["i"])(" Change "),fc={class:"govuk-summary-list__row"},kc=Object(n["g"])("dt",{class:"govuk-summary-list__key"}," Must complete by ",-1),yc={class:"govuk-summary-list__value"},Nc={class:"govuk-summary-list__actions"},Ac=Object(n["i"])(" Change "),_c={class:"govuk-summary-list__row"},wc=Object(n["g"])("dt",{class:"govuk-summary-list__key"}," Priority ",-1),Uc={class:"govuk-summary-list__value"},xc={class:"govuk-summary-list__actions"},Fc=Object(n["i"])(" Change "),Mc={class:"govuk-summary-list__row"},Sc=Object(n["g"])("dt",{class:"govuk-summary-list__key"}," Attributes ",-1),Vc={class:"govuk-summary-list__value"},Rc={class:"govuk-summary-list__actions"},Gc=Object(n["i"])(" Change "),Bc=Object(n["g"])("button",{"data-prevent-double-click":"true",class:"govuk-button",role:"link","data-module":"govuk-button"},"Save and continue",-1),Cc=[Bc];function Ec(t,e,a,r,i,o){var s=Object(n["z"])("router-link");return Object(n["u"])(),Object(n["f"])("div",nc,[Object(n["g"])("main",rc,[Object(n["g"])("div",ic,[Object(n["g"])("div",oc,[Object(n["j"])(s,{id:"back-link",to:{name:"activity-attributes",params:{organisationUnitName:a.organisationUnitName}},class:"govuk-back-link"},{default:Object(n["F"])((function(){return[sc]})),_:1},8,["to"]),uc,cc,Object(n["g"])("dl",lc,[Object(n["g"])("div",gc,[bc,Object(n["g"])("dd",dc,Object(n["B"])(t.activity.activityName),1),mc]),Object(n["g"])("div",vc,[pc,Object(n["g"])("dd",jc,Object(n["B"])(t.activity.executionUrl),1),Object(n["g"])("dd",Oc,[Object(n["j"])(s,{id:"edit-activity-execution-url",to:{name:"edit-activity",params:{organisationUnitName:this.organisationUnitName,activityName:t.activity.activityName},hash:"#executionUrl"},class:"govuk-link"},{default:Object(n["F"])((function(){return[hc]})),_:1},8,["to"])])]),Object(n["g"])("div",fc,[kc,Object(n["g"])("dd",yc,Object(n["B"])(t.activity.mustCompleteBy)+" days ",1),Object(n["g"])("dd",Nc,[Object(n["j"])(s,{id:"edit-activity-must-complete-by",to:{name:"edit-activity",params:{organisationUnitName:this.organisationUnitName,activityName:t.activity.activityName},hash:"#mustCompleteBy"},class:"govuk-link"},{default:Object(n["F"])((function(){return[Ac]})),_:1},8,["to"])])]),Object(n["g"])("div",_c,[wc,Object(n["g"])("dd",Uc,Object(n["B"])(t.priorityRadioOptions[t.activity.priority]),1),Object(n["g"])("dd",xc,[Object(n["j"])(s,{id:"edit-activity-priority",to:{name:"edit-activity",params:{organisationUnitName:this.organisationUnitName,activityName:t.activity.activityName},hash:"#priority"},class:"govuk-link"},{default:Object(n["F"])((function(){return[Fc]})),_:1},8,["to"])])]),Object(n["g"])("div",Mc,[Sc,Object(n["g"])("dd",Vc,[(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(this.activity.mandatoryAttributes,(function(t,e){return Object(n["u"])(),Object(n["f"])("div",{key:e},[Object(n["i"])(Object(n["B"])(e)+"= ",1),(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(t,(function(t,e){return Object(n["u"])(),Object(n["f"])(n["a"],{key:e},[Object(n["i"])(Object(n["B"])(t),1)],64)})),128))])})),128)),(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(this.activity.optionalAttributes,(function(t,e){return Object(n["u"])(),Object(n["f"])("div",{key:e},[Object(n["i"])(Object(n["B"])(e)+"= ",1),(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(t,(function(t,e){return Object(n["u"])(),Object(n["f"])(n["a"],{key:e},[Object(n["i"])(Object(n["B"])(t),1)],64)})),128))])})),128))]),Object(n["g"])("dd",Rc,[Object(n["j"])(s,{id:"add-activity-attributes",to:{name:"activity-attributes",params:{organisationUnitName:this.organisationUnitName}},class:"govuk-link"},{default:Object(n["F"])((function(){return[Gc]})),_:1},8,["to"])])])]),Object(n["g"])("form",{onSubmit:e[0]||(e[0]=Object(n["H"])((function(){return o.onSubmit&&o.onSubmit.apply(o,arguments)}),["prevent"]))},Cc,32)])])])])}var Tc={name:"AddActivityConfirmation",props:["organisationUnitName"],computed:Object(Ft["d"])("activitiesStore",["activity"]),data:function(){return{priorityRadioOptions:{1:"Very High",2:"High",3:"Medium",4:"Low",5:"Very Low"}}},methods:Object(xt["a"])({onSubmit:function(){var t=this;return Object($["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,si();case 2:return a=e.sent,e.next=5,a.updateActivity(t.activity,t.organisationUnitName);case 5:if(n=e.sent,400!==n.status){e.next=12;break}return e.next=9,n.json();case 9:e.sent,e.next=13;break;case 12:204===n.status&&(t.changeActivityUpdated(!0),t.$router.push({name:"list-activities",params:{organisationUnitName:t.organisationUnitName}}));case 13:case"end":return e.stop()}}),e)})))()}},Object(Ft["c"])("activitiesStore",{changeActivityUpdated:"changeActivityUpdated"}))};const zc=v()(Tc,[["render",Ec]]);var Dc=zc,Hc=[{path:"/organisation-unit-dashboard/:organisationUnitName/list-activities",name:"list-activities",component:gi,props:!0,meta:{allowedFrom:["organisation-unit-dashboard","add-activity","remove-activity","edit-activity","add-activity-confirmation","edit-activity-confirmation"]}},{path:"/organisation-unit-dashboard/:organisationUnitName/add-activity",name:"add-activity",component:Pi,props:!0,meta:{allowedFrom:["list-activities","activity-attributes"]}},{path:"/organisation-unit-dashboard/:organisationUnitName/activity-attributes",name:"activity-attributes",component:xo,props:!0,meta:{allowedFrom:["add-activity","add-activity-attribute","add-activity-attribute-value","add-activity-confirmation","remove-mandatory-activity-attribute","remove-optional-activity-attribute","edit-activity","edit-activity-confirmation"]}},{path:"/organisation-unit-dashboard/:organisationUnitName/add-activity-attribute",name:"add-activity-attribute",component:Xo,props:!0,meta:{allowedFrom:["activity-attributes","add-activity-attribute-value"]}},{path:"/organisation-unit-dashboard/:organisationUnitName/add-activity-attribute-value/:attributeKey",name:"add-activity-attribute-value",component:gs,props:!0,meta:{allowedFrom:["add-activity-attribute"]}},{path:"/organisation-unit-dashboard/:organisationUnitName/remove-mandatory-activity-attribute/:attributeKey",name:"remove-mandatory-activity-attribute",component:Gs,props:!0,meta:{allowedFrom:["activity-attributes"]}},{path:"/organisation-unit-dashboard/:organisationUnitName/remove-optional-activity-attribute/:attributeKey",name:"remove-optional-activity-attribute",component:Gs,props:!0,meta:{allowedFrom:["activity-attributes"]}},{path:"/organisation-unit-dashboard/:organisationUnitName/add-activity-confirmation",name:"add-activity-confirmation",component:Au,props:!0,meta:{allowedFrom:["activity-attributes"]}},{path:"/organisation-unit-dashboard/:organisationUnitName/remove-activity/:activityName",name:"remove-activity",component:$u,props:!0,meta:{allowedFrom:["list-activities"]}},{path:"/organisation-unit-dashboard/:organisationUnitName/edit-activity/:activityName",name:"edit-activity",component:ac,props:!0,meta:{allowedFrom:["list-activities","activity-attributes","edit-activity-confirmation"]}},{path:"/organisation-unit-dashboard/:organisationUnitName/edit-activity-confirmation",name:"edit-activity-confirmation",component:Dc,props:!0,meta:{allowedFrom:["activity-attributes"]}}],Ic=Hc,$c={class:"govuk-width-container"},Lc={class:"govuk-main-wrapper govuk-main-wrapper--auto-spacing",id:"main-content",role:"main"},Pc={class:"govuk-grid-row"},Kc={class:"govuk-grid-column-full"},qc=Object(n["g"])("h1",{class:"govuk-heading-xl"}," Agent groups list ",-1),Wc={class:"govuk-table"},Jc=Object(n["g"])("caption",{class:"govuk-table__caption govuk-table__caption--m"},"Agent groups list",-1),Qc=Object(n["g"])("thead",{class:"govuk-table__head"},[Object(n["g"])("tr",{class:"govuk-table__row"},[Object(n["g"])("th",{scope:"col",class:"govuk-table__header"},"Group Name"),Object(n["g"])("th",{scope:"col",class:"govuk-table__header"},"Attributes"),Object(n["g"])("th",{scope:"col",class:"govuk-table__header"},"Actions")])],-1),Yc={class:"govuk-table__body"},Xc={class:"govuk-table__cell"},Zc={class:"govuk-table__cell"},tl=Object(n["g"])("br",null,null,-1),el={class:"govuk-table__cell"},al=Object(n["i"])(" Edit "),nl={class:"govuk-visually-hidden"},rl=Object(n["i"])(" Remove "),il={class:"govuk-visually-hidden"},ol={key:0,class:"govuk-table__row"},sl=Object(n["g"])("td",{colspan:"3",class:"govuk-table__cell"}," No agents groups. ",-1),ul=[sl],cl={class:"govuk-body"},ll=Object(n["i"])(" Add agent group ");function gl(t,e,a,r,i,o){var s=Object(n["z"])("BreadCrumbTrail"),u=Object(n["z"])("SuccessBanner"),c=Object(n["z"])("router-link");return Object(n["u"])(),Object(n["f"])("div",$c,[Object(n["g"])("main",Lc,[Object(n["g"])("div",Pc,[Object(n["g"])("div",Kc,[Object(n["j"])(s,{links:t.links},null,8,["links"]),t.agentGroupAdded?(Object(n["u"])(),Object(n["d"])(u,{key:0,title:t.title,heading:t.heading,body:t.createbody},null,8,["title","heading","body"])):Object(n["e"])("",!0),t.agentGroupDeleted?(Object(n["u"])(),Object(n["d"])(u,{key:1,title:t.title,heading:t.heading,body:t.deletebody},null,8,["title","heading","body"])):Object(n["e"])("",!0),qc,Object(n["g"])("table",Wc,[Jc,Qc,Object(n["g"])("tbody",Yc,[(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(t.agentGroups,(function(t,r){return Object(n["u"])(),Object(n["f"])("tr",{class:"govuk-table__row",key:t.name},[Object(n["g"])("td",Xc,Object(n["B"])(t.groupName),1),Object(n["g"])("td",Zc,[(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(t.attributes,(function(t,e){return Object(n["u"])(),Object(n["f"])(n["a"],{key:e},[Object(n["i"])(Object(n["B"])(t.name)+"=",1),(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(t.values,(function(t){return Object(n["u"])(),Object(n["f"])(n["a"],{key:t},[Object(n["i"])(Object(n["B"])(t),1),tl],64)})),128))],64)})),128))]),Object(n["g"])("td",el,[Object(n["j"])(c,{id:"edit-agent-group-link-"+r,to:{name:"edit-agent-group",params:{organisationUnitName:a.organisationUnitName,groupName:t.groupName}},class:"govuk-link govuk-!-padding-right-1",onClick:e[0]||(e[0]=function(t){return o.initState()})},{default:Object(n["F"])((function(){return[al,Object(n["g"])("span",nl,Object(n["B"])(t.groupName),1)]})),_:2},1032,["id","to"]),Object(n["j"])(c,{id:"remove-agent-group-link-"+r,to:{name:"remove-agent-group",params:{organisationUnitName:a.organisationUnitName,groupName:t.groupName}},class:"govuk-link",onClick:e[1]||(e[1]=function(t){return o.initState()})},{default:Object(n["F"])((function(){return[rl,Object(n["g"])("span",il,Object(n["B"])(t.groupName),1)]})),_:2},1032,["id","to"])])])})),128)),o.hasAgentGroups()?Object(n["e"])("",!0):(Object(n["u"])(),Object(n["f"])("tr",ol,ul))])]),Object(n["g"])("p",cl,[Object(n["j"])(c,{id:"add-agent-group-link",class:"govuk-link",to:{name:"add-agent-group",params:{organisationUnitName:a.organisationUnitName}},onClick:e[2]||(e[2]=function(t){return o.initState()})},{default:Object(n["F"])((function(){return[ll]})),_:1},8,["to"])])])])])])}a("d81d");function bl(){return dl.apply(this,arguments)}function dl(){return dl=Object($["a"])(regeneratorRuntime.mark((function t(){var e,a,n,r,i,o,s,u,c,l,g,b,d,m,v,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return p=function(){return p=Object($["a"])(regeneratorRuntime.mark((function t(e,a,n,r){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=encodeURI("/tasks/api/v1/agent-groups/".concat(e,"/").concat(a,"/attributes/").concat(n,"/values/").concat(r)),t.next=3,fetch(i,{method:"DELETE"});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)}))),p.apply(this,arguments)},v=function(t,e,a,n){return p.apply(this,arguments)},m=function(){return m=Object($["a"])(regeneratorRuntime.mark((function t(e,a,n,r){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=encodeURI("/tasks/api/v1/agent-groups/".concat(e,"/").concat(a,"/attributes/").concat(n,"/values/").concat(r)),t.next=3,fetch(i,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"}});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)}))),m.apply(this,arguments)},d=function(t,e,a,n){return m.apply(this,arguments)},b=function(){return b=Object($["a"])(regeneratorRuntime.mark((function t(e,a,n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=encodeURI("/tasks/api/v1/agent-groups/".concat(e,"/").concat(a,"/agents/").concat(n)),t.next=3,fetch(r,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"}});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)}))),b.apply(this,arguments)},g=function(t,e,a){return b.apply(this,arguments)},l=function(){return l=Object($["a"])(regeneratorRuntime.mark((function t(e,a,n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=encodeURI("/tasks/api/v1/agent-groups/".concat(e,"/").concat(a,"/agents/").concat(n)),t.next=3,fetch(r,{method:"DELETE"});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)}))),l.apply(this,arguments)},c=function(t,e,a){return l.apply(this,arguments)},u=function(){return u=Object($["a"])(regeneratorRuntime.mark((function t(e,a){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=encodeURI("/tasks/api/v1/agent-groups/".concat(e,"/").concat(a)),t.next=3,fetch(n,{headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:return r=t.sent,t.next=6,r.json();case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)}))),u.apply(this,arguments)},s=function(t,e){return u.apply(this,arguments)},o=function(){return o=Object($["a"])(regeneratorRuntime.mark((function t(e){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=encodeURI("/tasks/api/v1/agent-groups/".concat(e)),t.next=3,fetch(a,{headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:return n=t.sent,t.next=6,n.json();case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)}))),o.apply(this,arguments)},i=function(t){return o.apply(this,arguments)},r=function(){return r=Object($["a"])(regeneratorRuntime.mark((function t(e,a,n){var r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=encodeURI("/tasks/api/v1/agent-groups/".concat(e,"/").concat(a)),i={agents:n},t.next=4,fetch(r,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(i)});case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)}))),r.apply(this,arguments)},n=function(t,e,a){return r.apply(this,arguments)},a=function(){return a=Object($["a"])(regeneratorRuntime.mark((function t(e,a){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=encodeURI("/tasks/api/v1/agent-groups/".concat(e,"/").concat(a)),t.next=3,fetch(n,{method:"DELETE"});case 3:return r=t.sent,t.abrupt("return",r.status);case 5:case"end":return t.stop()}}),t)}))),a.apply(this,arguments)},e=function(t,e){return a.apply(this,arguments)},t.abrupt("return",{removeAgentGroup:e,createAgentGroup:n,getAgentGroups:i,getAgentGroup:s,removeAgentFromAgentGroup:c,removeAttributeFromAgentGroup:v,addAgentToAgentGroup:g,addAttributeToAgentGroup:d});case 17:case"end":return t.stop()}}),t)}))),dl.apply(this,arguments)}var ml={name:"ListAgentGroups",props:["organisationUnitName"],components:{BreadCrumbTrail:Bt,SuccessBanner:Oe},data:function(){return{organisationUnit:{description:"",attributes:[]},agentGroups:[],links:[],title:"Agent Groups",heading:"Agent Groups",createbody:"Agent Group created successfully",deletebody:"Agent Group deleted successfully",agentGroupAdded:!1,agentGroupDeleted:!1}},beforeMount:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getOrganisationUnit();case 2:return this.organisationUnit=t.sent,t.next=5,this.getAgentGroups();case 5:this.agentGroups=t.sent,this.buildBreadCrumbTrail(),e=this.getAgentGroupFlags(),this.agentGroupAdded=e.agentGroupAdded,this.agentGroupDeleted=e.agentGroupDeleted;case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:Object(xt["a"])(Object(xt["a"])(Object(xt["a"])({buildBreadCrumbTrail:function(){this.links=[{id:"home",to:"/",label:"Home"},{id:"view-dashboard",to:{name:"organisation-unit-dashboard",params:{organisationUnitName:this.organisationUnitName}},label:"".concat(this.organisationUnit.description," Dashboard")},{id:"list-agent-groups",label:"Agent groups list"}]},getAgentGroups:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(){var e,a,n,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,bl();case 2:return e=t.sent,t.next=5,e.getAgentGroups(this.organisationUnitName);case 5:return a=t.sent,n=[],t.abrupt("return",a.agentGroups.map((function(t){if(t.organisationAttributes){var e=t.organisationAttributes[r.organisationUnitName],a=Object.keys(e);a&&a.length>0&&(n=a.map((function(t){return{name:t,values:e[t]}})))}return{groupName:t.name,attributes:n}})));case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getOrganisationUnit:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,L();case 2:return e=t.sent,t.abrupt("return",e.getOrganisationUnit(this.organisationUnitName));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),isLastIndex:function(t,e){return t===Object.keys(e.attributes).length-1},initState:function(){this.resetState()}},Object(Ft["c"])("agentGroupsStore",{resetState:"resetState"})),Object(Ft["b"])("agentGroupsStore",{getAgentGroupFlags:"getAgentGroupFlags"})),{},{hasAgentGroups:function(){return this.agentGroups&&this.agentGroups.length>0}})};const vl=v()(ml,[["render",gl]]);var pl=vl,jl={class:"govuk-width-container"},Ol={class:"govuk-main-wrapper govuk-main-wrapper--auto-spacing",id:"main-content",role:"main"},hl={class:"govuk-grid-row"},fl={class:"govuk-grid-column-full"},kl=Object(n["i"])(" Back "),yl=Object(n["g"])("h1",{class:"govuk-heading-xl"}," Add agent group ",-1),Nl=Object(n["g"])("div",{class:"govuk-inset-text"}," Agent Groups are a mechanism for grouping agents together who have the same skill profile. Agents may then claim tasks as members of the group using their group attributes. ",-1),Al={class:"govuk-fieldset"},_l=Object(n["g"])("button",{type:"submit",class:"govuk-button","data-module":"govuk-button"}," Continue ",-1);function wl(t,e,a,r,i,o){var s=Object(n["z"])("router-link"),u=Object(n["z"])("ErrorSummary"),c=Object(n["z"])("InputText");return Object(n["u"])(),Object(n["f"])("div",jl,[Object(n["g"])("main",Ol,[Object(n["g"])("div",hl,[Object(n["g"])("div",fl,[Object(n["j"])(s,{id:"back-link",to:{name:"list-agent-groups",params:{organisationUnitName:a.organisationUnitName}},class:"govuk-back-link"},{default:Object(n["F"])((function(){return[kl]})),_:1},8,["to"]),Object(n["j"])(u,{validForm:t.validForm,errorMessages:t.errorMessages},null,8,["validForm","errorMessages"]),yl,Nl,Object(n["g"])("form",{onSubmit:e[1]||(e[1]=Object(n["H"])((function(){return o.onSubmit&&o.onSubmit.apply(o,arguments)}),["prevent"])),name:"addGroupName"},[Object(n["g"])("fieldset",Al,[Object(n["j"])(c,{modelValue:r.groupName,"onUpdate:modelValue":e[0]||(e[0]=function(t){return r.groupName=t}),elementName:"groupName",errorMessages:t.errorMessages,label:"Group name"},null,8,["modelValue","errorMessages"])]),_l],32)])])])])}var Ul={name:"AddAgentGroup",props:["organisationUnitName"],components:{ErrorSummary:ze,InputText:We},setup:function(t){var e=Object(n["x"])("");return Object(n["s"])((function(){var t=Object(Ft["e"])(),a=t.state.agentGroupsStore.addAgentGroup;e.value=a.groupName})),{groupName:e}},data:function(){return{validForm:!0,errorMessages:{}}},computed:Object(xt["a"])({},Object(Ft["d"])("agentGroupsStore",{addAgentGroup:"addAgentGroup"})),methods:Object(xt["a"])({isValid:function(){return this.errorMessages=Object(xt["a"])({},!this.groupName&&{groupName:Se("group name")}),0===Object.keys(this.errorMessages).length},onSubmit:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.validForm=this.isValid(),this.validForm&&(this.changeAddAgentGroup({groupName:this.groupName,agents:this.addAgentGroup.agents,attributes:this.addAgentGroup.attributes}),this.$router.push({name:"add-agent-group-add-agents",params:{organisationUnitName:this.organisationUnitName,groupName:this.groupName}}));case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},Object(Ft["c"])("agentGroupsStore",{changeAddAgentGroup:"changeAddAgentGroup"}))};const xl=v()(Ul,[["render",wl]]);var Fl=xl,Ml={class:"govuk-width-container"},Sl={class:"govuk-main-wrapper govuk-main-wrapper--auto-spacing",id:"main-content",role:"main"},Vl={class:"govuk-grid-row"},Rl={class:"govuk-grid-column-full"},Gl=Object(n["i"])(" Back "),Bl=Object(n["g"])("button",{id:"continue",type:"submit",class:"govuk-button","data-module":"govuk-button"}," Save and continue ",-1);function Cl(t,e,a,r,i,o){var s=Object(n["z"])("router-link"),u=Object(n["z"])("ErrorSummary"),c=Object(n["z"])("QuestionRadioGroup");return Object(n["u"])(),Object(n["f"])("div",Ml,[Object(n["g"])("main",Sl,[Object(n["g"])("div",Vl,[Object(n["g"])("div",Rl,[Object(n["j"])(s,{id:"back-link",to:{name:"list-agent-groups",params:{organisationUnitName:a.organisationUnitName}},class:"govuk-back-link"},{default:Object(n["F"])((function(){return[Gl]})),_:1},8,["to"]),Object(n["j"])(u,{validForm:t.validForm,errorMessages:t.errorMessages},null,8,["validForm","errorMessages"]),Object(n["g"])("form",{onSubmit:e[1]||(e[1]=Object(n["H"])((function(){return o.onSubmit&&o.onSubmit.apply(o,arguments)}),["prevent"]))},[Object(n["j"])(c,{modelValue:r.question,"onUpdate:modelValue":e[0]||(e[0]=function(t){return r.question=t}),modelModifiers:{number:!0},elementName:"question",errorMessages:t.errorMessages,radioOptions:t.radioOptions,heading:"Do you want to remove an agent group?"},null,8,["modelValue","errorMessages","radioOptions"]),Bl],32)])])])])}var El={className:"govuk-fieldset"},Tl={className:"govuk-fieldset__legend govuk-fieldset__legend--l"},zl={class:"govuk-fieldset__heading"},Dl={class:"govuk-radios govuk-radios--inline"},Hl=["id"],Il=Object(n["g"])("span",{class:"govuk-visually-hidden"},"Error:",-1),$l=["value","onChange","id","checked","name"],Ll=["for"];function Pl(t,e,a,r,i,o){return Object(n["u"])(),Object(n["f"])("div",{class:Object(n["p"])(a.errorMessages[a.elementName]?"govuk-form-group govuk-form-group--error":"govuk-form-group")},[Object(n["g"])("fieldset",El,[Object(n["g"])("legend",Tl,[Object(n["g"])("h1",zl,Object(n["B"])(a.heading),1)]),Object(n["g"])("div",Dl,[a.errorMessages[a.elementName]?(Object(n["u"])(),Object(n["f"])("p",{key:0,id:a.elementName+"-input-error",class:"govuk-error-message"},[Il,Object(n["i"])(" "+Object(n["B"])(a.errorMessages[a.elementName]),1)],8,Hl)):Object(n["e"])("",!0),(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(a.radioOptions,(function(e,r){return Object(n["u"])(),Object(n["f"])("div",{key:e,className:"govuk-radios__item"},[Object(n["g"])("input",{value:e,onChange:function(a){return t.$emit("update:modelValue",e)},class:Object(n["p"])(["govuk-radios__input",{"govuk-input--error":a.errorMessages[a.elementName]}]),id:a.elementName+"-"+e,checked:e===a.modelValue,name:a.elementName,type:"radio"},null,42,$l),Object(n["g"])("label",{class:"govuk-label govuk-radios__label",for:a.elementName+"-"+e},Object(n["B"])(r),9,Ll)])})),128))])])],2)}var Kl={name:"QuestionRadioGroup",props:{modelValue:{type:Number},elementName:{type:String},radioOptions:{type:Object},errorMessages:{type:Object,default:function(){return{}}},heading:{type:String}}};const ql=v()(Kl,[["render",Pl]]);var Wl=ql,Jl={name:"RemoveAgentGroup",props:["organisationUnitName","groupName"],components:{QuestionRadioGroup:Wl,ErrorSummary:ze},setup:function(t){var e=Object(n["x"])(0);return{question:e}},data:function(){return{radioOptions:{Yes:1,No:2},validForm:!0,errorMessages:{}}},methods:Object(xt["a"])({isValid:function(){return this.errorMessages=Object(xt["a"])({},!this.question&&{question:Se("answer")}),0===Object.keys(this.errorMessages).length},onSubmit:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.validForm=this.isValid(),!this.validForm){t.next=10;break}if(1!==this.question){t.next=9;break}return t.next=5,bl();case 5:return e=t.sent,t.next=8,e.removeAgentGroup(this.organisationUnitName,this.groupName);case 8:this.changeAgentGroupDeleted(!0);case 9:this.$router.push({name:"list-agent-groups",params:{organisationUnitName:this.organisationUnitName}});case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},Object(Ft["c"])("agentGroupsStore",{changeAgentGroupDeleted:"changeAgentGroupDeleted"}))};const Ql=v()(Jl,[["render",Cl]]);var Yl=Ql,Xl={class:"govuk-width-container"},Zl={class:"govuk-main-wrapper govuk-main-wrapper--auto-spacing",id:"main-content",role:"main"},tg={class:"govuk-grid-row"},eg={class:"govuk-grid-column-full"},ag=Object(n["i"])(" Back "),ng=Object(n["g"])("h1",{class:"govuk-heading-xl"}," Edit agent group ",-1),rg={class:"govuk-tabs","data-module":"govuk-tabs"},ig=Object(n["g"])("h2",{class:"govuk-tabs__title"}," Contents ",-1),og={class:"govuk-tabs__list",role:"tablist"},sg=["tabindex"],ug=["tabindex"],cg={key:0},lg={class:"govuk-table",id:"agents-table"},gg=Object(n["g"])("thead",{class:"govuk-table__head"},[Object(n["g"])("tr",{class:"govuk-table__row"},[Object(n["g"])("th",{scope:"col",class:"govuk-table__header"},"Agents"),Object(n["g"])("th",{scope:"col",class:"govuk-table__header"},"Action")])],-1),bg={class:"govuk-table__body"},dg={class:"govuk-table__cell"},mg={class:"govuk-table__cell"},vg=Object(n["i"])(" Remove "),pg={class:"govuk-visually-hidden"},jg={key:0,class:"govuk-body"},Og={class:"govuk-body"},hg=Object(n["i"])(" Add agent "),fg={key:0},kg={class:"govuk-table"},yg=Object(n["g"])("thead",{class:"govuk-table__head"},[Object(n["g"])("tr",{class:"govuk-table__row"},[Object(n["g"])("th",{scope:"col",class:"govuk-table__header"},"Name"),Object(n["g"])("th",{scope:"col",class:"govuk-table__header"},"Value"),Object(n["g"])("th",{scope:"col",class:"govuk-table__header"},"Action")])],-1),Ng={class:"govuk-table__body"},Ag={class:"govuk-table__cell"},_g={class:"govuk-table__cell"},wg=Object(n["g"])("br",null,null,-1),Ug={class:"govuk-table__cell"},xg=Object(n["i"])(" Remove "),Fg={class:"govuk-visually-hidden"},Mg={key:0,class:"govuk-table__row"},Sg=Object(n["g"])("td",{colspan:"3"}," No attributes. ",-1),Vg=[Sg],Rg={class:"govuk-body"},Gg=Object(n["i"])(" Add attribute ");function Bg(t,e,a,r,i,o){var s=Object(n["z"])("router-link"),u=Object(n["z"])("SuccessBanner");return Object(n["u"])(),Object(n["f"])("div",Xl,[Object(n["g"])("main",Zl,[Object(n["g"])("div",tg,[Object(n["g"])("div",eg,[Object(n["j"])(s,{id:"back-link",to:{name:"list-agent-groups",params:{organisationUnitName:a.organisationUnitName,groupName:a.groupName}},class:"govuk-back-link"},{default:Object(n["F"])((function(){return[ag]})),_:1},8,["to"]),r.agentGroupUpdated?(Object(n["u"])(),Object(n["d"])(u,{key:0,title:t.title,heading:t.heading,body:t.body},null,8,["title","heading","body"])):Object(n["e"])("",!0),ng,Object(n["g"])("div",rg,[ig,Object(n["g"])("ul",og,[Object(n["g"])("li",{class:Object(n["p"])(t.showAgentTab?"govuk-tabs__list-item govuk-tabs__list-item--selected":"govuk-tabs__list-item"),role:"presentation"},[Object(n["g"])("a",{class:"govuk-tabs__tab",href:"",id:"agents-tab",role:"tab","aria-controls":"agents-tab","aria-selected":"true",tabindex:t.showAgentTab?0:-1,onClick:e[0]||(e[0]=Object(n["H"])((function(t){return o.showAgents()}),["prevent"]))}," Agents ",8,sg)],2),Object(n["g"])("li",{class:Object(n["p"])(t.showAttributeTab?"govuk-tabs__list-item govuk-tabs__list-item--selected":"govuk-tabs__list-item"),role:"presentation"},[Object(n["g"])("a",{class:"govuk-tabs__tab",href:"",id:"attributes-tab",role:"tab","aria-controls":"attributes-tab","aria-selected":"false",tabindex:t.showAttributeTab?0:-1,onClick:e[1]||(e[1]=Object(n["H"])((function(t){return o.showAttributes()}),["prevent"]))}," Attributes ",8,ug)],2)]),Object(n["g"])("div",{class:Object(n["p"])(t.showAgentTab?"govuk-tabs__panel":"govuk-tabs__panel govuk-tabs__panel--hidden"),id:"agents-table-outer",role:"tabpanel","aria-labelledby":"agents-tab"},[t.showAgentTab?(Object(n["u"])(),Object(n["f"])("div",cg,[Object(n["g"])("table",lg,[gg,Object(n["g"])("tbody",bg,[(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(r.agentGroup.agents,(function(t,r){return Object(n["u"])(),Object(n["f"])("tr",{class:"govuk-table__row",key:r},[Object(n["g"])("td",dg,Object(n["B"])(t)+" - "+Object(n["B"])(o.getAgentName(t)),1),Object(n["g"])("td",mg,[Object(n["j"])(s,{class:"govuk-link",id:"remove-agent-link-"+r,to:{name:"edit-agent-group-remove-agent",params:{organisationUnitName:a.organisationUnitName,groupName:a.groupName,staffNumber:t}},onClick:e[2]||(e[2]=function(t){return o.onClick()})},{default:Object(n["F"])((function(){return[vg,Object(n["g"])("span",pg,Object(n["B"])(t),1)]})),_:2},1032,["id","to"])])])})),128))])]),o.hasAgents()?Object(n["e"])("",!0):(Object(n["u"])(),Object(n["f"])("p",jg," No agents. ")),Object(n["g"])("p",Og,[Object(n["j"])(s,{class:"govuk-link",id:"add-agent-link",to:{name:"edit-agent-group-add-agent",params:{organisationUnitName:a.organisationUnitName,groupName:a.groupName}},onClick:e[3]||(e[3]=function(t){return o.onClick()})},{default:Object(n["F"])((function(){return[hg]})),_:1},8,["to"])])])):Object(n["e"])("",!0)],2),Object(n["g"])("div",{class:Object(n["p"])(t.showAttributeTab?"govuk-tabs__panel":"govuk-tabs__panel govuk-tabs__panel--hidden"),id:"attributes-table-outer",role:"tabpanel","aria-labelledby":"attributes-tab"},[t.showAttributeTab?(Object(n["u"])(),Object(n["f"])("div",fg,[Object(n["g"])("table",kg,[yg,Object(n["g"])("tbody",Ng,[(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(r.attributes,(function(t,r){return Object(n["u"])(),Object(n["f"])("tr",{class:"govuk-table__row",key:r},[Object(n["g"])("td",Ag,Object(n["B"])(t.name),1),Object(n["g"])("td",_g,[(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(t.value,(function(t){return Object(n["u"])(),Object(n["f"])(n["a"],{key:t},[Object(n["i"])(Object(n["B"])(t),1),wg],64)})),128))]),Object(n["g"])("td",Ug,[(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(t.value,(function(r,i){return Object(n["u"])(),Object(n["d"])(s,{key:i,class:"govuk-link",id:"remove-attribute-link-"+i,to:{name:"edit-agent-group-remove-attribute",params:{attributeName:t.name,attributeValue:r,organisationUnitName:a.organisationUnitName,groupName:a.groupName}},onClick:e[4]||(e[4]=function(t){return o.onClick()})},{default:Object(n["F"])((function(){return[xg,Object(n["g"])("span",Fg,Object(n["B"])(t.name),1)]})),_:2},1032,["id","to"])})),128))])])})),128)),o.hasAttributes()?Object(n["e"])("",!0):(Object(n["u"])(),Object(n["f"])("tr",Mg,Vg))])]),Object(n["g"])("p",Rg,[Object(n["j"])(s,{class:"govuk-link",id:"add-attribute-link",to:{name:"edit-agent-group-add-attribute",params:{organisationUnitName:a.organisationUnitName,groupName:a.groupName}},onClick:e[5]||(e[5]=function(t){return o.onClick()})},{default:Object(n["F"])((function(){return[Gg]})),_:1},8,["to"])])])):Object(n["e"])("",!0)],2)])])])])])}a("7db0");function Cg(){return Eg.apply(this,arguments)}function Eg(){return Eg=Object($["a"])(regeneratorRuntime.mark((function t(){var e,a,n,r,i,o,s,u,c,l,g,b,d,m,v,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return p=function(){return p=Object($["a"])(regeneratorRuntime.mark((function t(e,a,n,r){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i="/tasks/api/v1/agents/".concat(e,"/organisation-units/").concat(a,"/attributes/").concat(n,"/values/").concat(r),t.next=3,fetch(i,{method:"DELETE"});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)}))),p.apply(this,arguments)},v=function(t,e,a,n){return p.apply(this,arguments)},m=function(){return m=Object($["a"])(regeneratorRuntime.mark((function t(e,a){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n="/tasks/api/v1/agents/".concat(e,"/organisation-units/").concat(a.organisationUnit,"/attributes/").concat(a.name,"/values/").concat(a.value),t.next=3,fetch(n,{method:"PUT"});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)}))),m.apply(this,arguments)},d=function(t,e){return m.apply(this,arguments)},b=function(){return b=Object($["a"])(regeneratorRuntime.mark((function t(e,a){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n="/tasks/api/v1/agents/".concat(e,"/organisation-units/").concat(a),t.next=3,fetch(n,{method:"DELETE"});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)}))),b.apply(this,arguments)},g=function(t,e){return b.apply(this,arguments)},l=function(){return l=Object($["a"])(regeneratorRuntime.mark((function t(e,a){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n="/tasks/api/v1/agents/".concat(e,"/organisation-units/").concat(a),t.next=3,fetch(n,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"}});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)}))),l.apply(this,arguments)},c=function(t,e){return l.apply(this,arguments)},u=function(){return u=Object($["a"])(regeneratorRuntime.mark((function t(e){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a="/tasks/api/v1/agents/".concat(e),t.next=3,fetch(a,{headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:return n=t.sent,t.next=6,n.json();case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)}))),u.apply(this,arguments)},s=function(t){return u.apply(this,arguments)},o=function(){return o=Object($["a"])(regeneratorRuntime.mark((function t(e){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a="/tasks/api/v1/agents/?organisationUnitNames=".concat(e,"&status=ACTIVE&page=0"),t.next=3,fetch(a,{headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:return n=t.sent,t.next=6,n.json();case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)}))),o.apply(this,arguments)},i=function(t){return o.apply(this,arguments)},r=function(){return r=Object($["a"])(regeneratorRuntime.mark((function t(e){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a="/tasks/api/v1/agents/".concat(e.staffNumber),n={organisationUnitNames:e.organisationUnitNames,fullName:e.fullName},t.next=4,fetch(a,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(n)});case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)}))),r.apply(this,arguments)},n=function(t){return r.apply(this,arguments)},a=function(){return a=Object($["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a="/tasks/api/v1/agents/".concat(e),t.next=3,fetch(a,{method:"DELETE"});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)}))),a.apply(this,arguments)},e=function(t){return a.apply(this,arguments)},t.abrupt("return",{getAgents:i,createAgent:n,removeAgent:e,getAgent:s,addOrganisationUnitToAgent:c,removeOrganisationUnitFromAgent:g,addAttributeToAgent:d,removeAttributeFromAgent:v});case 17:case"end":return t.stop()}}),t)}))),Eg.apply(this,arguments)}var Tg={name:"EditAgentGroup",props:["organisationUnitName","groupName"],components:{SuccessBanner:Oe},setup:function(t){var e=Object(n["x"])({}),a=Object(n["x"])([]),r=Object(n["x"])([]),i=Object(n["x"])(!1);return Object(n["s"])(Object($["a"])(regeneratorRuntime.mark((function n(){var o,s,u,c,l,g,b;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return o=Object(Ft["e"])(),i.value=o.state.agentGroupsStore.agentGroupUpdated,n.next=4,Cg();case 4:return s=n.sent,n.next=7,s.getAgents(t.organisationUnitName);case 7:return u=n.sent,r.value=u.agents.map((function(t){return{value:t.staffNumber,name:t.fullName}})),n.next=11,bl();case 11:return c=n.sent,n.next=14,c.getAgentGroup(t.organisationUnitName,t.groupName);case 14:l=n.sent,e.value=l,e.value.organisationAttributes?(g=e.value.organisationAttributes[t.organisationUnitName],b=Object.keys(g),a.value=b.map((function(t){return{name:t,value:g[t]}}))):a.value=[];case 17:case"end":return n.stop()}}),n)})))),{agentGroup:e,attributes:a,agents:r,agentGroupUpdated:i}},data:function(){return{showAgentTab:!0,showAttributeTab:!1,title:"Agent Groups",heading:"Agent Groups",body:"Agent Group updated successfully"}},methods:Object(xt["a"])({showAgents:function(){this.showAgentTab=!0,this.showAttributeTab=!1},showAttributes:function(){this.showAgentTab=!1,this.showAttributeTab=!0},getAgentName:function(t){var e=this.agents.find((function(e){return e.value===t}));return e?e.name:""},hasAgents:function(){return!!(this.agentGroup.agents&&this.agentGroup.agents.length>0)},hasAttributes:function(){return!!(this.attributes&&this.attributes.length>0)},onClick:function(){this.resetState()}},Object(Ft["c"])("agentGroupsStore",{resetState:"resetState"}))};const zg=v()(Tg,[["render",Bg]]);var Dg=zg,Hg={class:"govuk-width-container"},Ig={class:"govuk-main-wrapper govuk-main-wrapper--auto-spacing",id:"main-content",role:"main"},$g={class:"govuk-grid-row"},Lg={class:"govuk-grid-column-full"},Pg=Object(n["i"])(" Back "),Kg=Object(n["g"])("button",{id:"continue",type:"submit",class:"govuk-button","data-module":"govuk-button"}," Continue ",-1);function qg(t,e,a,r,i,o){var s=Object(n["z"])("router-link"),u=Object(n["z"])("ErrorSummary"),c=Object(n["z"])("QuestionRadioGroup");return Object(n["u"])(),Object(n["f"])("div",Hg,[Object(n["g"])("main",Ig,[Object(n["g"])("div",$g,[Object(n["g"])("div",Lg,[Object(n["j"])(s,{id:"back-link",to:{name:"edit-agent-group",params:{organisationUnitName:a.organisationUnitName,groupName:a.groupName}},class:"govuk-back-link"},{default:Object(n["F"])((function(){return[Pg]})),_:1},8,["to"]),Object(n["j"])(u,{validForm:t.validForm,errorMessages:t.errorMessages},null,8,["validForm","errorMessages"]),Object(n["g"])("form",{onSubmit:e[1]||(e[1]=Object(n["H"])((function(){return o.onSubmit&&o.onSubmit.apply(o,arguments)}),["prevent"]))},[Object(n["j"])(c,{modelValue:r.question,"onUpdate:modelValue":e[0]||(e[0]=function(t){return r.question=t}),modelModifiers:{number:!0},elementName:"question",errorMessages:t.errorMessages,radioOptions:t.radioOptions,heading:"Do you want to remove an agent?"},null,8,["modelValue","errorMessages","radioOptions"]),Kg],32)])])])])}var Wg={name:"EditAgentGroupRemoveAgent",props:["organisationUnitName","groupName","staffNumber"],components:{QuestionRadioGroup:Wl,ErrorSummary:ze},setup:function(t){var e=Object(n["x"])(0);return{question:e}},data:function(){return{radioOptions:{Yes:1,No:2},validForm:!0,errorMessages:{}}},methods:Object(xt["a"])({isValid:function(){return this.errorMessages=Object(xt["a"])({},!this.question&&{question:Se("answer")}),0===Object.keys(this.errorMessages).length},onSubmit:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.validForm=this.isValid(),!this.validForm){t.next=10;break}if(1!==this.question){t.next=9;break}return t.next=5,bl();case 5:return e=t.sent,t.next=8,e.removeAgentFromAgentGroup(this.organisationUnitName,this.groupName,this.staffNumber);case 8:this.changeAgentGroupUpdated(!0);case 9:this.$router.push({name:"edit-agent-group",params:{organisationUnitName:this.organisationUnitName,groupName:this.groupName}});case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},Object(Ft["c"])("agentGroupsStore",{changeAgentGroupUpdated:"changeAgentGroupUpdated"}))};const Jg=v()(Wg,[["render",qg]]);var Qg=Jg,Yg={class:"govuk-width-container"},Xg={class:"govuk-main-wrapper govuk-main-wrapper--auto-spacing",id:"main-content",role:"main"},Zg={class:"govuk-grid-row"},tb={class:"govuk-grid-column-full"},eb=Object(n["i"])(" Back "),ab=Object(n["g"])("h1",{class:"govuk-heading-xl"}," Edit agent group add agent ",-1),nb={class:"govuk-fieldset"},rb=Object(n["g"])("button",{id:"continue",type:"submit",class:"govuk-button","data-module":"govuk-button"}," Save and continue ",-1);function ib(t,e,a,r,i,o){var s=Object(n["z"])("router-link"),u=Object(n["z"])("ErrorSummary"),c=Object(n["z"])("DropDownWithValues");return Object(n["u"])(),Object(n["f"])("div",Yg,[Object(n["g"])("main",Xg,[Object(n["g"])("div",Zg,[Object(n["g"])("div",tb,[Object(n["j"])(s,{id:"back-link",to:{name:"edit-agent-group",params:{organisationUnitName:a.organisationUnitName,groupName:a.groupName}},class:"govuk-back-link"},{default:Object(n["F"])((function(){return[eb]})),_:1},8,["to"]),Object(n["j"])(u,{validForm:t.validForm,errorMessages:t.errorMessages},null,8,["validForm","errorMessages"]),ab,Object(n["g"])("form",{onSubmit:e[1]||(e[1]=Object(n["H"])((function(){return o.onSubmit&&o.onSubmit.apply(o,arguments)}),["prevent"])),name:"addAgents"},[Object(n["g"])("fieldset",nb,[Object(n["j"])(c,{modelValue:r.agent,"onUpdate:modelValue":e[0]||(e[0]=function(t){return r.agent=t}),elementName:"agent",errorMessages:t.errorMessages,label:"Agents",selectOptions:r.selectAgents,hintText:"Agents that are members of the group."},null,8,["modelValue","errorMessages","selectOptions"])]),rb],32)])])])])}var ob=["for"],sb={key:0,class:"govuk-hint"},ub=["id"],cb=Object(n["g"])("span",{class:"govuk-visually-hidden"},"Error:",-1),lb=["value","id","name"],gb=Object(n["g"])("option",{disabled:"",selected:""},"-- Select an option --",-1),bb=["value"];function db(t,e,a,r,i,o){return Object(n["u"])(),Object(n["f"])("div",{class:Object(n["p"])(a.errorMessages[a.elementName]?"govuk-form-group govuk-form-group--error":"govuk-form-group")},[Object(n["g"])("label",{class:"govuk-label govuk-!-font-weight-bold",for:a.elementName},Object(n["B"])(a.label),9,ob),a.hintText?(Object(n["u"])(),Object(n["f"])("p",sb,Object(n["B"])(a.hintText),1)):Object(n["e"])("",!0),a.errorMessages[a.elementName]?(Object(n["u"])(),Object(n["f"])("p",{key:1,id:a.elementName+"-error",class:"govuk-error-message"},[cb,Object(n["i"])(" "+Object(n["B"])(a.errorMessages[a.elementName]),1)],8,ub)):Object(n["e"])("",!0),Object(n["g"])("select",{class:"govuk-select",value:a.modelValue,onChange:e[0]||(e[0]=function(e){return t.$emit("update:modelValue",e.target.value)}),id:a.elementName,name:a.elementName},[gb,(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(a.selectOptions,(function(t){return Object(n["u"])(),Object(n["f"])("option",{value:t.value,key:t.value},Object(n["B"])(t.name),9,bb)})),128))],40,lb)],2)}var mb={name:"DropDownWithValues",props:{modelValue:{type:String},elementName:{type:String},selectOptions:{type:Object},label:{type:String},hintText:{type:String},errorMessages:{type:Object,default:function(){return{}}}}};const vb=v()(mb,[["render",db]]);var pb=vb,jb={name:"EditAgentGroupAddAgent",props:["organisationUnitName","groupName"],components:{ErrorSummary:ze,DropDownWithValues:pb},setup:function(t){var e=Object(n["x"])(""),a=Object(n["x"])([]);return Object(n["s"])(Object($["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Cg();case 2:return n=e.sent,e.next=5,n.getAgents(t.organisationUnitName);case 5:r=e.sent,a.value=r.agents.map((function(t){return{value:t.staffNumber,name:t.fullName}}));case 7:case"end":return e.stop()}}),e)})))),{agent:e,selectAgents:a}},data:function(){return{validForm:!0,errorMessages:{}}},methods:Object(xt["a"])({isValid:function(){return this.errorMessages=Object(xt["a"])({},!this.agent&&{agent:Se("agent")}),0===Object.keys(this.errorMessages).length},onSubmit:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(){var e,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.validForm=this.isValid(),!this.validForm){t.next=18;break}return t.next=4,bl();case 4:return e=t.sent,t.next=7,e.addAgentToAgentGroup(this.organisationUnitName,this.groupName,this.agent);case 7:if(a=t.sent,201!==a.status){t.next=13;break}this.changeAgentGroupUpdated(!0),this.$router.push({name:"edit-agent-group",params:{organisationUnitName:this.organisationUnitName,groupName:this.groupName}}),t.next=18;break;case 13:return t.next=15,a.json();case 15:n=t.sent,this.validForm=!1,this.errorMessages=Object(xt["a"])({},{agent:n.message});case 18:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},Object(Ft["c"])("agentGroupsStore",{changeAgentGroupUpdated:"changeAgentGroupUpdated"}))};const Ob=v()(jb,[["render",ib]]);var hb=Ob,fb={class:"govuk-width-container"},kb={class:"govuk-main-wrapper govuk-main-wrapper--auto-spacing",id:"main-content",role:"main"},yb={class:"govuk-grid-row"},Nb={class:"govuk-grid-column-full"},Ab=Object(n["i"])(" Back "),_b=Object(n["g"])("button",{id:"continue",type:"submit",class:"govuk-button","data-module":"govuk-button"}," Continue ",-1);function wb(t,e,a,r,i,o){var s=Object(n["z"])("router-link"),u=Object(n["z"])("ErrorSummary"),c=Object(n["z"])("QuestionRadioGroup");return Object(n["u"])(),Object(n["f"])("div",fb,[Object(n["g"])("main",kb,[Object(n["g"])("div",yb,[Object(n["g"])("div",Nb,[Object(n["j"])(s,{id:"back-link",to:{name:"edit-agent-group",params:{organisationUnitName:a.organisationUnitName,groupName:a.groupName}},class:"govuk-back-link"},{default:Object(n["F"])((function(){return[Ab]})),_:1},8,["to"]),Object(n["j"])(u,{validForm:t.validForm,errorMessages:t.errorMessages},null,8,["validForm","errorMessages"]),Object(n["g"])("form",{onSubmit:e[1]||(e[1]=Object(n["H"])((function(){return o.onSubmit&&o.onSubmit.apply(o,arguments)}),["prevent"]))},[Object(n["j"])(c,{modelValue:r.question,"onUpdate:modelValue":e[0]||(e[0]=function(t){return r.question=t}),modelModifiers:{number:!0},elementName:"question",errorMessages:t.errorMessages,radioOptions:t.radioOptions,heading:"Do you want to remove an attribute?"},null,8,["modelValue","errorMessages","radioOptions"]),_b],32)])])])])}var Ub={name:"EditAgentGroupRemoveAttribute",props:["organisationUnitName","groupName","attributeName","attributeValue"],components:{QuestionRadioGroup:Wl,ErrorSummary:ze},setup:function(t){var e=Object(n["x"])(0);return{question:e}},data:function(){return{radioOptions:{Yes:1,No:2},validForm:!0,errorMessages:{}}},methods:Object(xt["a"])({isValid:function(){return this.errorMessages=Object(xt["a"])({},!this.question&&{question:Se("answer")}),0===Object.keys(this.errorMessages).length},onSubmit:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(){var e,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.validForm=this.isValid(),!this.validForm){t.next=21;break}if(2!==this.question){t.next=5;break}return this.$router.push("/organisation-unit-dashboard/".concat(this.organisationUnitName,"/edit-agent-group/").concat(this.groupName)),t.abrupt("return");case 5:return t.next=7,bl();case 7:return e=t.sent,t.next=10,e.removeAttributeFromAgentGroup(this.organisationUnitName,this.groupName,this.attributeName,this.attributeValue);case 10:if(a=t.sent,200!==a.status){t.next=16;break}this.changeAgentGroupUpdated(!0),this.$router.push({name:"edit-agent-group",params:{organisationUnitName:this.organisationUnitName,groupName:this.groupName}}),t.next=21;break;case 16:return t.next=18,a.json();case 18:n=t.sent,this.validForm=!1,this.errorMessages=Object(xt["a"])({},{question:n.message});case 21:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},Object(Ft["c"])("agentGroupsStore",{changeAgentGroupUpdated:"changeAgentGroupUpdated"}))};const xb=v()(Ub,[["render",wb]]);var Fb=xb,Mb={class:"govuk-width-container"},Sb={class:"govuk-main-wrapper govuk-main-wrapper--auto-spacing",id:"main-content",role:"main"},Vb={class:"govuk-grid-row"},Rb={class:"govuk-grid-column-full"},Gb=Object(n["i"])(" Back "),Bb=Object(n["g"])("h1",{class:"govuk-heading-xl"}," Edit agent group add attribute ",-1),Cb={class:"govuk-fieldset"},Eb=Object(n["g"])("button",{id:"continue",type:"submit",class:"govuk-button","data-module":"govuk-button"}," Continue ",-1);function Tb(t,e,a,r,i,o){var s=Object(n["z"])("router-link"),u=Object(n["z"])("ErrorSummary"),c=Object(n["z"])("DropDown");return Object(n["u"])(),Object(n["f"])("div",Mb,[Object(n["g"])("main",Sb,[Object(n["g"])("div",Vb,[Object(n["g"])("div",Rb,[Object(n["j"])(s,{id:"back-link",to:{name:"edit-agent-group",params:{organisationUnitName:a.organisationUnitName,groupName:a.groupName}},class:"govuk-back-link"},{default:Object(n["F"])((function(){return[Gb]})),_:1},8,["to"]),Object(n["j"])(u,{validForm:t.validForm,errorMessages:t.errorMessages},null,8,["validForm","errorMessages"]),Bb,Object(n["g"])("form",{onSubmit:e[1]||(e[1]=Object(n["H"])((function(){return o.onSubmit&&o.onSubmit.apply(o,arguments)}),["prevent"]))},[Object(n["g"])("fieldset",Cb,[Object(n["j"])(c,{modelValue:r.attributeName,"onUpdate:modelValue":e[0]||(e[0]=function(t){return r.attributeName=t}),elementName:"attributeName",errorMessages:t.errorMessages,label:"Attribute name",selectOptions:r.attributes},null,8,["modelValue","errorMessages","selectOptions"])]),Eb],32)])])])])}function zb(){return Db.apply(this,arguments)}function Db(){return Db=Object($["a"])(regeneratorRuntime.mark((function t(){var e,a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=function(){return r=Object($["a"])(regeneratorRuntime.mark((function t(e,a){var n,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=encodeURI("/tasks/api/v1/organisation-units/"+e),t.next=3,fetch(n,{headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:return r=t.sent,t.next=6,r.json();case 6:return i=t.sent,t.abrupt("return",i.attributes[a]);case 8:case"end":return t.stop()}}),t)}))),r.apply(this,arguments)},n=function(t,e){return r.apply(this,arguments)},a=function(){return a=Object($["a"])(regeneratorRuntime.mark((function t(e){var a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=encodeURI("/tasks/api/v1/organisation-units/"+e),t.next=3,fetch(a,{headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:return n=t.sent,t.next=6,n.json();case 6:return r=t.sent,t.abrupt("return",Object.keys(r.attributes));case 8:case"end":return t.stop()}}),t)}))),a.apply(this,arguments)},e=function(t){return a.apply(this,arguments)},t.abrupt("return",{getAttributes:e,getAttributeValues:n});case 5:case"end":return t.stop()}}),t)}))),Db.apply(this,arguments)}var Hb={name:"EditAgentGroupAddAttribute",props:["organisationUnitName","groupName"],components:{ErrorSummary:ze,DropDown:Jo},setup:function(t){var e=Object(n["x"])(""),a=Object(n["x"])(""),r=Object(n["x"])([]),i=Object(n["x"])({});return Object(n["s"])(Object($["a"])(regeneratorRuntime.mark((function n(){var o,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return o=Object(Ft["e"])(),i.value=o.state.agentGroupsStore.addAgentGroupAttribute,e.value=i.value.attributeName,a.value=i.value.attributeValue,n.next=6,zb();case 6:return s=n.sent,n.next=9,s.getAttributes(t.organisationUnitName);case 9:r.value=n.sent;case 10:case"end":return n.stop()}}),n)})))),{attributeName:e,attributeValue:a,attributes:r}},data:function(){return{validForm:!0,errorMessages:{}}},methods:Object(xt["a"])({isValid:function(){return this.errorMessages=Object(xt["a"])({},!this.attributeName&&{attributeName:Se("attribute name")}),0===Object.keys(this.errorMessages).length},onSubmit:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.validForm=this.isValid(),this.validForm&&(this.changeAddAgentGroupAttribute({attributeName:this.attributeName,attributeValue:this.attributeValue}),this.$router.push({name:"edit-agent-group-add-attribute-value",params:{organisationUnitName:this.organisationUnitName,groupName:this.groupName}}));case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},Object(Ft["c"])("agentGroupsStore",{changeAddAgentGroupAttribute:"changeAddAgentGroupAttribute"}))};const Ib=v()(Hb,[["render",Tb]]);var $b=Ib,Lb={class:"govuk-width-container"},Pb={class:"govuk-main-wrapper govuk-main-wrapper--auto-spacing",id:"main-content",role:"main"},Kb={class:"govuk-grid-row"},qb={class:"govuk-grid-column-full"},Wb=Object(n["i"])(" Back "),Jb=Object(n["g"])("h1",{class:"govuk-heading-xl"}," Edit agent group add attribute value ",-1),Qb={class:"govuk-fieldset"},Yb=Object(n["g"])("button",{id:"continue",type:"submit",class:"govuk-button","data-module":"govuk-button"}," Continue ",-1);function Xb(t,e,a,r,i,o){var s=Object(n["z"])("router-link"),u=Object(n["z"])("ErrorSummary"),c=Object(n["z"])("DropDown");return Object(n["u"])(),Object(n["f"])("div",Lb,[Object(n["g"])("main",Pb,[Object(n["g"])("div",Kb,[Object(n["g"])("div",qb,[Object(n["j"])(s,{id:"back-link",to:{name:"edit-agent-group-add-attribute",params:{organisationUnitName:a.organisationUnitName,groupName:a.groupName}},class:"govuk-back-link"},{default:Object(n["F"])((function(){return[Wb]})),_:1},8,["to"]),Object(n["j"])(u,{validForm:t.validForm,errorMessages:t.errorMessages},null,8,["validForm","errorMessages"]),Jb,Object(n["g"])("form",{onSubmit:e[1]||(e[1]=Object(n["H"])((function(){return o.onSubmit&&o.onSubmit.apply(o,arguments)}),["prevent"]))},[Object(n["g"])("fieldset",Qb,[Object(n["j"])(c,{modelValue:r.attributeValue,"onUpdate:modelValue":e[0]||(e[0]=function(t){return r.attributeValue=t}),elementName:"attributeValue",errorMessages:t.errorMessages,label:"Attribute value",selectOptions:r.attributeValues},null,8,["modelValue","errorMessages","selectOptions"])]),Yb],32)])])])])}var Zb={name:"EditAgentGroupAddAttribute",props:["organisationUnitName","groupName"],components:{ErrorSummary:ze,DropDown:Jo},setup:function(t){var e=Object(n["x"])(""),a=Object(n["x"])(""),r=Object(n["x"])([]);return Object(n["s"])(Object($["a"])(regeneratorRuntime.mark((function n(){var i,o,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=Object(Ft["e"])(),o=i.state.agentGroupsStore.addAgentGroupAttribute,e.value=o.attributeName,a.value=o.attributeValue,n.next=6,zb();case 6:return s=n.sent,n.next=9,s.getAttributeValues(t.organisationUnitName,e.value);case 9:r.value=n.sent;case 10:case"end":return n.stop()}}),n)})))),{attributeName:e,attributeValue:a,attributeValues:r}},data:function(){return{validForm:!0,errorMessages:{}}},methods:Object(xt["a"])({isValid:function(){return this.errorMessages=Object(xt["a"])({},!this.attributeValue&&{attributeValue:Se("attribute value")}),0===Object.keys(this.errorMessages).length},onSubmit:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(){var e,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.validForm=this.isValid(),!this.validForm){t.next=18;break}return t.next=4,bl();case 4:return e=t.sent,t.next=7,e.addAttributeToAgentGroup(this.organisationUnitName,this.groupName,this.attributeName,this.attributeValue);case 7:if(a=t.sent,201!==a.status){t.next=13;break}this.changeAgentGroupUpdated(!0),this.$router.push({name:"edit-agent-group",params:{organisationUnitName:this.organisationUnitName,groupName:this.groupName}}),t.next=18;break;case 13:return t.next=15,a.json();case 15:n=t.sent,this.validForm=!1,this.errorMessages=Object(xt["a"])({},{attributeValue:n.message});case 18:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},Object(Ft["c"])("agentGroupsStore",{changeAgentGroupUpdated:"changeAgentGroupUpdated"}))};const td=v()(Zb,[["render",Xb]]);var ed=td,ad={class:"govuk-width-container"},nd={class:"govuk-main-wrapper govuk-main-wrapper--auto-spacing",id:"main-content",role:"main"},rd={class:"govuk-grid-row"},id={class:"govuk-grid-column-full"},od=Object(n["i"])(" Back "),sd=Object(n["g"])("h1",{class:"govuk-heading-xl"}," Add agents ",-1),ud={class:"govuk-fieldset"},cd={class:"govuk-form-group"},ld={class:"govuk-table",id:"agents-table"},gd=Object(n["g"])("thead",{class:"govuk-table__head"},[Object(n["g"])("tr",{class:"govuk-table__row"},[Object(n["g"])("th",{scope:"col",class:"govuk-table__header"},"Agent"),Object(n["g"])("th",{scope:"col",class:"govuk-table__header"},"Action")])],-1),bd={class:"govuk-table__body"},dd=["id"],md={class:"govuk-table__cell"},vd=["onClick"],pd={key:0,class:"govuk-table__row"},jd=Object(n["g"])("td",{colspan:"2",class:"govuk-table__cell"}," No agents selected. ",-1),Od=[jd],hd=Object(n["g"])("button",{type:"submit",class:"govuk-button","data-module":"govuk-button"}," Continue ",-1);function fd(t,e,a,r,i,o){var s=Object(n["z"])("router-link"),u=Object(n["z"])("ErrorSummary"),c=Object(n["z"])("DropDownWithValues");return Object(n["u"])(),Object(n["f"])("div",ad,[Object(n["g"])("main",nd,[Object(n["g"])("div",rd,[Object(n["g"])("div",id,[Object(n["j"])(s,{id:"back-link",to:{name:"add-agent-group",params:{organisationUnitName:a.organisationUnitName}},class:"govuk-back-link"},{default:Object(n["F"])((function(){return[od]})),_:1},8,["to"]),Object(n["j"])(u,{validForm:t.validForm,errorMessages:t.errorMessages},null,8,["validForm","errorMessages"]),sd,Object(n["g"])("form",{onSubmit:e[2]||(e[2]=Object(n["H"])((function(){return o.onSubmit&&o.onSubmit.apply(o,arguments)}),["prevent"])),name:"addAgents"},[Object(n["g"])("fieldset",ud,[Object(n["j"])(c,{modelValue:r.agent,"onUpdate:modelValue":e[0]||(e[0]=function(t){return r.agent=t}),elementName:"agent",errorMessages:t.errorMessages,label:"Agents",selectOptions:r.selectAgents,hintText:"Agents that are members of the group."},null,8,["modelValue","errorMessages","selectOptions"]),Object(n["g"])("button",{type:"button",id:"add-agent",class:"govuk-button govuk-button--secondary","data-module":"govuk-button",onClick:e[1]||(e[1]=function(t){return o.addAgent()})}," Add "),Object(n["g"])("div",cd,[Object(n["g"])("table",ld,[gd,Object(n["g"])("tbody",bd,[(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(r.selectedAgents,(function(t,e){return Object(n["u"])(),Object(n["f"])("tr",{class:"govuk-table__row",key:t},[Object(n["g"])("td",{id:"agent-"+e,class:"govuk-table__cell"},Object(n["B"])(o.getAgentName(t)),9,dd),Object(n["g"])("td",md,[Object(n["g"])("button",{type:"button",class:"govuk-button govuk-button--secondary","data-module":"govuk-button",onClick:function(e){return o.removeAgent(t)}}," Remove ",8,vd)])])})),128)),o.hasAgents()?Object(n["e"])("",!0):(Object(n["u"])(),Object(n["f"])("tr",pd,Od))])])])]),hd],32)])])])])}var kd={name:"AddAgentGroupAddAgents",props:["organisationUnitName","groupName"],components:{ErrorSummary:ze,DropDownWithValues:pb},setup:function(t){var e=Object(n["x"])(""),a=Object(n["x"])([]),r=Object(n["x"])([]),i=Object(n["x"])([]);return Object(n["s"])(Object($["a"])(regeneratorRuntime.mark((function e(){var n,o,s,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Object(Ft["e"])(),o=n.state.agentGroupsStore.addAgentGroup,a.value=o.agents,i.value=o.attributes,e.next=6,Cg();case 6:return s=e.sent,e.next=9,s.getAgents(t.organisationUnitName);case 9:u=e.sent,r.value=u.agents.map((function(t){return{value:t.staffNumber,name:t.fullName}}));case 11:case"end":return e.stop()}}),e)})))),{agent:e,selectedAgents:a,selectAgents:r,attributes:i}},data:function(){return{validForm:!0,errorMessages:{},agentAlreadySelected:"Agent already selected",noAgentsSelected:"No agents have been selected"}},methods:Object(xt["a"])({isAgentsValid:function(){return this.clearErrors(),this.errorMessages=Object(xt["a"])({},!this.agent&&{agent:Se("agent")}),this.selectedAgents&&this.selectedAgents.includes(this.agent)&&(this.errorMessages=Object(xt["a"])({},{agent:this.agentAlreadySelected})),0===Object.keys(this.errorMessages).length},getAgentName:function(t){var e=this.selectAgents.find((function(e){return e.value===t}));return e?e.name:""},isPageValid:function(){return this.clearErrors(),this.selectedAgents&&0!==this.selectedAgents.length||(this.errorMessages=Object(xt["a"])({},{agent:this.noAgentsSelected})),0===Object.keys(this.errorMessages).length},hasAgents:function(){return this.selectedAgents&&this.selectedAgents.length>0},addAgent:function(){this.validForm=this.isAgentsValid(),this.validForm&&(this.selectedAgents.push(this.agent),this.agent="")},removeAgent:function(t){this.selectedAgents=this.selectedAgents.filter((function(e){return t!==e}))},clearErrors:function(){this.validForm=!0,this.errorMessages={}},onSubmit:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.validForm=this.isPageValid(),this.validForm&&(this.changeAddAgentGroup({groupName:this.groupName,agents:this.selectedAgents,attributes:this.attributes}),this.$router.push({name:"add-agent-group-attributes-list",params:{organisationUnitName:this.organisationUnitName,groupName:this.groupName}}));case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},Object(Ft["c"])("agentGroupsStore",{changeAddAgentGroup:"changeAddAgentGroup"}))};const yd=v()(kd,[["render",fd]]);var Nd=yd,Ad={class:"govuk-width-container"},_d={class:"govuk-main-wrapper govuk-main-wrapper--auto-spacing",id:"main-content",role:"main"},wd={class:"govuk-grid-row"},Ud={class:"govuk-grid-column-full"},xd=Object(n["i"])(" Back "),Fd=Object(n["g"])("h1",{class:"govuk-heading-xl"}," Agent group attributes list ",-1),Md={class:"govuk-table"},Sd=Object(n["g"])("thead",{class:"govuk-table__head"},[Object(n["g"])("tr",{class:"govuk-table__row"},[Object(n["g"])("th",{scope:"col",class:"govuk-table__header"},"Name"),Object(n["g"])("th",{scope:"col",class:"govuk-table__header"},"Values"),Object(n["g"])("th",{scope:"col",class:"govuk-table__header"},"Actions")])],-1),Vd={class:"govuk-table__body"},Rd={class:"govuk-table__cell"},Gd={class:"govuk-table__cell"},Bd={class:"govuk-table__cell"},Cd=["onClick"],Ed={key:0,class:"govuk-table__row"},Td=Object(n["g"])("td",{colspan:"3",class:"govuk-table__cell"}," No attributes selected. ",-1),zd=[Td],Dd={class:"govuk-body"},Hd=Object(n["i"])(" Add agent group attribute ");function Id(t,e,a,r,i,o){var s=Object(n["z"])("router-link"),u=Object(n["z"])("ErrorSummary");return Object(n["u"])(),Object(n["f"])("div",Ad,[Object(n["g"])("main",_d,[Object(n["g"])("div",wd,[Object(n["g"])("div",Ud,[Object(n["j"])(s,{id:"back-link",to:{name:"add-agent-group-add-agents",params:{organisationUnitName:a.organisationUnitName,groupName:a.groupName}},class:"govuk-back-link"},{default:Object(n["F"])((function(){return[xd]})),_:1},8,["to"]),Object(n["j"])(u,{validForm:t.validForm,errorMessages:t.errorMessages},null,8,["validForm","errorMessages"]),Fd,Object(n["g"])("table",Md,[Sd,Object(n["g"])("tbody",Vd,[(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(r.attributes,(function(t,e){return Object(n["u"])(),Object(n["f"])("tr",{class:"govuk-table__row",key:t.name},[Object(n["g"])("td",Rd,Object(n["B"])(t.name),1),Object(n["g"])("td",Gd,Object(n["B"])(t.value),1),Object(n["g"])("td",Bd,[Object(n["j"])(s,{class:"govuk-link",id:"remove-attribute-link-"+e,to:"/organisation-unit-dashboard/"+a.organisationUnitName+"/add-agent-group-attributes-list/"+a.groupName+"/remove-attribute"},{default:Object(n["F"])((function(){return[Object(n["g"])("span",{onClick:function(e){return o.onRemove(t.name,t.value)}},"Remove",8,Cd)]})),_:2},1032,["id","to"])])])})),128)),o.hasAttributes()?Object(n["e"])("",!0):(Object(n["u"])(),Object(n["f"])("tr",Ed,zd))])]),Object(n["g"])("p",Dd,[Object(n["j"])(s,{class:"govuk-link",id:"add-agent-group-attribute-link",to:"/organisation-unit-dashboard/"+a.organisationUnitName+"/add-agent-group-attributes-list/"+a.groupName+"/add-attribute"},{default:Object(n["F"])((function(){return[Hd]})),_:1},8,["to"])]),Object(n["g"])("button",{id:"continue",type:"button",class:"govuk-button","data-module":"govuk-button",onClick:e[0]||(e[0]=function(t){return o.onContinue()})}," Continue ")])])])])}var $d={name:"AddAgentGroupAttributesList",props:["organisationUnitName","groupName"],components:{ErrorSummary:ze},setup:function(t){var e=Object(n["x"])([]);return Object(n["s"])((function(){var t=Object(Ft["e"])(),a=t.state.agentGroupsStore.addAgentGroup;e.value=a.attributes})),{attributes:e}},data:function(){return{validForm:!0,errorMessages:{},noAttributesSelected:"No attributes have been selected"}},computed:Object(xt["a"])({},Object(Ft["d"])("agentGroupsStore",{addAgentGroup:"addAgentGroup"})),methods:Object(xt["a"])({isPageValid:function(){return this.attributes&&0!==this.attributes.length||(this.errorMessages=Object(xt["a"])({},{continue:this.noAttributesSelected})),0===Object.keys(this.errorMessages).length},onContinue:function(){this.validForm=this.isPageValid(),this.validForm&&this.$router.push({name:"add-agent-group-confirmation",params:{organisationUnitName:this.organisationUnitName,groupName:this.groupName}})},hasAttributes:function(){return this.attributes&&this.attributes.length>0},onRemove:function(t,e){this.changeRemoveAgentGroupAttribute({attributeName:t,attributeValue:e})}},Object(Ft["c"])("agentGroupsStore",{changeRemoveAgentGroupAttribute:"changeRemoveAgentGroupAttribute"}))};const Ld=v()($d,[["render",Id]]);var Pd=Ld,Kd={class:"govuk-width-container"},qd={class:"govuk-main-wrapper govuk-main-wrapper--auto-spacing",id:"main-content",role:"main"},Wd={class:"govuk-grid-row"},Jd={class:"govuk-grid-column-full"},Qd=Object(n["i"])(" Back "),Yd=Object(n["g"])("h1",{class:"govuk-heading-xl"}," Add agent group attribute ",-1),Xd=Object(n["g"])("div",{class:"govuk-inset-text"}," Attributes are used to match tasks to agents. For example, agent roles or location or grade. ",-1),Zd={class:"govuk-fieldset"},tm=Object(n["g"])("button",{id:"continue",type:"submit",class:"govuk-button","data-module":"govuk-button"}," Continue ",-1);function em(t,e,a,r,i,o){var s=Object(n["z"])("router-link"),u=Object(n["z"])("ErrorSummary"),c=Object(n["z"])("DropDown");return Object(n["u"])(),Object(n["f"])("div",Kd,[Object(n["g"])("main",qd,[Object(n["g"])("div",Wd,[Object(n["g"])("div",Jd,[Object(n["j"])(s,{id:"back-link",to:{name:"add-agent-group-attributes-list",params:{organisationUnitName:a.organisationUnitName,groupName:a.groupName}},class:"govuk-back-link"},{default:Object(n["F"])((function(){return[Qd]})),_:1},8,["to"]),Object(n["j"])(u,{validForm:t.validForm,errorMessages:t.errorMessages},null,8,["validForm","errorMessages"]),Yd,Xd,Object(n["g"])("form",{onSubmit:e[1]||(e[1]=Object(n["H"])((function(){return o.onSubmit&&o.onSubmit.apply(o,arguments)}),["prevent"])),name:"addAttribute"},[Object(n["g"])("fieldset",Zd,[Object(n["j"])(c,{modelValue:r.attributeName,"onUpdate:modelValue":e[0]||(e[0]=function(t){return r.attributeName=t}),elementName:"attributeName",errorMessages:t.errorMessages,label:"Attribute name",selectOptions:r.attributes},null,8,["modelValue","errorMessages","selectOptions"])]),tm],32)])])])])}var am={name:"AddAgentGroupAddAttribute",props:["organisationUnitName","groupName"],components:{ErrorSummary:ze,DropDown:Jo},setup:function(t){var e=Object(n["x"])(""),a=Object(n["x"])([]);return Object(n["s"])(Object($["a"])(regeneratorRuntime.mark((function n(){var r,i,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=Object(Ft["e"])(),i=r.state.agentGroupsStore.addAgentGroup,e.value=i.attributeName,n.next=5,zb();case 5:return o=n.sent,n.next=8,o.getAttributes(t.organisationUnitName);case 8:a.value=n.sent;case 9:case"end":return n.stop()}}),n)})))),{attributeName:e,attributes:a}},data:function(){return{validForm:!0,errorMessages:{}}},computed:Object(xt["a"])({},Object(Ft["d"])("agentGroupsStore",{addAgentGroup:"addAgentGroup"})),methods:Object(xt["a"])({isValid:function(){return this.errorMessages=Object(xt["a"])({},!this.attributeName&&{attributeName:Se("attribute name")}),0===Object.keys(this.errorMessages).length},onSubmit:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.validForm=this.isValid(),this.validForm&&(this.addAttributeName(this.attributeName),this.$router.push({name:"add-agent-group-add-attribute-value",params:{organisationUnitName:this.organisationUnitName,groupName:this.groupName}}));case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},Object(Ft["c"])("agentGroupsStore",{addAttributeName:"addAttributeName"}))};const nm=v()(am,[["render",em]]);var rm=nm,im={class:"govuk-width-container"},om={class:"govuk-main-wrapper govuk-main-wrapper--auto-spacing",id:"main-content",role:"main"},sm={class:"govuk-grid-row"},um={class:"govuk-grid-column-full"},cm=Object(n["i"])(" Back "),lm=Object(n["g"])("button",{id:"continue",type:"submit",class:"govuk-button","data-module":"govuk-button"}," Continue ",-1);function gm(t,e,a,r,i,o){var s=Object(n["z"])("router-link"),u=Object(n["z"])("ErrorSummary"),c=Object(n["z"])("QuestionRadioGroup");return Object(n["u"])(),Object(n["f"])("div",im,[Object(n["g"])("main",om,[Object(n["g"])("div",sm,[Object(n["g"])("div",um,[Object(n["j"])(s,{id:"back-link",to:"/organisation-unit-dashboard/"+a.organisationUnitName+"/add-agent-group-attributes-list/"+a.groupName,class:"govuk-back-link"},{default:Object(n["F"])((function(){return[cm]})),_:1},8,["to"]),Object(n["j"])(u,{validForm:t.validForm,errorMessages:t.errorMessages},null,8,["validForm","errorMessages"]),Object(n["g"])("form",{onSubmit:e[1]||(e[1]=Object(n["H"])((function(){return o.onSubmit&&o.onSubmit.apply(o,arguments)}),["prevent"])),name:"addAgentGroupRemoveAttribute"},[Object(n["j"])(c,{modelValue:r.answer,"onUpdate:modelValue":e[0]||(e[0]=function(t){return r.answer=t}),modelModifiers:{number:!0},elementName:"answer",errorMessages:t.errorMessages,radioOptions:t.radioOptions,heading:"Do you want to remove attribute?"},null,8,["modelValue","errorMessages","radioOptions"]),lm],32)])])])])}var bm={name:"AddAgentGroupRemoveAttribute",props:["organisationUnitName","groupName"],components:{ErrorSummary:ze,QuestionRadioGroup:Wl},setup:function(t){var e=Object(n["x"])(0),a=Object(n["x"])(""),r=Object(n["x"])("");return Object(n["s"])((function(){var t=Object(Ft["e"])(),e=t.state.agentGroupsStore.removeAgentGroupAttribute;a.value=e.attributeName,r.value=e.attributeValue})),{answer:e,attributeName:a,attributeValue:r}},data:function(){return{validForm:!0,errorMessages:{},radioOptions:{Yes:1,No:2}}},methods:Object(xt["a"])(Object(xt["a"])({},Object(Ft["c"])("agentGroupsStore",{removeAttribute:"removeAttribute"})),{},{isValid:function(){return this.errorMessages=Object(xt["a"])({},!this.answer&&{answer:Se("answer")}),0===Object.keys(this.errorMessages).length},onSubmit:function(){this.validForm=this.isValid(),this.validForm&&(1===this.answer&&this.removeAttribute({attributeName:this.attributeName,attributeValue:this.attributeValue}),this.$router.push({name:"add-agent-group-attributes-list",params:{organisationUnitName:this.organisationUnitName,groupName:this.groupName}}))}})};const dm=v()(bm,[["render",gm]]);var mm=dm,vm={class:"govuk-width-container"},pm={class:"govuk-main-wrapper govuk-main-wrapper--auto-spacing",id:"main-content",role:"main"},jm={class:"govuk-grid-row"},Om={class:"govuk-grid-column-full"},hm=Object(n["i"])(" Back "),fm=Object(n["g"])("h1",{class:"govuk-heading-xl"}," Add agent group confirmation ",-1),km=Object(n["g"])("h2",{class:"govuk-heading-m"}," Agent group details ",-1),ym={class:"govuk-summary-list"},Nm={class:"govuk-summary-list__row"},Am=Object(n["g"])("dt",{class:"govuk-summary-list__key"}," Group name ",-1),_m={class:"govuk-summary-list__value"},wm={class:"govuk-summary-list__actions"},Um=Object(n["i"])(" Change"),xm=Object(n["g"])("span",{class:"govuk-visually-hidden"}," group name",-1),Fm={class:"govuk-summary-list__row"},Mm=Object(n["g"])("dt",{class:"govuk-summary-list__key"}," Agents ",-1),Sm={class:"govuk-summary-list__value"},Vm=Object(n["g"])("br",null,null,-1),Rm={class:"govuk-summary-list__actions"},Gm=Object(n["i"])(" Change"),Bm=Object(n["g"])("span",{class:"govuk-visually-hidden"}," agents",-1),Cm={class:"govuk-summary-list__row"},Em=Object(n["g"])("dt",{class:"govuk-summary-list__key"}," Attributes ",-1),Tm={class:"govuk-summary-list__value"},zm=Object(n["g"])("br",null,null,-1),Dm={class:"govuk-summary-list__actions"},Hm=Object(n["i"])(" Change"),Im=Object(n["g"])("span",{class:"govuk-visually-hidden"}," attributes",-1);function $m(t,e,a,r,i,o){var s=Object(n["z"])("router-link"),u=Object(n["z"])("ErrorSummary");return Object(n["u"])(),Object(n["f"])("div",vm,[Object(n["g"])("main",pm,[Object(n["g"])("div",jm,[Object(n["g"])("div",Om,[Object(n["j"])(s,{id:"back-link",to:{name:"add-agent-group-attributes-list",params:{organisationUnitName:a.organisationUnitName,groupName:a.groupName}},class:"govuk-back-link"},{default:Object(n["F"])((function(){return[hm]})),_:1},8,["to"]),Object(n["j"])(u,{validForm:t.validForm,errorMessages:t.errorMessages},null,8,["validForm","errorMessages"]),fm,km,Object(n["g"])("dl",ym,[Object(n["g"])("div",Nm,[Am,Object(n["g"])("dd",_m,Object(n["B"])(a.groupName),1),Object(n["g"])("dd",wm,[Object(n["j"])(s,{class:"govuk-link",to:{name:"add-agent-group",params:{organisationUnitName:this.organisationUnitName}}},{default:Object(n["F"])((function(){return[Um,xm]})),_:1},8,["to"])])]),Object(n["g"])("div",Fm,[Mm,Object(n["g"])("dd",Sm,[(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(r.agents,(function(t,e){return Object(n["u"])(),Object(n["f"])(n["a"],{key:e},[Object(n["i"])(Object(n["B"])(o.getAgentName(t)),1),Vm],64)})),128))]),Object(n["g"])("dd",Rm,[Object(n["j"])(s,{class:"govuk-link",to:{name:"add-agent-group-add-agents",params:{organisationUnitName:this.organisationUnitName,groupName:this.groupName}}},{default:Object(n["F"])((function(){return[Gm,Bm]})),_:1},8,["to"])])]),Object(n["g"])("div",Cm,[Em,Object(n["g"])("dd",Tm,[(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(r.attributes,(function(t,e){return Object(n["u"])(),Object(n["f"])(n["a"],{key:e},[Object(n["i"])(Object(n["B"])(t.name)+"="+Object(n["B"])(t.value),1),zm],64)})),128))]),Object(n["g"])("dd",Dm,[Object(n["j"])(s,{class:"govuk-link",to:{name:"add-agent-group-attributes-list",params:{organisationUnitName:this.organisationUnitName,groupName:this.groupName}}},{default:Object(n["F"])((function(){return[Hm,Im]})),_:1},8,["to"])])])]),Object(n["g"])("button",{onClick:e[0]||(e[0]=function(t){return o.onContinue()}),"data-prevent-double-click":"true",class:"govuk-button","data-module":"govuk-button",ref:"save-and-continue",type:"button"}," Save and continue ",512)])])])])}a("13d5");var Lm={name:"AddAgentGroupConfirmation",props:["organisationUnitName","groupName"],components:{ErrorSummary:ze},setup:function(t){var e=Object(n["x"])([]),a=Object(n["x"])([]),r=Object(n["x"])([]);return Object(n["s"])(Object($["a"])(regeneratorRuntime.mark((function n(){var i,o,s,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=Object(Ft["e"])(),o=i.state.agentGroupsStore.addAgentGroup,e.value=o.attributes,a.value=o.agents,n.next=6,Cg();case 6:return s=n.sent,n.next=9,s.getAgents(t.organisationUnitName);case 9:u=n.sent,r.value=u.agents.reduce((function(t,e){return t[e.staffNumber]=e.fullName,t}),{});case 11:case"end":return n.stop()}}),n)})))),{attributes:e,agents:a,agentNames:r}},data:function(){return{validForm:!0,errorMessages:{}}},computed:Object(xt["a"])({},Object(Ft["d"])("agentGroupsStore",{addAgentGroup:"addAgentGroup"})),methods:Object(xt["a"])({processError:function(t){this.validForm=!1,this.errorMessages=Object(xt["a"])({},{continue:t})},getAgentName:function(t){return this.agentNames[t]},onContinue:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(){var e,a,n,r,i,o,s,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,bl();case 2:return e=t.sent,t.next=5,e.createAgentGroup(this.organisationUnitName,this.groupName,this.agents,this.attributes);case 5:if(a=t.sent,201!==a.status){t.next=36;break}n=0;case 8:if(!(n<this.attributes.length)){t.next=28;break}return t.prev=9,t.next=12,e.addAttributeToAgentGroup(this.organisationUnitName,this.groupName,this.attributes[n].name,this.attributes[n].value);case 12:if(r=t.sent,400!==r.status){t.next=20;break}return t.next=16,a.text();case 16:return i=t.sent,o=JSON.parse(i),this.processError(o.message),t.abrupt("break",28);case 20:t.next=25;break;case 22:t.prev=22,t.t0=t["catch"](9),this.processError(t.t0.message);case 25:n++,t.next=8;break;case 28:if(this.validForm){t.next=31;break}return t.abrupt("return");case 31:this.resetState(),this.changeAgentGroupAdded(!0),this.$router.push({name:"list-agent-groups",params:{organisationUnitName:this.organisationUnitName}}),t.next=41;break;case 36:return t.next=38,a.text();case 38:s=t.sent,u=JSON.parse(s),this.processError(u.message);case 41:case"end":return t.stop()}}),t,this,[[9,22]])})));function e(){return t.apply(this,arguments)}return e}()},Object(Ft["c"])("agentGroupsStore",{resetState:"resetState",changeAgentGroupAdded:"changeAgentGroupAdded"}))};const Pm=v()(Lm,[["render",$m]]);var Km=Pm,qm={class:"govuk-width-container"},Wm={class:"govuk-main-wrapper govuk-main-wrapper--auto-spacing",id:"main-content",role:"main"},Jm={class:"govuk-grid-row"},Qm={class:"govuk-grid-column-full"},Ym=Object(n["i"])(" Back "),Xm=Object(n["g"])("h1",{class:"govuk-heading-xl"}," Add agent group attribute value ",-1),Zm={class:"govuk-fieldset"},tv=Object(n["g"])("button",{type:"submit",class:"govuk-button","data-module":"govuk-button",id:"continue-button"}," Continue ",-1);function ev(t,e,a,r,i,o){var s=Object(n["z"])("router-link"),u=Object(n["z"])("ErrorSummary"),c=Object(n["z"])("DropDown");return Object(n["u"])(),Object(n["f"])("div",qm,[Object(n["g"])("main",Wm,[Object(n["g"])("div",Jm,[Object(n["g"])("div",Qm,[Object(n["j"])(s,{id:"back-link",to:{name:"add-agent-group-add-attribute",params:{organisationUnitName:a.organisationUnitName,groupName:a.groupName}},class:"govuk-back-link"},{default:Object(n["F"])((function(){return[Ym]})),_:1},8,["to"]),Object(n["j"])(u,{validForm:t.validForm,errorMessages:t.errorMessages},null,8,["validForm","errorMessages"]),Xm,Object(n["g"])("form",{class:"form",onSubmit:e[1]||(e[1]=Object(n["H"])((function(){return o.onSubmit&&o.onSubmit.apply(o,arguments)}),["prevent"])),name:"addAttributeValue"},[Object(n["g"])("fieldset",Zm,[Object(n["j"])(c,{modelValue:r.attributeValue,"onUpdate:modelValue":e[0]||(e[0]=function(t){return r.attributeValue=t}),elementName:"attributeValue",errorMessages:t.errorMessages,label:"Attribute value",selectOptions:r.attributeValues},null,8,["modelValue","errorMessages","selectOptions"])]),tv],32)])])])])}var av=a("2909"),nv={name:"AddAgentGroupAddAttributeValue",props:["organisationUnitName","groupName"],components:{ErrorSummary:ze,DropDown:Jo},setup:function(t){var e=Object(n["x"])(""),a=Object(n["x"])([]),r=Object(n["x"])([]),i=Object(n["x"])(""),o=Object(n["x"])([]);return Object(n["s"])(Object($["a"])(regeneratorRuntime.mark((function n(){var s,u,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=Object(Ft["e"])(),u=s.state.agentGroupsStore.addAgentGroup,e.value=u.attributeName,a.value=u.attributes,r.value=u.agents,i.value=u.attributeValue,n.next=8,zb();case 8:return c=n.sent,n.next=11,c.getAttributeValues(t.organisationUnitName,e.value);case 11:o.value=n.sent;case 12:case"end":return n.stop()}}),n)})))),{attributeName:e,attributes:a,agents:r,attributeValue:i,attributeValues:o}},data:function(){return{validForm:!0,errorMessages:{}}},computed:Object(xt["a"])({},Object(Ft["d"])("agentGroupsStore",{addAgentGroup:"addAgentGroup"})),methods:Object(xt["a"])({isValid:function(){return this.errorMessages=Object(xt["a"])({},!this.attributeValue&&{attributeValue:Se("attribute value")}),0===Object.keys(this.errorMessages).length},onSubmit:function(){this.validForm=this.isValid(),this.validForm&&(this.changeAddAgentGroup({groupName:this.groupName,agents:this.agents,attributes:[].concat(Object(av["a"])(this.attributes),[{name:this.attributeName,value:this.attributeValue}])}),this.$router.push({name:"add-agent-group-attributes-list",params:{organisationUnitName:this.organisationUnitName,groupName:this.groupName}}))}},Object(Ft["c"])("agentGroupsStore",{changeAddAgentGroup:"changeAddAgentGroup"}))};const rv=v()(nv,[["render",ev]]);var iv=rv,ov=[{path:"/organisation-unit-dashboard/:organisationUnitName/list-agent-groups",name:"list-agent-groups",component:pl,props:!0,meta:{allowedFrom:["organisation-unit-dashboard","add-agent-group","remove-agent-group","edit-agent-group","add-agent-group-confirmation"]}},{path:"/organisation-unit-dashboard/:organisationUnitName/add-agent-group",name:"add-agent-group",component:Fl,props:!0,meta:{allowedFrom:["list-agent-groups","add-agent-group-add-agents","add-agent-group-confirmation"]}},{path:"/organisation-unit-dashboard/:organisationUnitName/add-agent-group-add-agents/:groupName",name:"add-agent-group-add-agents",component:Nd,props:!0,meta:{allowedFrom:["list-agent-groups","add-agent-group","add-agent-group-attributes-list","add-agent-group-confirmation"]}},{path:"/organisation-unit-dashboard/:organisationUnitName/add-agent-group-attributes-list/:groupName",name:"add-agent-group-attributes-list",component:Pd,props:!0,meta:{allowedFrom:["add-agent-group-add-agents","add-agent-group-add-attribute","add-agent-group-add-attribute-value","add-agent-group-confirmation","add-agent-group-remove-attribute"]}},{path:"/organisation-unit-dashboard/:organisationUnitName/add-agent-group-attributes-list/:groupName/add-attribute",name:"add-agent-group-add-attribute",component:rm,props:!0,meta:{allowedFrom:["add-agent-group-attributes-list","add-agent-group-add-attribute-value"]}},{path:"/organisation-unit-dashboard/:organisationUnitName/add-agent-group-attributes-list/:groupName/add-attribute-value",name:"add-agent-group-add-attribute-value",component:iv,props:!0,meta:{allowedFrom:["add-agent-group-add-attribute"]}},{path:"/organisation-unit-dashboard/:organisationUnitName/add-agent-group-attributes-list/:groupName/remove-attribute",name:"add-agent-group-remove-attribute",component:mm,props:!0,meta:{allowedFrom:["add-agent-group-attributes-list"]}},{path:"/organisation-unit-dashboard/:organisationUnitName/add-agent-group/:groupName/agent-group-confirmation",name:"add-agent-group-confirmation",component:Km,props:!0,meta:{allowedFrom:["add-agent-group-attributes-list"]}},{path:"/organisation-unit-dashboard/:organisationUnitName/remove-agent-group/:groupName",name:"remove-agent-group",component:Yl,props:!0,meta:{allowedFrom:["list-agent-groups"]}},{path:"/organisation-unit-dashboard/:organisationUnitName/edit-agent-group/:groupName",name:"edit-agent-group",component:Dg,props:!0,meta:{allowedFrom:["list-agent-groups","edit-agent-group-remove-agent","edit-agent-group-add-agent","edit-agent-group-remove-attribute","edit-agent-group-add-attribute","edit-agent-group-add-attribute-value"]}},{path:"/organisation-unit-dashboard/:organisationUnitName/edit-agent-group/:groupName/remove-agent/:staffNumber",name:"edit-agent-group-remove-agent",component:Qg,props:!0,meta:{allowedFrom:["edit-agent-group"]}},{path:"/organisation-unit-dashboard/:organisationUnitName/edit-agent-group/:groupName/add-agent",name:"edit-agent-group-add-agent",component:hb,props:!0,meta:{allowedFrom:["edit-agent-group"]}},{path:"/organisation-unit-dashboard/:organisationUnitName/edit-agent-group/:groupName/remove-attribute/:attributeName/:attributeValue",name:"edit-agent-group-remove-attribute",component:Fb,props:!0,meta:{allowedFrom:["edit-agent-group"]}},{path:"/organisation-unit-dashboard/:organisationUnitName/edit-agent-group/:groupName/add-attribute",name:"edit-agent-group-add-attribute",component:$b,props:!0,meta:{allowedFrom:["edit-agent-group"]}},{path:"/organisation-unit-dashboard/:organisationUnitName/edit-agent-group/:groupName/add-attribute-value",name:"edit-agent-group-add-attribute-value",component:ed,props:!0,meta:{allowedFrom:["edit-agent-group-add-attribute"]}}],sv=ov,uv={class:"govuk-width-container"},cv={class:"govuk-main-wrapper govuk-main-wrapper--auto-spacing",id:"main-content",role:"main"},lv={class:"govuk-grid-row"},gv={class:"govuk-grid-column-full"},bv=Object(n["g"])("h1",{class:"govuk-heading-xl"}," Agents list ",-1),dv={class:"govuk-table"},mv=Object(n["g"])("caption",{class:"govuk-table__caption govuk-table__caption--m"},"Agents list",-1),vv=Object(n["g"])("thead",{class:"govuk-table__head"},[Object(n["g"])("tr",{class:"govuk-table__row"},[Object(n["g"])("th",{scope:"col",class:"govuk-table__header"},"Staff Number"),Object(n["g"])("th",{scope:"col",class:"govuk-table__header"},"Full Name"),Object(n["g"])("th",{scope:"col",class:"govuk-table__header"},"Organisation Units"),Object(n["g"])("th",{scope:"col",class:"govuk-table__header"},"Attributes"),Object(n["g"])("th",{scope:"col",class:"govuk-table__header"},"Actions")])],-1),pv={class:"govuk-table__body"},jv={class:"govuk-table__cell"},Ov={class:"govuk-table__cell"},hv={class:"govuk-table__cell"},fv=Object(n["g"])("br",null,null,-1),kv={class:"govuk-table__cell"},yv=Object(n["g"])("br",null,null,-1),Nv={class:"govuk-table__cell"},Av=Object(n["i"])(" Edit "),_v={class:"govuk-visually-hidden"},wv=Object(n["i"])(" Remove "),Uv={class:"govuk-visually-hidden"},xv={key:0,class:"govuk-table__row"},Fv=Object(n["g"])("td",{colspan:"5",class:"govuk-table__cell"}," No agents. ",-1),Mv=[Fv],Sv={class:"govuk-body"},Vv=Object(n["i"])(" Add agent ");function Rv(t,e,a,r,i,o){var s=Object(n["z"])("BreadCrumbTrail"),u=Object(n["z"])("SuccessBanner"),c=Object(n["z"])("router-link");return Object(n["u"])(),Object(n["f"])("div",uv,[Object(n["g"])("main",cv,[Object(n["g"])("div",lv,[Object(n["g"])("div",gv,[Object(n["j"])(s,{links:r.links},null,8,["links"]),r.agentAdded?(Object(n["u"])(),Object(n["d"])(u,{key:0,title:t.title,heading:t.heading,body:t.createbody},null,8,["title","heading","body"])):Object(n["e"])("",!0),r.agentDeleted?(Object(n["u"])(),Object(n["d"])(u,{key:1,title:t.title,heading:t.heading,body:t.deletebody},null,8,["title","heading","body"])):Object(n["e"])("",!0),bv,Object(n["g"])("table",dv,[mv,vv,Object(n["g"])("tbody",pv,[(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(r.agents,(function(t,r){return Object(n["u"])(),Object(n["f"])("tr",{class:"govuk-table__row",key:r},[Object(n["g"])("td",jv,Object(n["B"])(t.staffNumber),1),Object(n["g"])("td",Ov,Object(n["B"])(t.fullName),1),Object(n["g"])("td",hv,[(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(t.organisationUnitDescriptions,(function(t){return Object(n["u"])(),Object(n["f"])(n["a"],{key:t},[Object(n["i"])(Object(n["B"])(t),1),fv],64)})),128))]),Object(n["g"])("td",kv,[(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(t.attributes,(function(t,e){return Object(n["u"])(),Object(n["f"])(n["a"],{key:e},[Object(n["i"])(Object(n["B"])(t.name)+"=",1),(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(t.value,(function(t,e){return Object(n["u"])(),Object(n["f"])(n["a"],{key:e},[Object(n["i"])(Object(n["B"])(t),1),yv],64)})),128))],64)})),128))]),Object(n["g"])("td",Nv,[Object(n["j"])(c,{id:"edit-agent-link-"+r,to:{name:"edit-agent",params:{organisationUnitName:a.organisationUnitName,staffNumber:t.staffNumber}},class:"govuk-link govuk-!-padding-right-1",onClick:e[0]||(e[0]=function(t){return o.initState()})},{default:Object(n["F"])((function(){return[Av,Object(n["g"])("span",_v,Object(n["B"])(t.staffNumber),1)]})),_:2},1032,["id","to"]),Object(n["j"])(c,{id:"remove-agent-link-"+r,to:{name:"remove-agent",params:{organisationUnitName:a.organisationUnitName,staffNumber:t.staffNumber}},class:"govuk-link",onClick:e[1]||(e[1]=function(t){return o.initState()})},{default:Object(n["F"])((function(){return[wv,Object(n["g"])("span",Uv,Object(n["B"])(t.staffNumber),1)]})),_:2},1032,["id","to"])])])})),128)),o.hasAgents()?Object(n["e"])("",!0):(Object(n["u"])(),Object(n["f"])("tr",xv,Mv))])]),Object(n["g"])("p",Sv,[Object(n["j"])(c,{id:"add-agent-link",to:{name:"add-agent",params:{organisationUnitName:a.organisationUnitName}},class:"govuk-link",onClick:e[2]||(e[2]=function(t){return o.initState()})},{default:Object(n["F"])((function(){return[Vv]})),_:1},8,["to"])])])])])])}var Gv=a("e1ee"),Bv=a("0697"),Cv={name:"ListAgents",props:["organisationUnitName"],components:{BreadCrumbTrail:Bt,SuccessBanner:Oe},data:function(){return{title:"Agents",heading:"Agents",createbody:"Agent created successfully",deletebody:"Agent deleted successfully"}},setup:function(t){var e=Object(n["x"])([]),a=Object(n["x"])({}),r=Object(n["x"])([]),i=Object(n["x"])(!1),o=Object(n["x"])(!1);return Object(n["s"])(Object($["a"])(regeneratorRuntime.mark((function n(){var s,u,c,l,g,b;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=Object(Ft["e"])(),i.value=s.state.agentsStore.agentAdded,o.value=s.state.agentsStore.agentDeleted,n.next=5,L();case 5:return u=n.sent,n.next=8,u.getOrganisationUnit(t.organisationUnitName);case 8:return a.value=n.sent,n.next=11,u.getOrganisationUnits();case 11:return c=n.sent,l=Object(Gv["buildOrganisationDescriptions"])(c.organisationUnits),n.next=15,Cg();case 15:return g=n.sent,n.next=18,g.getAgents(t.organisationUnitName);case 18:b=n.sent,e.value=b.agents.map((function(t){var e=t.organisationUnitNames.map((function(t){return l[t]})),a=[];return t.organisationsAttributes&&(a=Object(Bv["buildAgentAttributes"])(t.organisationsAttributes,l)),{organisationUnitDescriptions:e,staffNumber:t.staffNumber,fullName:t.fullName,attributes:a}})),r.value=[{id:"home",to:"/",label:"Home"},{id:"organisation-unit-dashboard",to:{name:"organisation-unit-dashboard",params:{organisationUnitName:t.organisationUnitName}},label:"".concat(a.value.description," Dashboard")},{id:"agents-list",label:"Agents list"}];case 21:case"end":return n.stop()}}),n)})))),{agents:e,organisationUnit:a,links:r,agentAdded:i,agentDeleted:o}},methods:Object(xt["a"])(Object(xt["a"])({isLastIndex:function(t,e){return t===Object.keys(e.attributes).length-1},initState:function(){this.resetState()}},Object(Ft["c"])("agentsStore",{resetState:"resetState"})),{},{hasAgents:function(){return this.agents&&this.agents.length>0}})};const Ev=v()(Cv,[["render",Rv]]);var Tv=Ev,zv={class:"govuk-width-container"},Dv={class:"govuk-main-wrapper govuk-main-wrapper--auto-spacing",id:"main-content",role:"main"},Hv={class:"govuk-grid-row"},Iv={class:"govuk-grid-column-full"},$v=Object(n["i"])(" Back "),Lv=Object(n["g"])("h1",{class:"govuk-heading-xl"}," Edit agent ",-1),Pv={className:"govuk-fieldset"},Kv={class:"govuk-tabs","data-module":"govuk-tabs"},qv=Object(n["g"])("h2",{class:"govuk-tabs__title"}," Contents ",-1),Wv={class:"govuk-tabs__list",role:"tablist"},Jv=["tabindex"],Qv=["tabindex"],Yv={key:0},Xv={class:"govuk-table",id:"org-units-table"},Zv=Object(n["g"])("thead",{class:"govuk-table__head"},[Object(n["g"])("tr",{class:"govuk-table__row"},[Object(n["g"])("th",{scope:"col",class:"govuk-table__header"},"Organisation unit"),Object(n["g"])("th",{scope:"col",class:"govuk-table__header"},"Action")])],-1),tp={class:"govuk-table__body"},ep={class:"govuk-table__cell"},ap={class:"govuk-table__cell"},np=Object(n["i"])(" Remove "),rp={class:"govuk-visually-hidden"},ip={key:0,class:"govuk-table__row"},op=Object(n["g"])("td",{class:"govuk-table__cell",colspan:"2"}," No organisation units. ",-1),sp=[op],up={class:"govuk-body"},cp=Object(n["i"])(" Add organisation unit "),lp={key:0},gp={class:"govuk-table"},bp=Object(n["g"])("thead",{class:"govuk-table__head"},[Object(n["g"])("tr",{class:"govuk-table__row"},[Object(n["g"])("th",{scope:"col",class:"govuk-table__header"},"Organisation unit"),Object(n["g"])("th",{scope:"col",class:"govuk-table__header"},"Name"),Object(n["g"])("th",{scope:"col",class:"govuk-table__header"},"Value"),Object(n["g"])("th",{scope:"col",class:"govuk-table__header"},"Action")])],-1),dp={class:"govuk-table__body"},mp={class:"govuk-table__cell"},vp={class:"govuk-table__cell"},pp={class:"govuk-table__cell"},jp=Object(n["g"])("br",null,null,-1),Op={class:"govuk-table__cell"},hp=Object(n["i"])(" Remove "),fp={class:"govuk-visually-hidden"},kp={key:0,class:"govuk-table__row"},yp=Object(n["g"])("td",{class:"govuk-table__cell",colspan:"4"}," No attributes. ",-1),Np=[yp],Ap={class:"govuk-body"},_p=Object(n["i"])(" Add attribute ");function wp(t,e,a,r,i,o){var s=Object(n["z"])("router-link"),u=Object(n["z"])("SuccessBanner"),c=Object(n["z"])("InputText");return Object(n["u"])(),Object(n["f"])("div",zv,[Object(n["g"])("main",Dv,[Object(n["g"])("div",Hv,[Object(n["g"])("div",Iv,[Object(n["j"])(s,{id:"back-link",to:{name:"list-agents",params:{organisationUnitName:a.organisationUnitName}},class:"govuk-back-link"},{default:Object(n["F"])((function(){return[$v]})),_:1},8,["to"]),r.agentUpdated?(Object(n["u"])(),Object(n["d"])(u,{key:0,title:t.title,heading:t.heading,body:t.body},null,8,["title","heading","body"])):Object(n["e"])("",!0),Lv,Object(n["g"])("form",null,[Object(n["g"])("fieldset",Pv,[Object(n["j"])(c,{modelValue:a.staffNumber,elementName:"staffNumber",errorMessages:t.errorMessages,label:"Staff number",disabled:"true"},null,8,["modelValue","errorMessages"]),Object(n["j"])(c,{modelValue:r.fullName,elementName:"fullName",errorMessages:t.errorMessages,label:"Full name",disabled:"true"},null,8,["modelValue","errorMessages"])])]),Object(n["g"])("div",Kv,[qv,Object(n["g"])("ul",Wv,[Object(n["g"])("li",{class:Object(n["p"])(t.showOrgUnitTab?"govuk-tabs__list-item govuk-tabs__list-item--selected":"govuk-tabs__list-item"),role:"presentation"},[Object(n["g"])("a",{class:"govuk-tabs__tab",href:"",id:"org-units-tab",role:"tab","aria-controls":"org-units-tab","aria-selected":"true",tabindex:t.showOrgUnitTab?0:-1,onClick:e[0]||(e[0]=Object(n["H"])((function(t){return o.showOrgUnits()}),["prevent"]))}," Organisation units ",8,Jv)],2),Object(n["g"])("li",{class:Object(n["p"])(t.showAttributeTab?"govuk-tabs__list-item govuk-tabs__list-item--selected":"govuk-tabs__list-item"),role:"presentation"},[Object(n["g"])("a",{class:"govuk-tabs__tab",href:"",id:"attributes-tab",role:"tab","aria-controls":"attributes-tab","aria-selected":"false",tabindex:t.showAttributeTab?0:-1,onClick:e[1]||(e[1]=Object(n["H"])((function(t){return o.showAttributes()}),["prevent"]))}," Attributes ",8,Qv)],2)]),Object(n["g"])("div",{class:Object(n["p"])(t.showOrgUnitTab?"govuk-tabs__panel":"govuk-tabs__panel govuk-tabs__panel--hidden"),id:"org-units-table-outer",role:"tabpanel","aria-labelledby":"org-units-tab"},[t.showOrgUnitTab?(Object(n["u"])(),Object(n["f"])("div",Yv,[Object(n["g"])("table",Xv,[Zv,Object(n["g"])("tbody",tp,[(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(r.organisationUnitNames,(function(t,r){return Object(n["u"])(),Object(n["f"])("tr",{class:"govuk-table__row",key:r},[Object(n["g"])("td",ep,Object(n["B"])(t.description),1),Object(n["g"])("td",ap,[Object(n["j"])(s,{class:"govuk-link",id:"remove-organisation-unit-"+r,to:{name:"edit-agent-remove-organisation-unit",params:{organisationUnitName:a.organisationUnitName,staffNumber:a.staffNumber,organisationUnit:t.organisationUnitName}},onClick:e[2]||(e[2]=function(t){return o.onClick()})},{default:Object(n["F"])((function(){return[np,Object(n["g"])("span",rp,Object(n["B"])(t.description),1)]})),_:2},1032,["id","to"])])])})),128)),o.hasOrgUnits()?Object(n["e"])("",!0):(Object(n["u"])(),Object(n["f"])("tr",ip,sp))])]),Object(n["g"])("p",up,[Object(n["j"])(s,{class:"govuk-link",id:"add-agent-org-unit-link",to:{name:"edit-agent-add-organisation-unit",params:{organisationUnitName:a.organisationUnitName,staffNumber:a.staffNumber}},onClick:e[3]||(e[3]=function(t){return o.onClick()})},{default:Object(n["F"])((function(){return[cp]})),_:1},8,["to"])])])):Object(n["e"])("",!0)],2),Object(n["g"])("div",{class:Object(n["p"])(t.showAttributeTab?"govuk-tabs__panel":"govuk-tabs__panel govuk-tabs__panel--hidden"),id:"attributes-table-outer",role:"tabpanel","aria-labelledby":"attributes-tab"},[t.showAttributeTab?(Object(n["u"])(),Object(n["f"])("div",lp,[Object(n["g"])("table",gp,[bp,Object(n["g"])("tbody",dp,[(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(r.attributes,(function(t,r){return Object(n["u"])(),Object(n["f"])("tr",{class:"govuk-table__row",key:r},[Object(n["g"])("td",mp,Object(n["B"])(t.orgUnit),1),Object(n["g"])("td",vp,Object(n["B"])(t.name),1),Object(n["g"])("td",pp,[(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(t.value,(function(t,e){return Object(n["u"])(),Object(n["f"])(n["a"],{key:e},[Object(n["i"])(Object(n["B"])(t),1),jp],64)})),128))]),Object(n["g"])("td",Op,[(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(t.value,(function(r,i){return Object(n["u"])(),Object(n["d"])(s,{key:i,class:"govuk-link",id:"remove-attribute-link-"+i,to:{name:"edit-agent-remove-attribute",params:{attributeName:t.name,attributeValue:r,orgUnit:t.orgUnitName,organisationUnitName:a.organisationUnitName,staffNumber:a.staffNumber}},onClick:e[4]||(e[4]=function(t){return o.onClick()})},{default:Object(n["F"])((function(){return[hp,Object(n["g"])("span",fp,Object(n["B"])(t.name),1)]})),_:2},1032,["id","to"])})),128))])])})),128)),o.hasAttributes()?Object(n["e"])("",!0):(Object(n["u"])(),Object(n["f"])("tr",kp,Np))])]),Object(n["g"])("p",Ap,[Object(n["j"])(s,{class:"govuk-link",id:"add-attribute-link",to:{name:"edit-agent-add-attribute",params:{organisationUnitName:a.organisationUnitName,staffNumber:a.staffNumber}},onClick:e[5]||(e[5]=function(t){return o.onClick()})},{default:Object(n["F"])((function(){return[_p]})),_:1},8,["to"])])])):Object(n["e"])("",!0)],2)])])])])])}var Up={name:"EditAgent",props:["organisationUnitName","staffNumber"],components:{InputText:We,SuccessBanner:Oe},setup:function(t){var e=Object(n["x"])(!1),a=Object(n["x"])(""),r=Object(n["x"])([]),i=Object(n["x"])([]);return Object(n["s"])(Object($["a"])(regeneratorRuntime.mark((function n(){var o,s,u,c,l,g;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return o=Object(Ft["e"])(),e.value=o.state.agentsStore.agentUpdated,n.next=4,Cg();case 4:return s=n.sent,n.next=7,s.getAgent(t.staffNumber);case 7:return u=n.sent,a.value=u.fullName,n.next=11,L();case 11:return c=n.sent,n.next=14,c.getOrganisationUnits();case 14:l=n.sent,g=Object(Gv["buildOrganisationDescriptions"])(l.organisationUnits),i.value=u.organisationUnitNames.map((function(t){return{description:g[t],organisationUnitName:t}})),r.value=Object(Bv["buildAgentAttributes"])(u.organisationsAttributes,g);case 18:case"end":return n.stop()}}),n)})))),{attributes:r,organisationUnitNames:i,fullName:a,agentUpdated:e}},data:function(){return{showOrgUnitTab:!0,showAttributeTab:!1,title:"Agent",heading:"Agent",body:"Agent updated successfully",errorMessages:{},validForm:!0}},methods:Object(xt["a"])({showOrgUnits:function(){this.showOrgUnitTab=!0,this.showAttributeTab=!1},showAttributes:function(){this.showOrgUnitTab=!1,this.showAttributeTab=!0},hasOrgUnits:function(){return!!(this.organisationUnitNames&&this.organisationUnitNames.length>0)},hasAttributes:function(){return!!(this.attributes&&this.attributes.length>0)},onClick:function(){this.resetState()}},Object(Ft["c"])("agentsStore",{resetState:"resetState"}))};const xp=v()(Up,[["render",wp]]);var Fp=xp,Mp={class:"govuk-width-container"},Sp={class:"govuk-main-wrapper govuk-main-wrapper--auto-spacing",id:"main-content",role:"main"},Vp={class:"govuk-grid-row"},Rp={class:"govuk-grid-column-full"},Gp=Object(n["i"])(" Back "),Bp=Object(n["g"])("button",{id:"continue",type:"submit",class:"govuk-button","data-module":"govuk-button"}," Save and continue ",-1);function Cp(t,e,a,r,i,o){var s=Object(n["z"])("router-link"),u=Object(n["z"])("ErrorSummary"),c=Object(n["z"])("QuestionRadioGroup");return Object(n["u"])(),Object(n["f"])("div",Mp,[Object(n["g"])("main",Sp,[Object(n["g"])("div",Vp,[Object(n["g"])("div",Rp,[Object(n["j"])(s,{class:"govuk-back-link",id:"back-link",to:{name:"list-agents",params:{organisationUnitName:a.organisationUnitName}}},{default:Object(n["F"])((function(){return[Gp]})),_:1},8,["to"]),Object(n["j"])(u,{validForm:t.validForm,errorMessages:t.errorMessages},null,8,["validForm","errorMessages"]),Object(n["g"])("form",{onSubmit:e[1]||(e[1]=Object(n["H"])((function(){return o.onSubmit&&o.onSubmit.apply(o,arguments)}),["prevent"]))},[Object(n["j"])(c,{modelValue:r.answer,"onUpdate:modelValue":e[0]||(e[0]=function(t){return r.answer=t}),modelModifiers:{number:!0},elementName:"answer",errorMessages:t.errorMessages,radioOptions:t.radioOptions,heading:"Do you want to remove an agent?"},null,8,["modelValue","errorMessages","radioOptions"]),Bp],32)])])])])}var Ep={name:"RemoveAgent",props:["organisationUnitName","staffNumber"],components:{QuestionRadioGroup:Wl,ErrorSummary:ze},setup:function(t){var e=Object(n["x"])(0);return{answer:e}},data:function(){return{radioOptions:{Yes:1,No:2},validForm:!0,errorMessages:{}}},methods:Object(xt["a"])({isValid:function(){return this.errorMessages=Object(xt["a"])({},!this.answer&&{answer:Se("answer")}),0===Object.keys(this.errorMessages).length},onSubmit:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(){var e,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.validForm=this.isValid(),!this.validForm){t.next=18;break}if(1!==this.answer){t.next=17;break}return t.next=5,Cg();case 5:return e=t.sent,t.next=8,e.removeAgent(this.staffNumber);case 8:if(a=t.sent,204===a.status){t.next=16;break}return t.next=12,a.text();case 12:return n=t.sent,this.validForm=!1,this.errorMessages=Object(xt["a"])({},{answer:JSON.parse(n).message}),t.abrupt("return");case 16:this.changeAgentDeleted(!0);case 17:this.$router.push({name:"list-agents",params:{organisationUnitName:this.organisationUnitName}});case 18:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},Object(Ft["c"])("agentsStore",{changeAgentDeleted:"changeAgentDeleted"}))};const Tp=v()(Ep,[["render",Cp]]);var zp=Tp,Dp={class:"govuk-width-container"},Hp={class:"govuk-main-wrapper govuk-main-wrapper--auto-spacing",id:"main-content",role:"main"},Ip={class:"govuk-grid-row"},$p={class:"govuk-grid-column-full"},Lp=Object(n["i"])(" Back "),Pp=Object(n["g"])("h1",{class:"govuk-heading-xl"}," Add agent ",-1),Kp=Object(n["g"])("div",{class:"govuk-inset-text"}," Agents are staff remembers with a particular set of skills who are able to work on Tasks. They may belong to multiple organisation units and agent groups. ",-1),qp={class:"govuk-fieldset"},Wp=Object(n["g"])("button",{id:"continue",type:"submit",class:"govuk-button","data-module":"govuk-button"}," Continue ",-1);function Jp(t,e,a,r,i,o){var s=Object(n["z"])("router-link"),u=Object(n["z"])("ErrorSummary"),c=Object(n["z"])("InputText");return Object(n["u"])(),Object(n["f"])("div",Dp,[Object(n["g"])("main",Hp,[Object(n["g"])("div",Ip,[Object(n["g"])("div",$p,[Object(n["j"])(s,{id:"back-link",to:{name:"list-agents",params:{organisationUnitName:a.organisationUnitName}},class:"govuk-back-link"},{default:Object(n["F"])((function(){return[Lp]})),_:1},8,["to"]),Object(n["j"])(u,{validForm:t.validForm,errorMessages:t.errorMessages},null,8,["validForm","errorMessages"]),Pp,Kp,Object(n["g"])("form",{onSubmit:e[1]||(e[1]=Object(n["H"])((function(){return o.onSubmit&&o.onSubmit.apply(o,arguments)}),["prevent"]))},[Object(n["g"])("fieldset",qp,[Object(n["j"])(c,{modelValue:r.staffNumber,"onUpdate:modelValue":e[0]||(e[0]=function(t){return r.staffNumber=t}),elementName:"staffNumber",errorMessages:t.errorMessages,label:"Staff number",hintText:"Unique identifier for an Agent, provided by an external domain, in this case DWP People."},null,8,["modelValue","errorMessages"])]),Wp],32)])])])])}var Qp={name:"AddAgent",props:["organisationUnitName"],components:{ErrorSummary:ze,InputText:We},setup:function(t){var e=Object(n["x"])(""),a=Object(n["x"])({});return Object(n["s"])((function(){var t=Object(Ft["e"])();a.value=t.state.agentsStore.addAgent,e.value=a.value.staffNumber})),{staffNumber:e,addAgent:a}},data:function(){return{validForm:!0,errorMessages:{}}},methods:Object(xt["a"])({isValid:function(){return this.errorMessages=Object(xt["a"])({},!this.staffNumber&&{staffNumber:Se("staff number")}),0===Object.keys(this.errorMessages).length},onSubmit:function(){this.validForm=this.isValid(),this.validForm&&(this.changeAddAgent({staffNumber:this.staffNumber,attributes:this.addAgent.attributes,organisationUnitNames:this.addAgent.organisationUnitNames,fullName:this.addAgent.fullName}),this.$router.push({name:"add-agent-full-name",params:{organisationUnitName:this.organisationUnitName}}))}},Object(Ft["c"])("agentsStore",{changeAddAgent:"changeAddAgent"}))};const Yp=v()(Qp,[["render",Jp]]);var Xp=Yp,Zp={class:"govuk-width-container"},tj={class:"govuk-main-wrapper govuk-main-wrapper--auto-spacing",id:"main-content",role:"main"},ej={class:"govuk-grid-row"},aj={class:"govuk-grid-column-full"},nj=Object(n["i"])(" Back "),rj=Object(n["g"])("h1",{class:"govuk-heading-xl"}," Add agent full name ",-1),ij={class:"govuk-fieldset"},oj=Object(n["g"])("button",{id:"continue",type:"submit",class:"govuk-button","data-module":"govuk-button"}," Continue ",-1);function sj(t,e,a,r,i,o){var s=Object(n["z"])("router-link"),u=Object(n["z"])("ErrorSummary"),c=Object(n["z"])("InputText");return Object(n["u"])(),Object(n["f"])("div",Zp,[Object(n["g"])("main",tj,[Object(n["g"])("div",ej,[Object(n["g"])("div",aj,[Object(n["j"])(s,{id:"back-link",to:{name:"add-agent",params:{organisationUnitName:a.organisationUnitName}},class:"govuk-back-link"},{default:Object(n["F"])((function(){return[nj]})),_:1},8,["to"]),Object(n["j"])(u,{validForm:t.validForm,errorMessages:t.errorMessages},null,8,["validForm","errorMessages"]),rj,Object(n["g"])("form",{onSubmit:e[1]||(e[1]=Object(n["H"])((function(){return o.onSubmit&&o.onSubmit.apply(o,arguments)}),["prevent"]))},[Object(n["g"])("fieldset",ij,[Object(n["j"])(c,{modelValue:r.fullName,"onUpdate:modelValue":e[0]||(e[0]=function(t){return r.fullName=t}),elementName:"fullName",errorMessages:t.errorMessages,label:"Full name"},null,8,["modelValue","errorMessages"])]),oj],32)])])])])}var uj={name:"AddAgent",props:["organisationUnitName"],components:{ErrorSummary:ze,InputText:We},setup:function(t){var e=Object(n["x"])(""),a=Object(n["x"])({});return Object(n["s"])((function(){var t=Object(Ft["e"])();a.value=t.state.agentsStore.addAgent,e.value=a.value.fullName})),{fullName:e,addAgent:a}},data:function(){return{validForm:!0,errorMessages:{}}},methods:Object(xt["a"])({isValid:function(){return this.errorMessages=Object(xt["a"])({},!this.fullName&&{fullName:Se("full name")}),0===Object.keys(this.errorMessages).length},onSubmit:function(){this.validForm=this.isValid(),this.validForm&&(this.changeAddAgent({staffNumber:this.addAgent.staffNumber,attributes:this.addAgent.attributes,organisationUnitNames:this.addAgent.organisationUnitNames,fullName:this.fullName}),this.$router.push({name:"add-agent-organisation-units",params:{organisationUnitName:this.organisationUnitName}}))}},Object(Ft["c"])("agentsStore",{changeAddAgent:"changeAddAgent"}))};const cj=v()(uj,[["render",sj]]);var lj=cj,gj={class:"govuk-width-container"},bj={class:"govuk-main-wrapper govuk-main-wrapper--auto-spacing",id:"main-content",role:"main"},dj={class:"govuk-grid-row"},mj={class:"govuk-grid-column-full"},vj=Object(n["i"])(" Back "),pj=Object(n["g"])("h1",{class:"govuk-heading-xl"},[Object(n["g"])("label",{class:"govuk-label govuk-label--l",for:"organisationUnit"}," Add agent organisation units ")],-1),jj={class:"govuk-fieldset"},Oj={class:"govuk-form-group"},hj={class:"govuk-table",id:"organisation-units-table"},fj=Object(n["g"])("thead",{class:"govuk-table__head"},[Object(n["g"])("tr",{class:"govuk-table__row"},[Object(n["g"])("th",{scope:"col",class:"govuk-table__header"},"Organisation Unit"),Object(n["g"])("th",{scope:"col",class:"govuk-table__header"},"Action")])],-1),kj={class:"govuk-table__body"},yj={class:"govuk-table__cell"},Nj={class:"govuk-table__cell"},Aj=["id","onClick"],_j={key:0,class:"govuk-table__row"},wj=Object(n["g"])("td",{class:"govuk-table__cell",colspan:"2"}," No organisation units selected. ",-1),Uj=[wj],xj=Object(n["g"])("button",{id:"continue",type:"submit",class:"govuk-button","data-module":"govuk-button"}," Continue ",-1);function Fj(t,e,a,r,i,o){var s=Object(n["z"])("router-link"),u=Object(n["z"])("ErrorSummary"),c=Object(n["z"])("DropDownWithValues");return Object(n["u"])(),Object(n["f"])("div",gj,[Object(n["g"])("main",bj,[Object(n["g"])("div",dj,[Object(n["g"])("div",mj,[Object(n["j"])(s,{id:"back-link",to:{name:"add-agent-full-name",params:{organisationUnitName:a.organisationUnitName}},class:"govuk-back-link"},{default:Object(n["F"])((function(){return[vj]})),_:1},8,["to"]),Object(n["j"])(u,{validForm:t.validForm,errorMessages:t.errorMessages},null,8,["validForm","errorMessages"]),pj,Object(n["g"])("form",{onSubmit:e[2]||(e[2]=Object(n["H"])((function(){return o.onSubmit&&o.onSubmit.apply(o,arguments)}),["prevent"]))},[Object(n["g"])("fieldset",jj,[Object(n["j"])(c,{modelValue:r.organisationUnit,"onUpdate:modelValue":e[0]||(e[0]=function(t){return r.organisationUnit=t}),elementName:"organisationUnit",errorMessages:t.errorMessages,label:"Organisation Units",selectOptions:r.organisationUnits,hintText:"Organisation units that the agent works in."},null,8,["modelValue","errorMessages","selectOptions"]),Object(n["g"])("button",{id:"add-org-unit",type:"button",class:"govuk-button govuk-button--secondary","data-module":"govuk-button",onClick:e[1]||(e[1]=function(t){return o.addOrgUnit()})}," Add "),Object(n["g"])("div",Oj,[Object(n["g"])("table",hj,[fj,Object(n["g"])("tbody",kj,[(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(r.organisationUnitNames,(function(t,e){return Object(n["u"])(),Object(n["f"])("tr",{class:"govuk-table__row",key:e},[Object(n["g"])("td",yj,Object(n["B"])(o.getOrgUnitDescription(t)),1),Object(n["g"])("td",Nj,[Object(n["g"])("button",{id:"remove-attribute-button-"+e,type:"button",class:"govuk-button govuk-button--secondary","data-module":"govuk-button",onClick:function(e){return o.removeOrgUnit(t)}}," Remove ",8,Aj)])])})),128)),o.hasOrgUnits()?Object(n["e"])("",!0):(Object(n["u"])(),Object(n["f"])("tr",_j,Uj))])])])]),xj],32)])])])])}var Mj={name:"AddAgentOrganisationUnits",props:["organisationUnitName"],components:{ErrorSummary:ze,DropDownWithValues:pb},setup:function(t){var e=Object(n["x"])([]),a=Object(n["x"])([]),r=Object(n["x"])(""),i=Object(n["x"])({});return Object(n["s"])(Object($["a"])(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=Object(Ft["e"])(),t.next=3,L();case 3:return r=t.sent,t.next=6,r.getOrganisationUnits();case 6:o=t.sent,a.value=o.organisationUnits.map((function(t){return{value:t.name,name:t.description}})),i.value=n.state.agentsStore.addAgent,e.value=n.state.agentsStore.addAgent.organisationUnitNames;case 10:case"end":return t.stop()}}),t)})))),{organisationUnitNames:e,organisationUnit:r,organisationUnits:a,addAgent:i}},data:function(){return{validForm:!0,errorMessages:{}}},methods:Object(xt["a"])(Object(xt["a"])({getOrgUnitDescription:function(t){return this.organisationUnits.find((function(e){return e.value===t})).name},hasOrgUnits:function(){return this.organisationUnitNames&&this.organisationUnitNames.length>0},isValid:function(){return this.clearErrors(),this.organisationUnitNames&&0!==this.organisationUnitNames.length||(this.errorMessages=Object(xt["a"])({},{organisationUnit:"At least one organisation unit should be selected"})),0===Object.keys(this.errorMessages).length},clearErrors:function(){this.validForm=!0,this.errorMessages={}},onSubmit:function(){this.validForm=this.isValid(),this.validForm&&(this.changeAddAgent({staffNumber:this.addAgent.staffNumber,attributes:this.addAgent.attributes,organisationUnitNames:this.organisationUnitNames,fullName:this.addAgent.fullName}),this.$router.push({name:"add-agent-attributes-list",params:{organisationUnitName:this.organisationUnitName}}))}},Object(Ft["c"])("agentsStore",{changeAddAgent:"changeAddAgent"})),{},{isOrgUnitValid:function(){return this.clearErrors(),this.errorMessages=Object(xt["a"])({},!this.organisationUnit&&{organisationUnit:Se("organisation unit")}),this.organisationUnitNames&&this.organisationUnitNames.includes(this.organisationUnit)&&(this.errorMessages=Object(xt["a"])({},{organisationUnit:"Organisation unit already selected"})),0===Object.keys(this.errorMessages).length},addOrgUnit:function(){this.validForm=this.isOrgUnitValid(),this.validForm&&(this.organisationUnitNames.push(this.organisationUnit),this.organisationUnit="")},removeOrgUnit:function(t){this.organisationUnitNames=this.organisationUnitNames.filter((function(e){return e!==t}))}})};const Sj=v()(Mj,[["render",Fj]]);var Vj=Sj,Rj={class:"govuk-width-container"},Gj={class:"govuk-main-wrapper govuk-main-wrapper--auto-spacing",id:"main-content",role:"main"},Bj={class:"govuk-grid-row"},Cj={class:"govuk-grid-column-full"},Ej=Object(n["i"])(" Back "),Tj=Object(n["g"])("h1",{class:"govuk-heading-xl"}," Agent attributes list ",-1),zj={class:"govuk-table"},Dj=Object(n["g"])("thead",{class:"govuk-table__head"},[Object(n["g"])("tr",{class:"govuk-table__row"},[Object(n["g"])("th",{scope:"col",class:"govuk-table__header"},"Organisation unit"),Object(n["g"])("th",{scope:"col",class:"govuk-table__header"},"Name"),Object(n["g"])("th",{scope:"col",class:"govuk-table__header"},"Values"),Object(n["g"])("th",{scope:"col",class:"govuk-table__header"},"Actions")])],-1),Hj={class:"govuk-table__body"},Ij={class:"govuk-table__cell"},$j={class:"govuk-table__cell"},Lj={class:"govuk-table__cell"},Pj={class:"govuk-table__cell"},Kj=["id","onClick"],qj={key:0,class:"govuk-table__row"},Wj=Object(n["g"])("td",{class:"govuk-table__cell",colspan:"4"}," No attributes selected. ",-1),Jj=[Wj],Qj={class:"govuk-body"},Yj=Object(n["i"])(" Add agent attribute "),Xj=Object(n["g"])("button",{id:"continue",type:"submit",class:"govuk-button","data-module":"govuk-button"}," Continue ",-1),Zj=[Xj];function tO(t,e,a,r,i,o){var s=Object(n["z"])("router-link"),u=Object(n["z"])("ErrorSummary");return Object(n["u"])(),Object(n["f"])("div",Rj,[Object(n["g"])("main",Gj,[Object(n["g"])("div",Bj,[Object(n["g"])("div",Cj,[Object(n["j"])(s,{id:"back-link",to:{name:"add-agent-organisation-units",params:{organisationUnitName:a.organisationUnitName}},class:"govuk-back-link"},{default:Object(n["F"])((function(){return[Ej]})),_:1},8,["to"]),Object(n["j"])(u,{validForm:t.validForm,errorMessages:t.errorMessages},null,8,["validForm","errorMessages"]),Tj,Object(n["g"])("table",zj,[Dj,Object(n["g"])("tbody",Hj,[(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(r.attributes,(function(t,e){return Object(n["u"])(),Object(n["f"])("tr",{class:"govuk-table__row",key:e},[Object(n["g"])("td",Ij,Object(n["B"])(t.organisationUnit),1),Object(n["g"])("td",$j,Object(n["B"])(t.name),1),Object(n["g"])("td",Lj,Object(n["B"])(t.value),1),Object(n["g"])("td",Pj,[Object(n["g"])("button",{id:"remove-attribute-button-"+e,type:"button",class:"govuk-button govuk-button--secondary","data-module":"govuk-button",onClick:function(e){return o.removeAttribute(t)}}," Remove ",8,Kj)])])})),128)),o.hasAttributes()?Object(n["e"])("",!0):(Object(n["u"])(),Object(n["f"])("tr",qj,Jj))])]),Object(n["g"])("p",Qj,[Object(n["j"])(s,{id:"add-agent-attribute-link",to:{name:"add-agent-add-attribute",params:{organisationUnitName:a.organisationUnitName}},class:"govuk-link"},{default:Object(n["F"])((function(){return[Yj]})),_:1},8,["to"])]),Object(n["g"])("form",{onSubmit:e[0]||(e[0]=Object(n["H"])((function(){return o.onSubmit&&o.onSubmit.apply(o,arguments)}),["prevent"]))},Zj,32)])])])])}var eO={name:"AddAgentAttributesList",props:["organisationUnitName"],components:{ErrorSummary:ze},setup:function(t){var e=Object(n["x"])({}),a=Object(n["x"])([]);return Object(n["s"])((function(){var t=Object(Ft["e"])();e.value=t.state.agentsStore.addAgent,a.value=t.state.agentsStore.addAgent.attributes})),{attributes:a,addAgent:e}},data:function(){return{validForm:!0,errorMessages:{}}},methods:Object(xt["a"])({hasAttributes:function(){return this.attributes&&this.attributes.length>0},onSubmit:function(){this.$router.push({name:"add-agent-confirmation",params:{organisationUnitName:this.organisationUnitName}})},removeAttribute:function(t){this.attributes=this.attributes.filter((function(e){return e.name!==t.name&&e.value!==t.value})),this.changeAddAgent({staffNumber:this.addAgent.staffNumber,fullName:this.addAgent.fullName,attributes:this.attributes,organisationUnitNames:this.addAgent.organisationUnitNames})}},Object(Ft["c"])("agentsStore",{changeAddAgent:"changeAddAgent"}))};const aO=v()(eO,[["render",tO]]);var nO=aO,rO={class:"govuk-width-container"},iO={class:"govuk-main-wrapper govuk-main-wrapper--auto-spacing",id:"main-content",role:"main"},oO={class:"govuk-grid-row"},sO={class:"govuk-grid-column-full"},uO=Object(n["i"])(" Back "),cO=Object(n["g"])("h1",{class:"govuk-heading-xl"}," Add agent attribute ",-1),lO=Object(n["g"])("div",{class:"govuk-inset-text"}," Attributes are used to match tasks to agents. For example, agent roles or location or grade. ",-1),gO={class:"govuk-fieldset"},bO=Object(n["g"])("button",{id:"continue",type:"submit",class:"govuk-button","data-module":"govuk-button"}," Continue ",-1);function dO(t,e,a,r,i,o){var s=Object(n["z"])("router-link"),u=Object(n["z"])("ErrorSummary"),c=Object(n["z"])("DropDownWithValues"),l=Object(n["z"])("DropDown");return Object(n["u"])(),Object(n["f"])("div",rO,[Object(n["g"])("main",iO,[Object(n["g"])("div",oO,[Object(n["g"])("div",sO,[Object(n["j"])(s,{id:"back-link",to:{name:"add-agent-attributes-list",params:{organisationUnitName:a.organisationUnitName}},class:"govuk-back-link"},{default:Object(n["F"])((function(){return[uO]})),_:1},8,["to"]),Object(n["j"])(u,{validForm:t.validForm,errorMessages:t.errorMessages},null,8,["validForm","errorMessages"]),cO,lO,Object(n["g"])("form",{onSubmit:e[3]||(e[3]=Object(n["H"])((function(){return o.onSubmit&&o.onSubmit.apply(o,arguments)}),["prevent"]))},[Object(n["g"])("fieldset",gO,[Object(n["j"])(c,{modelValue:r.organisationUnit,"onUpdate:modelValue":e[0]||(e[0]=function(t){return r.organisationUnit=t}),elementName:"organisationUnit",errorMessages:t.errorMessages,label:"Organisation unit",selectOptions:r.organisationUnits,onChange:e[1]||(e[1]=function(t){return o.onChangeOrgUnit()})},null,8,["modelValue","errorMessages","selectOptions"]),Object(n["j"])(l,{modelValue:r.attributeName,"onUpdate:modelValue":e[2]||(e[2]=function(t){return r.attributeName=t}),elementName:"attributeName",errorMessages:t.errorMessages,label:"Attribute name",selectOptions:r.attributes},null,8,["modelValue","errorMessages","selectOptions"])]),bO],32)])])])])}var mO={name:"AddAgentAddAttribute",props:["organisationUnitName"],components:{ErrorSummary:ze,DropDown:Jo,DropDownWithValues:pb},setup:function(t){var e=Object(n["x"])(""),a=Object(n["x"])(""),r=Object(n["x"])([]),i=Object(n["x"])([]);return Object(n["s"])(Object($["a"])(regeneratorRuntime.mark((function t(){var n,o,s,u,c,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=Object(Ft["e"])(),a.value=n.state.agentsStore.addAgent.attributeName,e.value=n.state.agentsStore.addAgent.organisationUnit,t.next=5,L();case 5:if(o=t.sent,!e.value){t.next=11;break}return t.next=9,o.getOrganisationUnit(e.value);case 9:s=t.sent,r.value=Object.keys(s.attributes);case 11:return t.next=13,o.getOrganisationUnits();case 13:u=t.sent,c={},u.organisationUnits.forEach((function(t){return c[t.name]=t.description})),l=n.state.agentsStore.addAgent.organisationUnitNames,i.value=l.map((function(t){return{value:t,name:c[t]}}));case 18:case"end":return t.stop()}}),t)})))),{organisationUnit:e,attributeName:a,attributes:r,organisationUnits:i}},data:function(){return{validForm:!0,errorMessages:{}}},methods:Object(xt["a"])({isValid:function(){return this.errorMessages=Object(xt["a"])(Object(xt["a"])({},!this.attributeName&&{attributeName:Se("attribute name")}),!this.organisationUnit&&{organisationUnit:Se("organisation unit")}),0===Object.keys(this.errorMessages).length},onSubmit:function(){this.validForm=this.isValid(),this.validForm&&(this.addAttributeName({organisationUnit:this.organisationUnit,attributeName:this.attributeName}),this.$router.push({name:"add-agent-add-attribute-value",params:{organisationUnitName:this.organisationUnitName}}))},onChangeOrgUnit:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,L();case 2:return e=t.sent,t.next=5,e.getOrganisationUnit(this.organisationUnit);case 5:a=t.sent,this.attributes=Object.keys(a.attributes);case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},Object(Ft["c"])("agentsStore",{addAttributeName:"addAttributeName"}))};const vO=v()(mO,[["render",dO]]);var pO=vO,jO={class:"govuk-width-container"},OO={class:"govuk-main-wrapper govuk-main-wrapper--auto-spacing",id:"main-content",role:"main"},hO={class:"govuk-grid-row"},fO={class:"govuk-grid-column-full"},kO=Object(n["i"])(" Back "),yO=Object(n["g"])("h1",{class:"govuk-heading-xl"}," Add agent attribute value ",-1),NO=Object(n["g"])("div",{class:"govuk-inset-text"}," Attributes are used to match agents to tasks. For example, agent roles or location or grade. ",-1),AO={class:"govuk-fieldset"},_O=Object(n["g"])("button",{id:"continue",type:"submit",class:"govuk-button","data-module":"govuk-button"}," Continue ",-1);function wO(t,e,a,r,i,o){var s=Object(n["z"])("router-link"),u=Object(n["z"])("ErrorSummary"),c=Object(n["z"])("DropDown");return Object(n["u"])(),Object(n["f"])("div",jO,[Object(n["g"])("main",OO,[Object(n["g"])("div",hO,[Object(n["g"])("div",fO,[Object(n["j"])(s,{id:"back-link",to:{name:"add-agent-add-attribute",params:{organisationUnitName:a.organisationUnitName}},class:"govuk-back-link"},{default:Object(n["F"])((function(){return[kO]})),_:1},8,["to"]),Object(n["j"])(u,{validForm:t.validForm,errorMessages:t.errorMessages},null,8,["validForm","errorMessages"]),yO,NO,Object(n["g"])("form",{onSubmit:e[1]||(e[1]=Object(n["H"])((function(){return o.onSubmit&&o.onSubmit.apply(o,arguments)}),["prevent"]))},[Object(n["g"])("fieldset",AO,[Object(n["j"])(c,{modelValue:r.attributeValue,"onUpdate:modelValue":e[0]||(e[0]=function(t){return r.attributeValue=t}),elementName:"attributeValue",errorMessages:t.errorMessages,label:"Attribute value",selectOptions:r.attributeValues},null,8,["modelValue","errorMessages","selectOptions"])]),_O],32)])])])])}a("c740");var UO={name:"AddAgentAddAttributeValue",props:["organisationUnitName"],components:{ErrorSummary:ze,DropDown:Jo},setup:function(t){var e=Object(n["x"])(""),a=Object(n["x"])([]),r=Object(n["x"])({});return Object(n["s"])(Object($["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=Object(Ft["e"])(),r.value=e.state.agentsStore.addAgent,t.next=4,zb();case 4:return n=t.sent,t.next=7,n.getAttributeValues(e.state.agentsStore.addAgent.organisationUnit,e.state.agentsStore.addAgent.attributeName);case 7:a.value=t.sent;case 8:case"end":return t.stop()}}),t)})))),{attributeValue:e,attributeValues:a,addAgent:r}},data:function(){return{validForm:!0,errorMessages:{}}},methods:Object(xt["a"])({isValid:function(){var t=this,e=-1;return this.addAgent.attributes&&(e=this.addAgent.attributes.findIndex((function(e){return e.value===t.attributeValue&&e.name===t.addAgent.attributeName}))),this.errorMessages=e>-1?Object(xt["a"])({},{attributeValue:"Attribute has already been selected"}):Object(xt["a"])({},!this.attributeValue&&{attributeValue:Se("attribute value")}),0===Object.keys(this.errorMessages).length},onSubmit:function(){this.validForm=this.isValid(),this.validForm&&(this.changeAddAgent({staffNumber:this.addAgent.staffNumber,fullName:this.addAgent.fullName,organisationUnitNames:this.addAgent.organisationUnitNames,attributes:[].concat(Object(av["a"])(this.addAgent.attributes),[{name:this.addAgent.attributeName,organisationUnit:this.addAgent.organisationUnit,value:this.attributeValue}])}),this.resetAttribute(),this.$router.push({name:"add-agent-attributes-list",params:{organisationUnitName:this.organisationUnitName}}))}},Object(Ft["c"])("agentsStore",{resetAttribute:"resetAttribute",changeAddAgent:"changeAddAgent"}))};const xO=v()(UO,[["render",wO]]);var FO=xO,MO={class:"govuk-width-container"},SO={class:"govuk-main-wrapper govuk-main-wrapper--auto-spacing",id:"main-content",role:"main"},VO={class:"govuk-grid-row"},RO={class:"govuk-grid-column-full"},GO=Object(n["i"])(" Back "),BO=Object(n["g"])("h1",{class:"govuk-heading-xl"}," Add agent confirmation ",-1),CO=Object(n["g"])("h2",{id:"agent",class:"govuk-heading-m"}," Agent details ",-1),EO={class:"govuk-summary-list"},TO={class:"govuk-summary-list__row"},zO=Object(n["g"])("dt",{class:"govuk-summary-list__key"}," Staff number ",-1),DO={class:"govuk-summary-list__value"},HO={class:"govuk-summary-list__actions"},IO=Object(n["i"])(" Change"),$O=Object(n["g"])("span",{class:"govuk-visually-hidden"}," staff number",-1),LO={class:"govuk-summary-list__row"},PO=Object(n["g"])("dt",{class:"govuk-summary-list__key"}," Full name ",-1),KO={class:"govuk-summary-list__value"},qO={class:"govuk-summary-list__actions"},WO=Object(n["i"])(" Change"),JO=Object(n["g"])("span",{class:"govuk-visually-hidden"}," full name",-1),QO={class:"govuk-summary-list__row"},YO=Object(n["g"])("dt",{class:"govuk-summary-list__key"}," Organisation Units ",-1),XO={class:"govuk-summary-list__value"},ZO={key:0},th=Object(n["g"])("br",null,null,-1),eh=[th],ah={class:"govuk-summary-list__actions"},nh=Object(n["i"])(" Change"),rh=Object(n["g"])("span",{class:"govuk-visually-hidden"}," organisation units",-1),ih={class:"govuk-summary-list__key"},oh={class:"govuk-summary-list__value"},sh=Object(n["g"])("br",null,null,-1),uh={class:"govuk-summary-list__actions"},ch=Object(n["i"])(" Change"),lh=Object(n["g"])("span",{class:"govuk-visually-hidden"}," attributes",-1);function gh(t,e,a,r,i,o){var s=Object(n["z"])("router-link"),u=Object(n["z"])("ErrorSummary");return Object(n["u"])(),Object(n["f"])("div",MO,[Object(n["g"])("main",SO,[Object(n["g"])("div",VO,[Object(n["g"])("div",RO,[Object(n["j"])(s,{id:"back-link",to:{name:"add-agent-attributes-list",params:{organisationUnitName:a.organisationUnitName}},class:"govuk-back-link"},{default:Object(n["F"])((function(){return[GO]})),_:1},8,["to"]),Object(n["j"])(u,{validForm:t.validForm,errorMessages:t.errorMessages},null,8,["validForm","errorMessages"]),BO,CO,Object(n["g"])("dl",EO,[Object(n["g"])("div",TO,[zO,Object(n["g"])("dd",DO,Object(n["B"])(r.addAgent.staffNumber),1),Object(n["g"])("dd",HO,[Object(n["j"])(s,{id:"change-staff-number-link",to:{name:"add-agent",params:{organisationUnitName:a.organisationUnitName}},class:"govuk-link"},{default:Object(n["F"])((function(){return[IO,$O]})),_:1},8,["to"])])]),Object(n["g"])("div",LO,[PO,Object(n["g"])("dd",KO,Object(n["B"])(r.addAgent.fullName),1),Object(n["g"])("dd",qO,[Object(n["j"])(s,{id:"change-full-name-link",to:{name:"add-agent-full-name",params:{organisationUnitName:a.organisationUnitName}},class:"govuk-link"},{default:Object(n["F"])((function(){return[WO,JO]})),_:1},8,["to"])])]),Object(n["g"])("div",QO,[YO,Object(n["g"])("dd",XO,[(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(r.addAgent.organisationUnitNames,(function(t,e){return Object(n["u"])(),Object(n["f"])(n["a"],{key:e},[Object(n["i"])(Object(n["B"])(o.getOrgUnitDescription(t))+" ",1),e!=r.addAgent.organisationUnitNames.length-1?(Object(n["u"])(),Object(n["f"])("span",ZO,eh)):Object(n["e"])("",!0)],64)})),128))]),Object(n["g"])("dd",ah,[Object(n["j"])(s,{id:"change-organisation-units-link",to:{name:"add-agent-organisation-units",params:{organisationUnitName:a.organisationUnitName}},class:"govuk-link"},{default:Object(n["F"])((function(){return[nh,rh]})),_:1},8,["to"])])]),(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(r.addAgent.organisationUnitNames,(function(t,e){return Object(n["u"])(),Object(n["f"])("div",{class:"govuk-summary-list__row",key:e},[Object(n["g"])("dt",ih,Object(n["B"])(o.getOrgUnitDescription(t))+" attributes ",1),Object(n["g"])("dd",oh,[(Object(n["u"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(o.getOrganisationUnitAttributes(t),(function(t,e){return Object(n["u"])(),Object(n["f"])(n["a"],{key:e},[Object(n["i"])(Object(n["B"])(t.name)+"="+Object(n["B"])(t.value),1),sh],64)})),128))]),Object(n["g"])("dd",uh,[Object(n["j"])(s,{id:"change-attributes-link",to:{name:"add-agent-attributes-list",params:{organisationUnitName:t}},class:"govuk-link"},{default:Object(n["F"])((function(){return[ch,lh]})),_:2},1032,["to"])])])})),128))]),Object(n["g"])("button",{id:"continue","data-prevent-double-click":"true",class:"govuk-button",role:"link","data-module":"govuk-button",onClick:e[0]||(e[0]=function(t){return o.onSaveAndContinue()})}," Save and continue ")])])])])}var bh={name:"AddAgent",props:["organisationUnitName"],components:{ErrorSummary:ze},setup:function(t){var e=Object(n["x"])({}),a=Object(n["x"])([]);return Object(n["s"])(Object($["a"])(regeneratorRuntime.mark((function t(){var n,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=Object(Ft["e"])(),t.next=3,L();case 3:return r=t.sent,t.next=6,r.getOrganisationUnits();case 6:i=t.sent,a.value=i.organisationUnits.map((function(t){return{value:t.name,name:t.description}})),e.value=n.state.agentsStore.addAgent;case 9:case"end":return t.stop()}}),t)})))),{addAgent:e,organisationUnits:a}},data:function(){return{validForm:!0,errorMessages:{}}},methods:Object(xt["a"])({getOrganisationUnitAttributes:function(t){var e=[];return this.addAgent&&this.addAgent.attributes&&(e=this.addAgent.attributes.filter((function(e){return e.organisationUnit===t}))),e},getOrgUnitDescription:function(t){return this.organisationUnits.find((function(e){return e.value===t})).name},processError:function(t){this.validForm=!1,this.errorMessages=Object(xt["a"])({},{continue:t})},onSaveAndContinue:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(){var e,a,n,r,i,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Cg();case 2:return e=t.sent,t.next=5,e.createAgent(this.addAgent);case 5:if(a=t.sent,this.validForm=201===a.status,!this.validForm){t.next=36;break}n=0;case 9:if(!(n<this.addAgent.attributes.length)){t.next=28;break}return t.prev=10,t.next=13,e.addAttributeToAgent(this.addAgent.staffNumber,this.addAgent.attributes[n]);case 13:if(r=t.sent,400!==r.status){t.next=20;break}return t.next=17,a.text();case 17:return i=t.sent,this.processError(JSON.parse(i).message),t.abrupt("break",28);case 20:t.next=25;break;case 22:t.prev=22,t.t0=t["catch"](10),this.processError(t.t0.message);case 25:n++,t.next=9;break;case 28:if(!(Object.keys(this.errorMessages).length>0)){t.next=31;break}return t.abrupt("return");case 31:this.resetState(),this.changeAgentAdded(!0),this.$router.push({name:"list-agents",params:{organisationUnitName:this.organisationUnitName}}),t.next=41;break;case 36:return t.next=38,a.text();case 38:o=t.sent,s=JSON.parse(o),this.processError(s.message);case 41:case"end":return t.stop()}}),t,this,[[10,22]])})));function e(){return t.apply(this,arguments)}return e}()},Object(Ft["c"])("agentsStore",{resetState:"resetState",changeAgentAdded:"changeAgentAdded"}))};const dh=v()(bh,[["render",gh]]);var mh=dh,vh={class:"govuk-width-container"},ph={class:"govuk-main-wrapper govuk-main-wrapper--auto-spacing",id:"main-content",role:"main"},jh={class:"govuk-grid-row"},Oh={class:"govuk-grid-column-full"},hh=Object(n["i"])(" Back "),fh=Object(n["g"])("button",{id:"continue",type:"submit",class:"govuk-button","data-module":"govuk-button"}," Save and continue ",-1);function kh(t,e,a,r,i,o){var s=Object(n["z"])("router-link"),u=Object(n["z"])("ErrorSummary"),c=Object(n["z"])("QuestionRadioGroup");return Object(n["u"])(),Object(n["f"])("div",vh,[Object(n["g"])("main",ph,[Object(n["g"])("div",jh,[Object(n["g"])("div",Oh,[Object(n["j"])(s,{id:"back-link",to:{name:"edit-agent",params:{organisationUnitName:a.organisationUnitName,staffNumber:a.staffNumber}},class:"govuk-back-link"},{default:Object(n["F"])((function(){return[hh]})),_:1},8,["to"]),Object(n["j"])(u,{validForm:t.validForm,errorMessages:t.errorMessages},null,8,["validForm","errorMessages"]),Object(n["g"])("form",{onSubmit:e[1]||(e[1]=Object(n["H"])((function(){return o.onSubmit&&o.onSubmit.apply(o,arguments)}),["prevent"]))},[Object(n["j"])(c,{modelValue:r.answer,"onUpdate:modelValue":e[0]||(e[0]=function(t){return r.answer=t}),modelModifiers:{number:!0},elementName:"answer",errorMessages:t.errorMessages,radioOptions:t.radioOptions,heading:"Do you want to remove an organisation unit?"},null,8,["modelValue","errorMessages","radioOptions"]),fh],32)])])])])}var yh={name:"EditAgentRemoveOrganisationUnit",props:["organisationUnitName","staffNumber","organisationUnit"],components:{QuestionRadioGroup:Wl,ErrorSummary:ze},setup:function(t){var e=Object(n["x"])(0);return{answer:e}},data:function(){return{radioOptions:{Yes:1,No:2},validForm:!0,errorMessages:{}}},methods:Object(xt["a"])({isValid:function(){return this.errorMessages=Object(xt["a"])({},!this.answer&&{answer:Se("answer")}),0===Object.keys(this.errorMessages).length},onSubmit:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(){var e,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.validForm=this.isValid(),!this.validForm){t.next=18;break}if(1!==this.answer){t.next=17;break}return t.next=5,Cg();case 5:return e=t.sent,t.next=8,e.removeOrganisationUnitFromAgent(this.staffNumber,this.organisationUnit);case 8:if(a=t.sent,204===a.status){t.next=16;break}return t.next=12,a.text();case 12:return n=t.sent,this.validForm=!1,this.errorMessages=Object(xt["a"])({},{answer:JSON.parse(n).message}),t.abrupt("return");case 16:this.changeAgentUpdated(!0);case 17:this.$router.push({name:"edit-agent",params:{organisationUnitName:this.organisationUnitName,staffNumber:this.staffNumber}});case 18:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},Object(Ft["c"])("agentsStore",{changeAgentUpdated:"changeAgentUpdated"}))};const Nh=v()(yh,[["render",kh]]);var Ah=Nh,_h={class:"govuk-width-container"},wh={class:"govuk-main-wrapper govuk-main-wrapper--auto-spacing",id:"main-content",role:"main"},Uh={class:"govuk-grid-row"},xh={class:"govuk-grid-column-full"},Fh=Object(n["i"])(" Back "),Mh=Object(n["g"])("h1",{class:"govuk-heading-xl"}," Edit agent add organisation unit ",-1),Sh={class:"govuk-fieldset"},Vh=Object(n["g"])("button",{id:"continue",type:"submit",class:"govuk-button","data-module":"govuk-button"}," Save and continue ",-1);function Rh(t,e,a,r,i,o){var s=Object(n["z"])("router-link"),u=Object(n["z"])("ErrorSummary"),c=Object(n["z"])("DropDownWithValues");return Object(n["u"])(),Object(n["f"])("div",_h,[Object(n["g"])("main",wh,[Object(n["g"])("div",Uh,[Object(n["g"])("div",xh,[Object(n["j"])(s,{id:"back-link",to:{name:"edit-agent",params:{organisationUnitName:a.organisationUnitName,staffNumber:a.staffNumber}},class:"govuk-back-link"},{default:Object(n["F"])((function(){return[Fh]})),_:1},8,["to"]),Object(n["j"])(u,{validForm:t.validForm,errorMessages:t.errorMessages},null,8,["validForm","errorMessages"]),Mh,Object(n["g"])("form",{onSubmit:e[1]||(e[1]=Object(n["H"])((function(){return o.onSubmit&&o.onSubmit.apply(o,arguments)}),["prevent"]))},[Object(n["g"])("fieldset",Sh,[Object(n["j"])(c,{modelValue:r.organisationUnit,"onUpdate:modelValue":e[0]||(e[0]=function(t){return r.organisationUnit=t}),elementName:"organisationUnit",errorMessages:t.errorMessages,label:"Organisation unit",selectOptions:r.organisationUnits},null,8,["modelValue","errorMessages","selectOptions"])]),Vh],32)])])])])}var Gh={name:"EditAgentAddOrganisationUnit",props:["organisationUnitName","staffNumber"],components:{ErrorSummary:ze,DropDownWithValues:pb},setup:function(t){var e=Object(n["x"])(""),a=Object(n["x"])([]);return Object(n["s"])(Object($["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,L();case 2:return e=t.sent,t.next=5,e.getOrganisationUnits();case 5:n=t.sent,a.value=n.organisationUnits.map((function(t){return{name:t.description,value:t.name}}));case 7:case"end":return t.stop()}}),t)})))),{organisationUnit:e,organisationUnits:a}},data:function(){return{validForm:!0,errorMessages:{}}},methods:Object(xt["a"])({isValid:function(){return this.errorMessages=Object(xt["a"])({},!this.organisationUnit&&{organisationUnit:Se("organisation unit")}),0===Object.keys(this.errorMessages).length},onSubmit:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(){var e,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.validForm=this.isValid(),!this.validForm){t.next=17;break}return t.next=4,Cg();case 4:return e=t.sent,t.next=7,e.addOrganisationUnitToAgent(this.staffNumber,this.organisationUnit);case 7:if(a=t.sent,204===a.status){t.next=15;break}return t.next=11,a.text();case 11:return n=t.sent,this.validForm=!1,this.errorMessages=Object(xt["a"])({},{answer:JSON.parse(n).message}),t.abrupt("return");case 15:this.changeAgentUpdated(!0),this.$router.push({name:"edit-agent",params:{organisationUnitName:this.organisationUnitName,staffNumber:this.staffNumber}});case 17:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},Object(Ft["c"])("agentsStore",{changeAgentUpdated:"changeAgentUpdated"}))};const Bh=v()(Gh,[["render",Rh]]);var Ch=Bh,Eh={class:"govuk-width-container"},Th={class:"govuk-main-wrapper govuk-main-wrapper--auto-spacing",id:"main-content",role:"main"},zh={class:"govuk-grid-row"},Dh={class:"govuk-grid-column-full"},Hh=Object(n["i"])(" Back "),Ih=Object(n["g"])("button",{id:"continue",type:"submit",class:"govuk-button","data-module":"govuk-button"}," Save and continue ",-1);function $h(t,e,a,r,i,o){var s=Object(n["z"])("router-link"),u=Object(n["z"])("ErrorSummary"),c=Object(n["z"])("QuestionRadioGroup");return Object(n["u"])(),Object(n["f"])("div",Eh,[Object(n["g"])("main",Th,[Object(n["g"])("div",zh,[Object(n["g"])("div",Dh,[Object(n["j"])(s,{id:"back-link",to:{name:"edit-agent",params:{organisationUnitName:a.organisationUnitName,staffNumber:a.staffNumber}},class:"govuk-back-link"},{default:Object(n["F"])((function(){return[Hh]})),_:1},8,["to"]),Object(n["j"])(u,{validForm:t.validForm,errorMessages:t.errorMessages},null,8,["validForm","errorMessages"]),Object(n["g"])("form",{onSubmit:e[1]||(e[1]=Object(n["H"])((function(){return o.onSubmit&&o.onSubmit.apply(o,arguments)}),["prevent"]))},[Object(n["j"])(c,{modelValue:r.answer,"onUpdate:modelValue":e[0]||(e[0]=function(t){return r.answer=t}),modelModifiers:{number:!0},elementName:"answer",errorMessages:t.errorMessages,radioOptions:t.radioOptions,heading:"Do you want to remove an attribute?"},null,8,["modelValue","errorMessages","radioOptions"]),Ih],32)])])])])}var Lh={name:"EditAgentRemoveAttribute",props:["organisationUnitName","staffNumber","orgUnit","attributeName","attributeValue"],components:{QuestionRadioGroup:Wl,ErrorSummary:ze},setup:function(t){var e=Object(n["x"])(0);return{answer:e}},data:function(){return{radioOptions:{Yes:1,No:2},validForm:!0,errorMessages:{}}},methods:Object(xt["a"])({isValid:function(){return this.errorMessages=Object(xt["a"])({},!this.answer&&{answer:Se("answer")}),0===Object.keys(this.errorMessages).length},onSubmit:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(){var e,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.validForm=this.isValid(),!this.validForm){t.next=18;break}if(1!==this.answer){t.next=17;break}return t.next=5,Cg();case 5:return e=t.sent,t.next=8,e.removeAttributeFromAgent(this.staffNumber,this.orgUnit,this.attributeName,this.attributeValue);case 8:if(a=t.sent,204===a.status){t.next=16;break}return t.next=12,a.text();case 12:return n=t.sent,this.validForm=!1,this.errorMessages=Object(xt["a"])({},{answer:JSON.parse(n).message}),t.abrupt("return");case 16:this.changeAgentUpdated(!0);case 17:this.$router.push({name:"edit-agent",params:{organisationUnitName:this.organisationUnitName,staffNumber:this.staffNumber}});case 18:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},Object(Ft["c"])("agentsStore",{changeAgentUpdated:"changeAgentUpdated"}))};const Ph=v()(Lh,[["render",$h]]);var Kh=Ph,qh={class:"govuk-width-container"},Wh={class:"govuk-main-wrapper govuk-main-wrapper--auto-spacing",id:"main-content",role:"main"},Jh={class:"govuk-grid-row"},Qh={class:"govuk-grid-column-full"},Yh=Object(n["i"])(" Back "),Xh=Object(n["g"])("h1",{class:"govuk-heading-xl"}," Edit agent add attribute ",-1),Zh={class:"govuk-fieldset"},tf=Object(n["g"])("button",{id:"continue",type:"submit",class:"govuk-button","data-module":"govuk-button"}," Continue ",-1);function ef(t,e,a,r,i,o){var s=Object(n["z"])("router-link"),u=Object(n["z"])("ErrorSummary"),c=Object(n["z"])("DropDownWithValues"),l=Object(n["z"])("DropDown");return Object(n["u"])(),Object(n["f"])("div",qh,[Object(n["g"])("main",Wh,[Object(n["g"])("div",Jh,[Object(n["g"])("div",Qh,[Object(n["j"])(s,{id:"back-link",to:{name:"edit-agent",params:{organisationUnitName:a.organisationUnitName,staffNumber:a.staffNumber}},class:"govuk-back-link"},{default:Object(n["F"])((function(){return[Yh]})),_:1},8,["to"]),Object(n["j"])(u,{validForm:t.validForm,errorMessages:t.errorMessages},null,8,["validForm","errorMessages"]),Xh,Object(n["g"])("form",{onSubmit:e[3]||(e[3]=Object(n["H"])((function(){return o.onSubmit&&o.onSubmit.apply(o,arguments)}),["prevent"]))},[Object(n["g"])("fieldset",Zh,[Object(n["j"])(c,{modelValue:r.organisationUnit,"onUpdate:modelValue":e[0]||(e[0]=function(t){return r.organisationUnit=t}),elementName:"organisationUnit",errorMessages:t.errorMessages,label:"Organisation unit",selectOptions:r.organisationUnits,onChange:e[1]||(e[1]=function(t){return o.onChangeOrgUnit()})},null,8,["modelValue","errorMessages","selectOptions"]),Object(n["j"])(l,{modelValue:r.attributeName,"onUpdate:modelValue":e[2]||(e[2]=function(t){return r.attributeName=t}),elementName:"attributeName",errorMessages:t.errorMessages,label:"Attribute name",selectOptions:r.attributes},null,8,["modelValue","errorMessages","selectOptions"])]),tf],32)])])])])}var af={name:"EditAgentAddAttribute",props:["organisationUnitName","staffNumber"],components:{ErrorSummary:ze,DropDown:Jo,DropDownWithValues:pb},setup:function(t){var e=Object(n["x"])(""),a=Object(n["x"])(""),r=Object(n["x"])(""),i=Object(n["x"])([]),o=Object(n["x"])([]);return Object(n["s"])(Object($["a"])(regeneratorRuntime.mark((function n(){var s,u,c,l,g,b;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=Object(Ft["e"])(),a.value=s.state.agentsStore.addAgentAttribute.attributeName,r.value=s.state.agentsStore.addAgentAttribute.attributeValue,e.value=s.state.agentsStore.addAgentAttribute.organisationUnitName,n.next=6,Cg();case 6:return u=n.sent,n.next=9,u.getAgent(t.staffNumber);case 9:return c=n.sent,n.next=12,L();case 12:if(l=n.sent,!e.value){n.next=18;break}return n.next=16,l.getOrganisationUnit(e.value);case 16:g=n.sent,o.value=Object.keys(g.attributes);case 18:return n.next=20,l.getOrganisationUnits();case 20:b=n.sent,i.value=c.organisationUnitNames.map((function(t){var e=b.organisationUnits.find((function(e){return e.name===t}));return{value:t,name:e.description}}));case 22:case"end":return n.stop()}}),n)})))),{organisationUnit:e,attributeName:a,attributeValue:r,organisationUnits:i,attributes:o}},data:function(){return{validForm:!0,errorMessages:{}}},methods:Object(xt["a"])({onChangeOrgUnit:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(e){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,L();case 2:return a=t.sent,t.next=5,a.getOrganisationUnit(this.organisationUnit);case 5:n=t.sent,this.attributes=Object.keys(n.attributes);case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),isValid:function(){return this.errorMessages=Object(xt["a"])(Object(xt["a"])({},!this.organisationUnit&&{organisationUnit:Se("organisation unit")}),!this.attributeName&&{attributeName:Se("attribute name")}),0===Object.keys(this.errorMessages).length},onSubmit:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.validForm=this.isValid(),this.validForm&&(this.changeAddAgentAttribute({organisationUnitName:this.organisationUnit,attributeName:this.attributeName,attributeValue:this.attributeValue}),this.$router.push({name:"edit-agent-add-attribute-value",params:{organisationUnitName:this.organisationUnitName,staffNumber:this.staffNumber}}));case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},Object(Ft["c"])("agentsStore",{changeAddAgentAttribute:"changeAddAgentAttribute"}))};const nf=v()(af,[["render",ef]]);var rf=nf,of={class:"govuk-width-container"},sf={class:"govuk-main-wrapper govuk-main-wrapper--auto-spacing",id:"main-content",role:"main"},uf={class:"govuk-grid-row"},cf={class:"govuk-grid-column-full"},lf=Object(n["i"])(" Back "),gf=Object(n["g"])("h1",{class:"govuk-heading-xl"}," Edit agent add attribute value ",-1),bf={class:"govuk-fieldset"},df=Object(n["g"])("button",{id:"continue",type:"submit",class:"govuk-button","data-module":"govuk-button"}," Continue ",-1);function mf(t,e,a,r,i,o){var s=Object(n["z"])("router-link"),u=Object(n["z"])("ErrorSummary"),c=Object(n["z"])("DropDown");return Object(n["u"])(),Object(n["f"])("div",of,[Object(n["g"])("main",sf,[Object(n["g"])("div",uf,[Object(n["g"])("div",cf,[Object(n["j"])(s,{id:"back-link",to:{name:"edit-agent-add-attribute",params:{organisationUnitName:a.organisationUnitName,staffNumber:a.staffNumber}},class:"govuk-back-link"},{default:Object(n["F"])((function(){return[lf]})),_:1},8,["to"]),Object(n["j"])(u,{validForm:t.validForm,errorMessages:t.errorMessages},null,8,["validForm","errorMessages"]),gf,Object(n["g"])("form",{onSubmit:e[1]||(e[1]=Object(n["H"])((function(){return o.onSubmit&&o.onSubmit.apply(o,arguments)}),["prevent"]))},[Object(n["g"])("fieldset",bf,[Object(n["j"])(c,{modelValue:r.attributeValue,"onUpdate:modelValue":e[0]||(e[0]=function(t){return r.attributeValue=t}),elementName:"attributeValue",errorMessages:t.errorMessages,label:"Attribute value",selectOptions:r.attributeValues},null,8,["modelValue","errorMessages","selectOptions"])]),df],32)])])])])}var vf={name:"EditAgentAddAttributeValue",props:["organisationUnitName","staffNumber"],components:{ErrorSummary:ze,DropDown:Jo},setup:function(t){var e=Object(n["x"])(""),a=Object(n["x"])(""),r=Object(n["x"])(""),i=Object(n["x"])([]);return Object(n["s"])(Object($["a"])(regeneratorRuntime.mark((function t(){var n,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=Object(Ft["e"])(),e.value=n.state.agentsStore.addAgentAttribute.organisationUnitName,a.value=n.state.agentsStore.addAgentAttribute.attributeName,r.value=n.state.agentsStore.addAgentAttribute.attributeValue,t.next=6,L();case 6:return o=t.sent,t.next=9,o.getOrganisationUnit(e.value);case 9:s=t.sent,i.value=s.attributes[a.value];case 11:case"end":return t.stop()}}),t)})))),{organisationUnit:e,attributeName:a,attributeValue:r,attributeValues:i}},data:function(){return{validForm:!0,errorMessages:{}}},methods:Object(xt["a"])({isValid:function(){return this.errorMessages=Object(xt["a"])({},!this.attributeValue&&{attributeValue:Se("attribute value")}),0===Object.keys(this.errorMessages).length},onSubmit:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.validForm=this.isValid(),this.validForm&&(this.changeAddAgentAttribute({organisationUnitName:this.organisationUnit,attributeName:this.attributeName,attributeValue:this.attributeValue}),this.$router.push({name:"edit-agent-add-attribute-confirmation",params:{organisationUnitName:this.organisationUnitName,staffNumber:this.staffNumber}}));case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},Object(Ft["c"])("agentsStore",{changeAddAgentAttribute:"changeAddAgentAttribute"}))};const pf=v()(vf,[["render",mf]]);var jf=pf,Of={class:"govuk-width-container"},hf={class:"govuk-main-wrapper govuk-main-wrapper--auto-spacing",id:"main-content",role:"main"},ff={class:"govuk-grid-row"},kf={class:"govuk-grid-column-full"},yf=Object(n["i"])(" Back "),Nf=Object(n["g"])("h1",{class:"govuk-heading-xl"}," Edit agent add attribute confirmation ",-1),Af=Object(n["g"])("h2",{class:"govuk-heading-m"}," Agent attribute details ",-1),_f={class:"govuk-summary-list"},wf={class:"govuk-summary-list__row"},Uf=Object(n["g"])("dt",{class:"govuk-summary-list__key"}," Organisation unit ",-1),xf={class:"govuk-summary-list__value"},Ff={class:"govuk-summary-list__actions"},Mf=Object(n["i"])(" Change"),Sf=Object(n["g"])("span",{class:"govuk-visually-hidden"}," organisation unit",-1),Vf={class:"govuk-summary-list__row"},Rf=Object(n["g"])("dt",{class:"govuk-summary-list__key"}," Attribute name ",-1),Gf={class:"govuk-summary-list__value"},Bf={class:"govuk-summary-list__actions"},Cf=Object(n["i"])(" Change"),Ef=Object(n["g"])("span",{class:"govuk-visually-hidden"}," attribute name",-1),Tf={class:"govuk-summary-list__row"},zf=Object(n["g"])("dt",{class:"govuk-summary-list__key"}," Attribute value ",-1),Df={class:"govuk-summary-list__value"},Hf={class:"govuk-summary-list__actions"},If=Object(n["i"])(" Change"),$f=Object(n["g"])("span",{class:"govuk-visually-hidden"}," attribute value",-1);function Lf(t,e,a,r,i,o){var s=Object(n["z"])("router-link"),u=Object(n["z"])("ErrorSummary");return Object(n["u"])(),Object(n["f"])("div",Of,[Object(n["g"])("main",hf,[Object(n["g"])("div",ff,[Object(n["g"])("div",kf,[Object(n["j"])(s,{class:"govuk-back-link",id:"back-link",to:{name:"edit-agent-add-attribute-value",params:{organisationUnitName:a.organisationUnitName,staffNumber:a.staffNumber}}},{default:Object(n["F"])((function(){return[yf]})),_:1},8,["to"]),Object(n["j"])(u,{validForm:t.validForm,errorMessages:t.errorMessages},null,8,["validForm","errorMessages"]),Nf,Af,Object(n["g"])("dl",_f,[Object(n["g"])("div",wf,[Uf,Object(n["g"])("dd",xf,Object(n["B"])(r.organisationUnit.description),1),Object(n["g"])("dd",Ff,[Object(n["j"])(s,{class:"govuk-link",to:{name:"edit-agent-add-attribute",params:{organisationUnitName:this.organisationUnitName,staffNumber:this.staffNumber}}},{default:Object(n["F"])((function(){return[Mf,Sf]})),_:1},8,["to"])])]),Object(n["g"])("div",Vf,[Rf,Object(n["g"])("dd",Gf,Object(n["B"])(r.addAgentAttribute.attributeName),1),Object(n["g"])("dd",Bf,[Object(n["j"])(s,{class:"govuk-link",to:{name:"edit-agent-add-attribute",params:{organisationUnitName:this.organisationUnitName,staffNumber:this.staffNumber}}},{default:Object(n["F"])((function(){return[Cf,Ef]})),_:1},8,["to"])])]),Object(n["g"])("div",Tf,[zf,Object(n["g"])("dd",Df,Object(n["B"])(r.addAgentAttribute.attributeValue),1),Object(n["g"])("dd",Hf,[Object(n["j"])(s,{class:"govuk-link",to:{name:"edit-agent-add-attribute-value",params:{organisationUnitName:this.organisationUnitName,staffNumber:this.staffNumber}}},{default:Object(n["F"])((function(){return[If,$f]})),_:1},8,["to"])])])]),Object(n["g"])("button",{onClick:e[0]||(e[0]=function(t){return o.onContinue()}),"data-prevent-double-click":"true",class:"govuk-button","data-module":"govuk-button",ref:"save-and-continue",type:"button",id:"continue"}," Save and continue ",512)])])])])}var Pf={name:"EditAgentAddAttributeConfirmation",props:["organisationUnitName","staffNumber"],components:{ErrorSummary:ze},setup:function(t){var e=Object(n["x"])({}),a=Object(n["x"])({});return Object(n["s"])(Object($["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=Object(Ft["e"])(),e.value=n.state.agentsStore.addAgentAttribute,t.next=4,L();case 4:return r=t.sent,t.next=7,r.getOrganisationUnit(e.value.organisationUnitName);case 7:a.value=t.sent;case 8:case"end":return t.stop()}}),t)})))),{addAgentAttribute:e,organisationUnit:a}},data:function(){return{validForm:!0,errorMessages:{}}},methods:Object(xt["a"])({onContinue:function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(){var e,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Cg();case 2:return e=t.sent,t.next=5,e.addAttributeToAgent(this.staffNumber,this.organisationUnitName,this.addAgentAttribute.attributeName,this.addAgentAttribute.attributeValue);case 5:if(a=t.sent,204===a.status){t.next=13;break}return t.next=9,a.text();case 9:return n=t.sent,this.validForm=!1,this.errorMessages=Object(xt["a"])({},{answer:JSON.parse(n).message}),t.abrupt("return");case 13:this.changeAgentUpdated(!0),this.$router.push({name:"edit-agent",params:{organisationUnitName:this.organisationUnitName,staffNumber:this.staffNumber}});case 15:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},Object(Ft["c"])("agentsStore",{changeAgentUpdated:"changeAgentUpdated"}))};const Kf=v()(Pf,[["render",Lf]]);var qf=Kf,Wf=[{path:"/organisation-unit-dashboard/:organisationUnitName/list-agents",name:"list-agents",component:Tv,props:!0,meta:{allowedFrom:["organisation-unit-dashboard","add-agent","remove-agent","edit-agent","add-agent-confirmation"]}},{path:"/organisation-unit-dashboard/:organisationUnitName/edit-agent/:staffNumber",name:"edit-agent",component:Fp,props:!0,meta:{allowedFrom:["list-agents","edit-agent-add-attribute","edit-agent-remove-attribute","edit-agent-add-organisation-unit","edit-agent-remove-organisation-unit","edit-agent-add-attribute-confirmation"]}},{path:"/organisation-unit-dashboard/:organisationUnitName/remove-agent/:staffNumber",name:"remove-agent",component:zp,props:!0,meta:{allowedFrom:["list-agents"]}},{path:"/organisation-unit-dashboard/:organisationUnitName/add-agent",name:"add-agent",component:Xp,props:!0,meta:{allowedFrom:["list-agents","add-agent-full-name","add-agent-confirmation"]}},{path:"/organisation-unit-dashboard/:organisationUnitName/add-agent-full-name",name:"add-agent-full-name",component:lj,props:!0,meta:{allowedFrom:["add-agent","add-agent-organisation-units","add-agent-confirmation"]}},{path:"/organisation-unit-dashboard/:organisationUnitName/add-agent-organisation-units",name:"add-agent-organisation-units",component:Vj,props:!0,meta:{allowedFrom:["add-agent-full-name","add-agent-attributes-list","add-agent-confirmation"]}},{path:"/organisation-unit-dashboard/:organisationUnitName/add-agent-attributes-list",name:"add-agent-attributes-list",component:nO,props:!0,meta:{allowedFrom:["add-agent-organisation-units","add-agent-add-attribute","add-agent-add-attribute-value","add-agent-confirmation"]}},{path:"/organisation-unit-dashboard/:organisationUnitName/add-agent-add-attribute",name:"add-agent-add-attribute",component:pO,props:!0,meta:{allowedFrom:["add-agent-attributes-list","add-agent-add-attribute-value"]}},{path:"/organisation-unit-dashboard/:organisationUnitName/add-agent-add-attribute-value",name:"add-agent-add-attribute-value",component:FO,props:!0,meta:{allowedFrom:["add-agent-add-attribute"]}},{path:"/organisation-unit-dashboard/:organisationUnitName/add-agent-confirmation",name:"add-agent-confirmation",component:mh,props:!0,meta:{allowedFrom:["add-agent-attributes-list"]}},{path:"/organisation-unit-dashboard/:organisationUnitName/edit-agent/:staffNumber/remove-organisation-unit/:organisationUnit",name:"edit-agent-remove-organisation-unit",component:Ah,props:!0,meta:{allowedFrom:["edit-agent"]}},{path:"/organisation-unit-dashboard/:organisationUnitName/edit-agent/:staffNumber/add-organisation-unit",name:"edit-agent-add-organisation-unit",component:Ch,props:!0,meta:{allowedFrom:["edit-agent"]}},{path:"/organisation-unit-dashboard/:organisationUnitName/edit-agent/:staffNumber/remove-attribute/:orgUnit/:attributeName/:attributeValue",name:"edit-agent-remove-attribute",component:Kh,props:!0,meta:{allowedFrom:["edit-agent"]}},{path:"/organisation-unit-dashboard/:organisationUnitName/edit-agent/:staffNumber/add-attribute",name:"edit-agent-add-attribute",component:rf,props:!0,meta:{allowedFrom:["edit-agent","edit-agent-add-attribute-value","edit-agent-add-attribute-confirmation"]}},{path:"/organisation-unit-dashboard/:organisationUnitName/edit-agent/:staffNumber/add-attribute-value",name:"edit-agent-add-attribute-value",component:jf,props:!0,meta:{allowedFrom:["edit-agent-add-attribute","edit-agent-add-attribute-confirmation"]}},{path:"/organisation-unit-dashboard/:organisationUnitName/edit-agent/:staffNumber/add-attribute-confirmation",name:"edit-agent-add-attribute-confirmation",component:qf,props:!0,meta:{allowedFrom:["edit-agent-add-attribute-value"]}}],Jf=Wf,Qf=[{path:"/",name:"home",redirect:"/organisation-units"}],Yf=Qf.concat(Dt).concat(zr).concat(Ic).concat(Jf).concat(sv),Xf=Object(x["a"])({history:Object(x["b"])(),routes:Yf,scrollBehavior:function(t,e,a){if(t.hash){var n=document.getElementById(t.hash.replace(/#/,""));return n&&n.scrollIntoView&&(n.scrollIntoView({block:"end",behavior:"smooth"}),n.focus()),{el:t.hash}}}});Xf.beforeEach((function(t,e,a){t.meta&&t.meta.allowedFrom?t.meta.allowedFrom.includes(e.name)?a():(console.warn("Can't find route from ".concat(e.name," to ").concat(t.name)),a({name:"home"})):a()}));var Zf=Xf,tk=function(){return{editMode:!1,activity:{mandatoryAttributes:{}},activityAdded:!1,activityUpdated:!1,activityDeleted:!1}},ek={namespaced:!0,state:tk(),mutations:{addActivity:function(t,e){t.activity=Object(xt["a"])(Object(xt["a"])({},t.activity),e)},addMandatoryAttribute:function(t,e){var a=e.attributeKey,n=e.attributeValue;t.activity.mandatoryAttributes[a]=n},addOptionalAttribute:function(t,e){var a=e.attributeKey,n=e.attributeValue;t.activity.optionalAttributes||(t.activity.optionalAttributes={}),t.activity.optionalAttributes[a]=n},removeMandatoryAttribute:function(t,e){delete t.activity.mandatoryAttributes[e]},removeOptionalAttribute:function(t,e){delete t.activity.optionalAttributes[e]},resetState:function(t){Object.assign(t,tk())},editMode:function(t,e){t.editMode=e},changeActivityAdded:function(t,e){t.activityAdded=e},changeActivityUpdated:function(t,e){t.activityUpdated=e},changeActivityDeleted:function(t,e){t.activityDeleted=e},resetActivityFlags:function(t){t.activityAdded=!1,t.activityDeleted=!1,t.activityUpdated=!1}}},ak=function(){return{addAttribute:{name:null,values:[]},attribute:{name:null,values:[]},attributeAdded:!1,attributeUpdated:!1,attributeDeleted:!1}},nk={namespaced:!0,state:ak(),mutations:{changeAddAttribute:function(t,e){t.addAttribute=e},resetState:function(t){Object.assign(t,ak())},changeAttribute:function(t,e){t.attribute=e},changeAttributeAdded:function(t,e){t.attributeAdded=e},changeAttributeUpdated:function(t,e){t.attributeUpdated=e},changeAttributeDeleted:function(t,e){t.attributeDeleted=e},resetAttributeFlags:function(t){t.attributeAdded=!1,t.attributeDeleted=!1,t.attributeUpdated=!1}},getters:{getAddAttribute:function(t){return t.addAttribute},getAttribute:function(t){return t.attribute}}},rk=function(){return{addAgentGroup:{groupName:"",agents:[],attributeName:"",attributeValue:"",attributes:[]},removeAgentGroupAttribute:{attributeName:"",attributeValue:""},addAgentGroupAttribute:{attributeName:"",attributeValue:""},agentGroupAdded:!1,agentGroupUpdated:!1,agentGroupDeleted:!1}},ik={namespaced:!0,state:rk(),mutations:{changeAddAgentGroup:function(t,e){t.addAgentGroup=e},addAttributeName:function(t,e){t.addAgentGroup.attributeName=e},removeAttribute:function(t,e){t.addAgentGroup.attributes=t.addAgentGroup.attributes.filter((function(t){return t.name!==e.attributeName&&t.value!==e.attributeValue}))},resetState:function(t){Object.assign(t,rk())},resetAttribute:function(t){t.addAgentGroup.attributeName="",t.addAgentGroup.attributeValue=""},changeRemoveAgentGroupAttribute:function(t,e){t.removeAgentGroupAttribute={attributeName:e.attributeName,attributeValue:e.attributeValue}},changeAddAgentGroupAttribute:function(t,e){t.addAgentGroupAttribute=e},changeAgentGroupAdded:function(t,e){t.agentGroupAdded=e},changeAgentGroupUpdated:function(t,e){t.agentGroupUpdated=e},changeAgentGroupDeleted:function(t,e){t.agentGroupDeleted=e},resetAgentGroupFlags:function(t){t.agentGroupAdded=!1,t.agentGroupDeleted=!1,t.agentGroupUpdated=!1}},getters:{getAddAgentGroup:function(t){return t.addAgentGroup},getEditAgentGroup:function(t){return t.editAgentGroup},getAgentGroupFlags:function(t){return{agentGroupAdded:t.agentGroupAdded,agentGroupUpdated:t.agentGroupUpdated,agentGroupDeleted:t.agentGroupDeleted}}}},ok=function(){return{addAgent:{staffNumber:"",fullName:"",organisationUnitNames:[],organisationUnit:"",attributeName:"",attributes:[]},addAgentAttribute:{organisationUnitName:"",attributeName:"",attributeValue:""},agentAdded:!1,agentUpdated:!1,agentDeleted:!1}},sk={namespaced:!0,state:ok(),mutations:{changeAddAgent:function(t,e){t.addAgent=e},addAttributeName:function(t,e){t.addAgent.attributeName=e.attributeName,t.addAgent.organisationUnit=e.organisationUnit},removeAttribute:function(t,e){t.addAgent.attributes=t.addAgent.attributes.filter((function(t){return t.name!==e.attributeName&&t.value!==e.attributeValue}))},resetState:function(t){Object.assign(t,ok())},resetAttribute:function(t){t.addAgent.attributeName=""},changeAgentAdded:function(t,e){t.agentAdded=e},changeAgentUpdated:function(t,e){t.agentUpdated=e},changeAgentDeleted:function(t,e){t.agentDeleted=e},resetAgentFlags:function(t){t.agentAdded=!1,t.agentDeleted=!1,t.agentUpdated=!1},changeAddAgentAttribute:function(t,e){t.addAgentAttribute=e}},getters:{getAddAgent:function(t){return t.addAgent}}},uk=Object(Ft["a"])({modules:{activitiesStore:ek,attributesStore:nk,agentGroupsStore:ik,agentsStore:sk}});Object(n["c"])(U).use(uk).use(Zf).mount("#app")},e1ee:function(t,e,a){function n(t){var e={};return t.forEach((function(t){return e[t.name]=t.description})),e}a("4160"),a("d3b7"),a("159b"),a("b0c0"),a("a4d3"),a("e01a"),t.exports={buildOrganisationDescriptions:n}}});
//# sourceMappingURL=app.bb55c614.js.map
