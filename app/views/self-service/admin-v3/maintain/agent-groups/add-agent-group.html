{% extends "admin-header-with-nav-v3.html" %}
{% extends "layout.html" %}

{% block pageTitle %}
  Add agent group - Agent groups
{% endblock %}

{% block pageScripts %}


    <link href="/public/stylesheets/accessible-autocomplete.min.css" rel="stylesheet" type="text/css">
    <script src="/public/javascripts/accessible-autocomplete-agent.min.js" rel="stylesheet" type="text/javascript"></script>
    <script src="/public/javascripts/assets_js_auto-complete-agent.js" rel="stylesheet" type="text/javascript"></script>



{% endblock %}
{% block beforeContent %}

    {{ super() }}


      <div class="govuk-grid-row">
      <div class="govuk-grid-column-full">
          <!-- Breadcrumbs for the page -->

          <div class="govuk-breadcrumbs" style="background:#ffffff; ">
            <ol class="govuk-breadcrumbs__list ">

              <li class="govuk-breadcrumbs__list-item">
                <a class="govuk-breadcrumbs__link" href="/self-service/admin-v3/maintain/dashboard-agentAdded">Dashboard</a>
              </li>
              <li class="govuk-breadcrumbs__list-item">
                <a class="govuk-breadcrumbs__link" href="/self-service/admin-v3/maintain/agent-groups/agent-groups-list">Agent groups</a>
              </li>
              <li class="govuk-breadcrumbs__list-item">
                <a class="govuk-breadcrumbs__link govuk-!-font-weight-bold" >Create agent groups</a>
              </li>

            </ol>
          </div>
    </div>
    </div>

    {{ govukBackLink ({
        text: 'Back',
        href: 'javascript:history.back()'
    }) }}

{% endblock %}

{% block content %}
<div class="govuk-grid-row">
  <div class="govuk-grid-column-full">
        <div class="govuk-grid-row">
          <div class="govuk-grid-column-three-quarters">

            <h1 class="govuk-heading-xl">
              Create agent group
            </h1>

      <br>
                <div class="govuk-form-group">

                  <label class="govuk-fieldset__legend--s govuk-!-font-weight-bold" for="group-name">
                    Group name
                  </label>
                  <p class="govuk-hint">The name of the group in your business area</p>
                  <input class="govuk-input govuk-input--width-30" id="group-name" name="group-name" type="text" value="{{ data['group-name'] }}">

                </div>



        </div>
        </div>

        <hr class="govuk-section-break govuk-section-break--xl govuk-section-break--visible">


        <label class="govuk-fieldset__legend--l govuk-!-font-weight-bold" for="agents">
          Select and add agent to the group
        </label>
        <hr class="govuk-section-break govuk-section-break--m govuk-section-break--hidden">


            <div class="govuk-grid-row">
              <div class="govuk-grid-column-full">


                <form class="form" method="post" action="add-agent-group-char">
                  <fieldset class="govuk-fieldset" >
                    <div class="govuk-form-group">


                      <label class="govuk-label govuk-!-font-weight-bold" for="task-subject">
                        Select agent
                      </label>

                      <p class="govuk-hint">Start typing and select agent from the list or enter a new one </p>

                      <div class="govuk-body">


                        <!-- <div><input class="govuk-input govuk-!-width-two-fourth" id="agent-search" name="characteristics" type="" ></div> -->
                        <div class="govuk-body govuk-!-width-one-quarter" id="agent-search" name="characteristics" > </div>


                      <button type="button" class="govuk-button govuk-button--secondary" data-module="govuk-button" onclick="addRow();">Add agent to group</button>
                    </div>

                    <h1 class="govuk-heading-m">
                      Agents in this group
                    </h1>

                    <div class="govuk-form-group">
                      <table class="govuk-table" id="characteristics-table">
                        <thead class="govuk-table__head">
                          <tr class="govuk-table__row">
                            <th scope="col" class="govuk-table__header">Agent Name</th>
                            <!-- <th scope="col" class="govuk-table__header">Criteria</th> -->
                            <th scope="col" class="govuk-table__header">Action</th>
                          </tr>
                        </thead>
                        <tbody class="govuk-table__body">
                          <tr class="govuk-table__row" id="nodataadded">
                            <td class="govuk-table__cell">No characteristic added</td>
                            <!-- <td class="govuk-table__cell"></td> -->
                            <td class="govuk-table__cell"></td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </fieldset>
                  <button type="submit" class="govuk-button" data-module="govuk-button">Continue</button>
                  </form>
                </div>
              </div>

              <script language="JavaScript">



              function addRow() {

                var count = 1;

                if (count = 1) {

                  function removeRow(id) {
                    var tr = document.getElementById(id);
                    if (tr) {
                      if (tr.nodeName == 'TR') {
                        var tbl = tr; // Look up the hierarchy for TABLE
                        while (tbl != document && tbl.nodeName != 'TABLE') {
                          tbl = tbl.parentNode;
                        }

                        if (tbl && tbl.nodeName == 'TABLE') {
                          while (tr.hasChildNodes()) {
                            tr.removeChild( tr.lastChild );
                          }
                        tr.parentNode.removeChild( tr );
                        }
                      } else {
                        alert( 'Specified document element is not a TR. id=' + id );
                      }
                    } else {
                      alert( 'Specified document element is not found. id=' + id );
                    }
                  }

                removeRow('nodataadded');
                count = 2;

                }
                var characteristics = document.getElementById('agent-search');
                var char_criteria = document.getElementsByName('char-criteria');
                var table = document.getElementById('characteristics-table');

                var rowCount = table.rows.length;
                var row = table.insertRow(rowCount);
                row.className = 'govuk-table__row';
                var intialrow = document.getElementById('nodataadded');

                var valueCell = row.insertCell(0);
                valueCell.innerHTML = characteristics.value;
                valueCell.id = 'characteristics-' + characteristics.value;
                valueCell.className = 'govuk-table__cell';



                var actionCell = row.insertCell(1);
                actionCell.innerHTML = '<a class="govuk-link" data-module="govuk-link" onclick="javascript:removeRow(' + rowCount + ');">Remove</a>';
                actionCell.className = 'govuk-table__cell';
                characteristics.value = '';

              }

              function removeRow(index) {
                var table = document.getElementById('characteristics-table');
                table.deleteRow(index);
              }
              </script>







      </div>


  </div>




{% endblock %}
