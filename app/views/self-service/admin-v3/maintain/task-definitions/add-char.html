{% extends "admin-header-with-nav-v3.html" %}
{% extends "layout.html" %}

{% block pageTitle %}
  Check and confirm - Activities
{% endblock %}


{% block beforeContent %}

    {{ super() }}

        <div class="govuk-grid-row">
        <div class="govuk-grid-column-full">
            <!-- Breadcrumbs for the page -->

            <div class="govuk-breadcrumbs" style="background:#ffffff; ">
              <ol class="govuk-breadcrumbs__list">

                <li class="govuk-breadcrumbs__list-item">
                  <a class="govuk-breadcrumbs__link" href="/self-service/admin-v3/maintain/dashboard">Dashboard</a>
                </li>
                <li class="govuk-breadcrumbs__list-item">
                  <a class="govuk-breadcrumbs__link" href="/self-service/admin-v3/maintain/task-definitions/task-defi">Task templates</a>
                </li>
                <li class="govuk-breadcrumbs__list-item">
                  <a class="govuk-breadcrumbs__link" href="/self-service/admin-v3/maintain/task-definitions/add-task-info">Create task template</a>
                </li>
                <li class="govuk-breadcrumbs__list-item">
                  <a class="govuk-breadcrumbs__link govuk-!-font-weight-bold" >Add task matching characteristics</a>
                </li>

              </ol>
            </div>
        </div>
        </div>
    {{ govukBackLink ({
        text: 'Back',
        href: 'javascript:history.back()'
    }) }}

{% endblock %}

{% block pageScripts %}


    <link href="/public/stylesheets/accessible-autocomplete.min.css" rel="stylesheet" type="text/css">
    <script src="/public/javascripts/accessible-autocomplete-char.min.js" rel="stylesheet" type="text/javascript"></script>
    <script src="/public/javascripts/assets_js_auto-complete-char.js" rel="stylesheet" type="text/javascript"></script>



{% endblock %}

{% block content %}


      <div class="govuk-grid-row">
        <div class="govuk-grid-column-full">


          <details class="govuk-details" data-module="govuk-details">
  <summary class="govuk-details__summary">
    <span class="govuk-details__summary-text">
      View task template details
    </span>
  </summary>


  <dl class="govuk-summary-list">
    <div class="govuk-summary-list__row govuk-summary-list__row--no-actions">
      <dt class="govuk-summary-list__key">
        Task template name
      </dt>
      <dd class="govuk-summary-list__value">
        {{ data['task-defi-name'] | default('Verify address for NI template') }}
      </dd>
      <dd class="govuk-summary-list__actions">
        <a class="govuk-link" href="add-task-info-exp">
          Change<span class="govuk-visually-hidden"> date of birth</span>
        </a>
      </dd>
    </div>
    <div class="govuk-summary-list__row">
      <dt class="govuk-summary-list__key">
        Priority
      </dt>
      <dd class="govuk-summary-list__value">
        {{ data['task-priority'] | default('Very high') }}
      </dd>
      <dd class="govuk-summary-list__actions">
        <a class="govuk-link" href="add-task-info-exp">
          Change<span class="govuk-visually-hidden"> date of birth</span>
        </a>
      </dd>
    </div>
    <div class="govuk-summary-list__row">
      <dt class="govuk-summary-list__key">
        Task start page (URL)
      </dt>
      <dd class="govuk-summary-list__value">
        {{ data['task-url'] | default('sp.dwp.gov.uk/asdi23232asd/sdfsf') }}
      </dd>
      <dd class="govuk-summary-list__actions">
        <a class="govuk-link" href="add-task-info-exp">
          Change<span class="govuk-visually-hidden"> address</span>
        </a>
      </dd>
    </div>
    <div class="govuk-summary-list__row">
      <dt class="govuk-summary-list__key">
Task completion time      </dt>
      <dd class="govuk-summary-list__value">
        {{ data['task-sla'] | default('2') }} &nbsp;
        {{ data['sla-time'] | default('days') }}
      </dd>
      <dd class="govuk-summary-list__actions">
        <a class="govuk-link" href="add-task-info-exp">
          Change<span class="govuk-visually-hidden"> contact details</span>
        </a>
      </dd>
    </div>
  </dl>


</details>

<!--

      <form class="form"  method="post" action="added-to-task-defi">
        <div class="govuk-form-group">





                  <div class="govuk-grid-row">
                    <div class="govuk-grid-column-full">
                      <h1 class="govuk-heading-xl">
                        Add task matching characteristics
                      </h1>



                      <hr class="govuk-section-break govuk-section-break--s govuk-section-break--hidden">



                          <div class="add-remove-block add-remove-block--has-min-items govuk-body" data-add-remove-block-add-message="" data-add-remove-block-remove-message="" data-add-remove-block-remove-all-message="All characteristics have been removed" data-add-remove-block-start="1" data-add-remove-block-min="1" data-add-remove-block-max="20">

                          <div class="add-remove-block__status visuallyhidden" role="status" aria-live="polite"></div>
                          <ul class="add-remove-block__list" style="padding-left:0px;"><li class="add-remove-block__item" data-item-index="0" style="list-style-type:none;">
                            <label class="govuk-label govuk-!-font-weight-bold" for="task-subject">
                              Select matching criteria
                            </label>
                            <div class="govuk-radios govuk-radios--small govuk-radios--inline" data-module="govuk-radios">
                              <div class="govuk-radios__item">
                                <input class="govuk-radios__input" id="changed-name" name="changed-name" type="radio" value="month" for="condition-0">
                                <label class="govuk-label govuk-radios__label" for="changed-name">
                                  Mandatory
                                </label>
                              </div>
                              <div class="govuk-radios__item">
                                <input class="govuk-radios__input" id="changed-name-2" name="changed-name" type="radio" value="year" for="condition-0">
                                <label class="govuk-label govuk-radios__label" for="changed-name-2">
                                  Optional
                                </label>
                              </div>
                            </div>
                            <br>
                            <label class="govuk-label govuk-!-font-weight-bold" for="task-subject">
                              Characteristic
                            </label>

                            <p class="govuk-hint">Start typing and select characteristics from the list or enter a new one </p>

                              <button class="add-remove-block__remove-trigger govuk-button govuk-button--secondary" type="button">
                                Remove
                              </button>

                              <hr class="govuk-section-break govuk-section-break--m govuk-section-break--visible">

                            <!-- <label class="form-label-bold" for="condition-0"> Characteristics Name </label>
                            <input class="govuk-input govuk-!-width-one-quarter" id="attribute-name" name="attribute-name" type="text"  >
                            &nbsp; &nbsp; &nbsp; &nbsp;<label class="form-label-bold" for="condition-0"> Value </label> &nbsp;
                              <input class="govuk-input  govuk-!-width-one-quarter" type="text" id="value-0" name="value-0"> -->

                            </li></ul>
                            <!-- <div class="govuk-inset-text">
                              You can add multiple values to an attribute and create group. For example 'Language' can have multiple values like 'English', 'Welsh' or 'Irish'.
                            </div> -->
                          <!-- <div class="button-combo gutter-half-bottom">
                            <button type="button" class="add-remove-block__add-trigger govuk-button govuk-button--secondary">Add another characteristics</button> -->
                            <!-- <button type="button" class="add-remove-block__remove-all-trigger button-combo__right govuk-link">Remove all values</button> -->
                          <!-- </div>


                                  <script type="text/x-template" class="add-remove-block__item-tpl">
                                    <li class="add-remove-block__item" data-item-index="{index}" style="list-style-type: none; padding-left:0px;">
                                      <label class="govuk-label govuk-!-font-weight-bold" for="task-subject">
                                        Select matching criteria
                                      </label>
                                      <div class="govuk-radios govuk-radios--small govuk-radios--inline" data-module="govuk-radios">
                                        <div class="govuk-radios__item">
                                          <input class="govuk-radios__input" id="changed-name" name="changed-name" type="radio" value="month " for="condition-{index}">
                                          <label class="govuk-label govuk-radios__label" for="changed-name">
                                            Mandatory
                                          </label>
                                        </div>
                                        <div class="govuk-radios__item">
                                          <input class="govuk-radios__input" id="changed-name-2" name="changed-name" type="radio" value="year" for="condition-{index}">
                                          <label class="govuk-label govuk-radios__label" for="changed-name-2">
                                            Optional
                                          </label>
                                        </div>
                                      </div>
                                      <br>
                                      <label class="govuk-label govuk-!-font-weight-bold" for="task-subject">
                                        Characteristic
                                      </label>

                                      <p class="govuk-hint">Start typing and select characteristics from the list or enter a new one </p>

                                      <div class="govuk-body">
                                      <input class="govuk-input govuk-!-width-one-quarter" id="char-search" for="condition-{index}" name="value-{index}"></div>


                                      <button class="add-remove-block__remove-trigger govuk-button govuk-button--secondary" type="button">
                                        Remove
                                      </button>
                                      <hr class="govuk-section-break govuk-section-break--m govuk-section-break--visible">

                                    </li>
                                  </script>



                        </div> -->





          <!-- <hr class="govuk-section-break govuk-section-break--xl govuk-section-break--hidden">



        <br><br>
        <button class="govuk-button" data-module="govuk-button">Confirm and create activity</button>

        </div>
      </form> -->



<!-- Add char -->


<div class="govuk-grid-row">
  <div class="govuk-grid-column-full">

    <h1 class="govuk-heading-xl">
      Add task matching characteristics
    </h1>
    <p class="govuk-hint">This could be a skill, location, language or other criteria to help match this task to an agent. </p>

    <form class="form" method="post" action="check-defi-details">
      <fieldset class="govuk-fieldset" >
        <div class="govuk-form-group">
          <label class="govuk-label govuk-!-font-weight-bold" for="task-subject">
            Select matching criteria
          </label>

          <div class="govuk-radios govuk-radios--small govuk-radios--inline" data-module="govuk-radios" >
            <div class="govuk-radios__item">
              <input class="govuk-radios__input"  id="char-criteria-1" name="char-criteria"  type="radio" value="Mandatory">
              <label class="govuk-label govuk-radios__label" for="char-criteria-1" >
                Mandatory
              </label>
            </div>
            <div class="govuk-radios__item">
              <input class="govuk-radios__input"  id="char-criteria-2" name="char-criteria"  type="radio" value="Optional">
              <label class="govuk-label govuk-radios__label" for="char-criteria-2">
                Optional
              </label>
            </div>
          </div>
          <br>
          <label class="govuk-label govuk-!-font-weight-bold" for="task-subject">
            Characteristic
          </label>

          <p class="govuk-hint">Start typing and select characteristics from the list or enter a new one </p>

          <div class="govuk-body">


            <!-- <div><input class="govuk-input govuk-!-width-two-fourth" id="char-search" name="characteristics" type="" ></div> -->
            <div class="govuk-body govuk-!-width-one-quarter" id="char-search" name="characteristics" > </div>


          <button type="button" class="govuk-button govuk-button--secondary" data-module="govuk-button" onclick="addRow();">Add Characteristic to list</button>
        </div>

        <h1 class="govuk-heading-m">
          Task matching characteristics
        </h1>

        <div class="govuk-form-group">
          <table class="govuk-table" id="characteristics-table">
            <thead class="govuk-table__head">
              <tr class="govuk-table__row">
                <th scope="col" class="govuk-table__header">Characteristic</th>
                <th scope="col" class="govuk-table__header">Criteria</th>
                <th scope="col" class="govuk-table__header">Action</th>
              </tr>
            </thead>
            <tbody class="govuk-table__body">
              <tr class="govuk-table__row" id="nodataadded">
                <td class="govuk-table__cell">No characteristic added</td>
                <td class="govuk-table__cell"></td>
                <td class="govuk-table__cell"></td>
              </tr>
            </tbody>
          </table>
        </div>
      </fieldset>
      <button type="submit" class="govuk-button" data-module="govuk-button">Continue</button>
      </form>
    </div>
  </div>
</div>

<script language="JavaScript">



function addRow() {

  function removeRow(id) {
    var tr = document.getElementById(id);
    if (tr) {
      if (tr.nodeName == 'TR') {
        var tbl = tr; // Look up the hierarchy for TABLE
        while (tbl != document && tbl.nodeName != 'TABLE') {
          tbl = tbl.parentNode;
        }

        if (tbl && tbl.nodeName == 'TABLE') {
          while (tr.hasChildNodes()) {
            tr.removeChild( tr.lastChild );
          }
        tr.parentNode.removeChild( tr );
        }
      } else {
        alert( 'Specified document element is not a TR. id=' + id );
      }
    } else {
      alert( 'Specified document element is not found. id=' + id );
    }
  }

  removeRow('nodataadded');

  var characteristics = document.getElementById('char-search');
  var char_criteria = document.getElementsByName('char-criteria');
  var table = document.getElementById('characteristics-table');

  var rowCount = table.rows.length;
  var row = table.insertRow(rowCount);
  row.className = 'govuk-table__row';
  var intialrow = document.getElementById('nodataadded');

  var valueCell = row.insertCell(0);
  valueCell.innerHTML = characteristics.value;
  valueCell.id = 'characteristics-' + characteristics.value;
  valueCell.className = 'govuk-table__cell';

  var valueCell = row.insertCell(1);
  valueCell.innerHTML = char_criteria.value;
  valueCell.id = 'char-criteria-' + char_criteria.value;
  valueCell.className = 'govuk-table__cell';

  var actionCell = row.insertCell(2);
  actionCell.innerHTML = '<a class="govuk-link" data-module="govuk-link" onclick="javascript:removeRow(' + rowCount + ');">Remove</a>';
  actionCell.className = 'govuk-table__cell';
  characteristics.value = '';

}

function removeRow(index) {
  var table = document.getElementById('characteristics-table');
  table.deleteRow(index);
}
</script>




    </div>


{% endblock %}
